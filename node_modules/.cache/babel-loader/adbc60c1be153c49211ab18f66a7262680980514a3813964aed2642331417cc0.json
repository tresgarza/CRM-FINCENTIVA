{"ast":null,"code":"import React,{useEffect,useState}from'react';import{XMarkIcon}from'@heroicons/react/24/outline';// Map NotificationType to basic types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const mapNotificationTypeToBasic=type=>{switch(type){case'info':case'new_application':case'new_message':return'info';case'success':case'approval_required':case'application_status_updated':return'success';case'warning':return'warning';case'error':case'application_comment':return'error';default:return'info';}};const NotificationPopup=_ref=>{let{title,message,type='info',duration=5000,// Por defecto, 5 segundos\nonClose,playSound=true,soundType='notification'}=_ref;const[isVisible,setIsVisible]=useState(true);const[exiting,setExiting]=useState(false);// Configurar el auto-cierre\nuseEffect(()=>{if(duration>0){const timer=setTimeout(()=>{closeNotification();},duration);return()=>clearTimeout(timer);}},[duration]);// Reproducir sonido de notificación\nuseEffect(()=>{if(playSound){const audio=new Audio();switch(soundType){case'notification':audio.src='/sounds/notification.mp3';break;case'alert':audio.src='/sounds/alert.mp3';break;case'approval':audio.src='/sounds/approval.mp3';break;default:audio.src='/sounds/notification.mp3';}audio.play().catch(err=>{console.error('Error al reproducir sonido:',err);});}},[playSound,soundType]);const closeNotification=()=>{setExiting(true);// Agregar un pequeño retraso para la animación de salida\nsetTimeout(()=>{setIsVisible(false);if(onClose)onClose();},300);};if(!isVisible)return null;// Mapeo de estilos según el tipo\nconst typeStyles={info:{bg:'bg-blue-50',border:'border-blue-200',text:'text-blue-800',title:'text-blue-900'},success:{bg:'bg-green-50',border:'border-green-200',text:'text-green-800',title:'text-green-900'},warning:{bg:'bg-yellow-50',border:'border-yellow-200',text:'text-yellow-800',title:'text-yellow-900'},error:{bg:'bg-red-50',border:'border-red-200',text:'text-red-800',title:'text-red-900'}};// Map complex notification types to the basic ones\nconst basicType=mapNotificationTypeToBasic(type);// Use the mapped type to get styles\nconst styles=typeStyles[basicType]||typeStyles.info;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-5 right-5 z-50 max-w-md w-full animate-popup\",children:/*#__PURE__*/_jsx(\"div\",{className:`${styles.bg} ${styles.border} ${styles.text} rounded-lg shadow-lg p-4 border ${exiting?'animate-popup-exit':'animate-popup-entry'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:`text-base font-semibold ${styles.title}`,children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm\",children:message})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeNotification,className:\"flex-shrink-0 ml-2 text-gray-400 hover:text-gray-500 focus:outline-none\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-5 w-5\"})})]})})});};export default NotificationPopup;","map":{"version":3,"names":["React","useEffect","useState","XMarkIcon","jsx","_jsx","jsxs","_jsxs","mapNotificationTypeToBasic","type","NotificationPopup","_ref","title","message","duration","onClose","playSound","soundType","isVisible","setIsVisible","exiting","setExiting","timer","setTimeout","closeNotification","clearTimeout","audio","Audio","src","play","catch","err","console","error","typeStyles","info","bg","border","text","success","warning","basicType","styles","className","children","onClick"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/components/ui/NotificationPopup.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { XMarkIcon } from '@heroicons/react/24/outline';\n\n// Map NotificationType to basic types\nconst mapNotificationTypeToBasic = (type: string): 'info' | 'success' | 'warning' | 'error' => {\n  switch (type) {\n    case 'info':\n    case 'new_application':\n    case 'new_message':\n      return 'info';\n    case 'success':\n    case 'approval_required':\n    case 'application_status_updated':\n      return 'success';\n    case 'warning':\n      return 'warning';\n    case 'error':\n    case 'application_comment':\n      return 'error';\n    default:\n      return 'info';\n  }\n};\n\ninterface NotificationPopupProps {\n  title: string;\n  message: string;\n  type?: 'info' | 'success' | 'warning' | 'error' | string;\n  duration?: number; // Duración en milisegundos\n  onClose?: () => void;\n  playSound?: boolean;\n  soundType?: 'notification' | 'alert' | 'approval'; // Diferentes tipos de sonido\n}\n\nconst NotificationPopup: React.FC<NotificationPopupProps> = ({\n  title,\n  message,\n  type = 'info',\n  duration = 5000, // Por defecto, 5 segundos\n  onClose,\n  playSound = true,\n  soundType = 'notification'\n}) => {\n  const [isVisible, setIsVisible] = useState(true);\n  const [exiting, setExiting] = useState(false);\n\n  // Configurar el auto-cierre\n  useEffect(() => {\n    if (duration > 0) {\n      const timer = setTimeout(() => {\n        closeNotification();\n      }, duration);\n      return () => clearTimeout(timer);\n    }\n  }, [duration]);\n\n  // Reproducir sonido de notificación\n  useEffect(() => {\n    if (playSound) {\n      const audio = new Audio();\n      \n      switch (soundType) {\n        case 'notification':\n          audio.src = '/sounds/notification.mp3';\n          break;\n        case 'alert':\n          audio.src = '/sounds/alert.mp3';\n          break;\n        case 'approval':\n          audio.src = '/sounds/approval.mp3';\n          break;\n        default:\n          audio.src = '/sounds/notification.mp3';\n      }\n      \n      audio.play().catch(err => {\n        console.error('Error al reproducir sonido:', err);\n      });\n    }\n  }, [playSound, soundType]);\n\n  const closeNotification = () => {\n    setExiting(true);\n    // Agregar un pequeño retraso para la animación de salida\n    setTimeout(() => {\n      setIsVisible(false);\n      if (onClose) onClose();\n    }, 300);\n  };\n\n  if (!isVisible) return null;\n\n  // Mapeo de estilos según el tipo\n  const typeStyles = {\n    info: {\n      bg: 'bg-blue-50',\n      border: 'border-blue-200',\n      text: 'text-blue-800',\n      title: 'text-blue-900'\n    },\n    success: {\n      bg: 'bg-green-50',\n      border: 'border-green-200',\n      text: 'text-green-800',\n      title: 'text-green-900'\n    },\n    warning: {\n      bg: 'bg-yellow-50',\n      border: 'border-yellow-200',\n      text: 'text-yellow-800',\n      title: 'text-yellow-900'\n    },\n    error: {\n      bg: 'bg-red-50',\n      border: 'border-red-200',\n      text: 'text-red-800',\n      title: 'text-red-900'\n    }\n  };\n\n  // Map complex notification types to the basic ones\n  const basicType = mapNotificationTypeToBasic(type);\n  \n  // Use the mapped type to get styles\n  const styles = typeStyles[basicType] || typeStyles.info;\n\n  return (\n    <div className=\"fixed top-5 right-5 z-50 max-w-md w-full animate-popup\">\n      <div\n        className={`${styles.bg} ${styles.border} ${styles.text} rounded-lg shadow-lg p-4 border ${\n          exiting ? 'animate-popup-exit' : 'animate-popup-entry'\n        }`}\n      >\n        <div className=\"flex justify-between items-start\">\n          <div className=\"flex-1\">\n            <h3 className={`text-base font-semibold ${styles.title}`}>{title}</h3>\n            <div className=\"mt-1 text-sm\">{message}</div>\n          </div>\n          <button\n            onClick={closeNotification}\n            className=\"flex-shrink-0 ml-2 text-gray-400 hover:text-gray-500 focus:outline-none\"\n          >\n            <XMarkIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationPopup; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}