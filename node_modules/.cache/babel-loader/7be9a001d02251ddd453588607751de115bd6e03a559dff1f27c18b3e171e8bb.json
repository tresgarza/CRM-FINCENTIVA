{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { ListCollection } from '@zag-js/collection';\nimport { ref, createMachine, guards } from '@zag-js/core';\nimport { createScope, query, dataAttr, ariaAttr, isComposingEvent, getEventKey, isLeftClick, isDownloadingEvent, isOpeningInNewTab, isContextMenuEvent, clickIfLink, observeChildren, raf, observeAttributes, scrollIntoView, isAnchorElement } from '@zag-js/dom-query';\nimport { getPlacementStyles, getPlacement } from '@zag-js/popper';\nimport { ariaHidden } from '@zag-js/aria-hidden';\nimport { trackDismissableElement } from '@zag-js/dismissable';\nimport { compact, isBoolean, match, isArray, isEqual, addOrRemove } from '@zag-js/utils';\n\n// src/combobox.anatomy.ts\nvar anatomy = createAnatomy(\"combobox\").parts(\"root\", \"clearTrigger\", \"content\", \"control\", \"input\", \"item\", \"itemGroup\", \"itemGroupLabel\", \"itemIndicator\", \"itemText\", \"label\", \"list\", \"positioner\", \"trigger\");\nvar parts = anatomy.build();\nvar collection = options => {\n  return ref(new ListCollection(options));\n};\ncollection.empty = () => {\n  return ref(new ListCollection({\n    items: []\n  }));\n};\nvar dom = createScope({\n  getRootId: ctx => ctx.ids?.root ?? `combobox:${ctx.id}`,\n  getLabelId: ctx => ctx.ids?.label ?? `combobox:${ctx.id}:label`,\n  getControlId: ctx => ctx.ids?.control ?? `combobox:${ctx.id}:control`,\n  getInputId: ctx => ctx.ids?.input ?? `combobox:${ctx.id}:input`,\n  getContentId: ctx => ctx.ids?.content ?? `combobox:${ctx.id}:content`,\n  getPositionerId: ctx => ctx.ids?.positioner ?? `combobox:${ctx.id}:popper`,\n  getTriggerId: ctx => ctx.ids?.trigger ?? `combobox:${ctx.id}:toggle-btn`,\n  getClearTriggerId: ctx => ctx.ids?.clearTrigger ?? `combobox:${ctx.id}:clear-btn`,\n  getItemGroupId: (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `combobox:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `combobox:${ctx.id}:optgroup-label:${id}`,\n  getItemId: (ctx, id) => ctx.ids?.item?.(id) ?? `combobox:${ctx.id}:option:${id}`,\n  getContentEl: ctx => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEl: ctx => dom.getById(ctx, dom.getInputId(ctx)),\n  getPositionerEl: ctx => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: ctx => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: ctx => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: ctx => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  getHighlightedItemEl: ctx => {\n    const value = ctx.highlightedValue;\n    if (value == null) return;\n    const selector = `[role=option][data-value=\"${CSS.escape(value)}\"`;\n    return query(dom.getContentEl(ctx), selector);\n  },\n  focusInputEl: ctx => {\n    const inputEl = dom.getInputEl(ctx);\n    if (dom.isActiveElement(ctx, inputEl)) return;\n    inputEl?.focus({\n      preventScroll: true\n    });\n  },\n  focusTriggerEl: ctx => {\n    const triggerEl = dom.getTriggerEl(ctx);\n    if (dom.isActiveElement(ctx, triggerEl)) return;\n    triggerEl?.focus({\n      preventScroll: true\n    });\n  }\n});\n\n// src/combobox.connect.ts\nfunction connect(state, send, normalize) {\n  const translations = state.context.translations;\n  const collection2 = state.context.collection;\n  const disabled = state.context.disabled;\n  const interactive = state.context.isInteractive;\n  const invalid = state.context.invalid;\n  const readOnly = state.context.readOnly;\n  const open = state.hasTag(\"open\");\n  const focused = state.hasTag(\"focused\");\n  const composite = state.context.composite;\n  const highlightedValue = state.context.highlightedValue;\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  function getItemState(props) {\n    const disabled2 = collection2.getItemDisabled(props.item);\n    const value = collection2.getItemValue(props.item);\n    return {\n      value,\n      disabled: Boolean(disabled2 || disabled2),\n      highlighted: highlightedValue === value,\n      selected: state.context.value.includes(value)\n    };\n  }\n  return {\n    focused,\n    open,\n    inputValue: state.context.inputValue,\n    highlightedValue,\n    highlightedItem: state.context.highlightedItem,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    hasSelectedItems: state.context.hasSelectedItems,\n    selectedItems: state.context.selectedItems,\n    collection: state.context.collection,\n    multiple: !!state.context.multiple,\n    disabled: !!disabled,\n    syncSelectedItems() {\n      send({\n        type: \"SELECTED_ITEMS.SYNC\"\n      });\n    },\n    reposition(options = {}) {\n      send({\n        type: \"POSITIONING.SET\",\n        options\n      });\n    },\n    setCollection(collection3) {\n      send({\n        type: \"COLLECTION.SET\",\n        value: collection3\n      });\n    },\n    setHighlightValue(value) {\n      send({\n        type: \"HIGHLIGHTED_VALUE.SET\",\n        value\n      });\n    },\n    selectValue(value) {\n      send({\n        type: \"ITEM.SELECT\",\n        value\n      });\n    },\n    setValue(value) {\n      send({\n        type: \"VALUE.SET\",\n        value\n      });\n    },\n    setInputValue(value) {\n      send({\n        type: \"INPUT_VALUE.SET\",\n        value\n      });\n    },\n    clearValue(value) {\n      if (value != null) {\n        send({\n          type: \"ITEM.CLEAR\",\n          value\n        });\n      } else {\n        send(\"VALUE.CLEAR\");\n      }\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    setOpen(nextOpen) {\n      if (nextOpen === open) return;\n      send(nextOpen ? \"OPEN\" : \"CLOSE\");\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        htmlFor: dom.getInputId(state.context),\n        id: dom.getLabelId(state.context),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        onClick(event) {\n          if (composite) return;\n          event.preventDefault();\n          dom.getTriggerEl(state.context)?.focus({\n            preventScroll: true\n          });\n        }\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid)\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: popperStyles.floating\n      });\n    },\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        name: state.context.name,\n        form: state.context.form,\n        disabled,\n        autoFocus: state.context.autoFocus,\n        required: state.context.required,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"none\",\n        spellCheck: \"false\",\n        readOnly,\n        placeholder: state.context.placeholder,\n        id: dom.getInputId(state.context),\n        type: \"text\",\n        role: \"combobox\",\n        defaultValue: state.context.inputValue,\n        \"aria-autocomplete\": state.context.autoComplete ? \"both\" : \"list\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-activedescendant\": highlightedValue ? dom.getItemId(state.context, highlightedValue) : void 0,\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (!state.context.openOnClick) return;\n          if (!interactive) return;\n          send(\"INPUT.CLICK\");\n        },\n        onFocus() {\n          if (disabled) return;\n          send(\"INPUT.FOCUS\");\n        },\n        onBlur() {\n          if (disabled) return;\n          send(\"INPUT.BLUR\");\n        },\n        onChange(event) {\n          send({\n            type: \"INPUT.CHANGE\",\n            value: event.currentTarget.value\n          });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          if (event.ctrlKey || event.shiftKey || isComposingEvent(event)) return;\n          const openOnKeyPress = state.context.openOnKeyPress;\n          const isModifierKey = event.ctrlKey || event.metaKey || event.shiftKey;\n          const keypress = true;\n          const keymap = {\n            ArrowDown(event2) {\n              if (!openOnKeyPress && !open) return;\n              send({\n                type: event2.altKey ? \"OPEN\" : \"INPUT.ARROW_DOWN\",\n                keypress\n              });\n              event2.preventDefault();\n            },\n            ArrowUp() {\n              if (!openOnKeyPress && !open) return;\n              send({\n                type: event.altKey ? \"CLOSE\" : \"INPUT.ARROW_UP\",\n                keypress\n              });\n              event.preventDefault();\n            },\n            Home(event2) {\n              if (isModifierKey) return;\n              send({\n                type: \"INPUT.HOME\",\n                keypress\n              });\n              if (open) {\n                event2.preventDefault();\n              }\n            },\n            End(event2) {\n              if (isModifierKey) return;\n              send({\n                type: \"INPUT.END\",\n                keypress\n              });\n              if (open) {\n                event2.preventDefault();\n              }\n            },\n            Enter(event2) {\n              send({\n                type: \"INPUT.ENTER\",\n                keypress\n              });\n              if (open) {\n                event2.preventDefault();\n              }\n              const itemEl = dom.getHighlightedItemEl(state.context);\n              if (isAnchorElement(itemEl)) {\n                state.context.navigate({\n                  value: state.context.highlightedValue,\n                  node: itemEl\n                });\n              }\n            },\n            Escape() {\n              send({\n                type: \"INPUT.ESCAPE\",\n                keypress\n              });\n              event.preventDefault();\n            }\n          };\n          const key = getEventKey(event, state.context);\n          const exec = keymap[key];\n          exec?.(event);\n        }\n      });\n    },\n    getTriggerProps(props = {}) {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        \"aria-haspopup\": composite ? \"listbox\" : \"dialog\",\n        type: \"button\",\n        tabIndex: props.focusable ? void 0 : -1,\n        \"aria-label\": translations.triggerLabel,\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-controls\": open ? dom.getContentId(state.context) : void 0,\n        disabled,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focusable\": dataAttr(props.focusable),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        onFocus() {\n          if (!props.focusable) return;\n          send({\n            type: \"INPUT.FOCUS\",\n            src: \"trigger\"\n          });\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          if (!isLeftClick(event)) return;\n          send(\"TRIGGER.CLICK\");\n        },\n        onPointerDown(event) {\n          if (!interactive) return;\n          if (event.pointerType === \"touch\") return;\n          event.preventDefault();\n          queueMicrotask(() => {\n            dom.getInputEl(state.context)?.focus({\n              preventScroll: true\n            });\n          });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (composite) return;\n          const keyMap = {\n            ArrowDown() {\n              send({\n                type: \"INPUT.ARROW_DOWN\",\n                src: \"trigger\"\n              });\n            },\n            ArrowUp() {\n              send({\n                type: \"INPUT.ARROW_UP\",\n                src: \"trigger\"\n              });\n            }\n          };\n          const key = getEventKey(event, state.context);\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context),\n        role: !composite ? \"dialog\" : \"listbox\",\n        tabIndex: -1,\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": state.context.currentPlacement,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.multiple && composite ? true : void 0,\n        onPointerDown(event) {\n          event.preventDefault();\n        }\n      });\n    },\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        role: !composite ? \"listbox\" : void 0,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.multiple && !composite ? true : void 0\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getClearTriggerId(state.context),\n        type: \"button\",\n        tabIndex: -1,\n        disabled,\n        \"data-invalid\": dataAttr(invalid),\n        \"aria-label\": translations.clearTriggerLabel,\n        \"aria-controls\": dom.getInputId(state.context),\n        hidden: !state.context.value.length,\n        onPointerDown(event) {\n          event.preventDefault();\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          send({\n            type: \"VALUE.CLEAR\",\n            src: \"clear-trigger\"\n          });\n        }\n      });\n    },\n    getItemState,\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      const value = itemState.value;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, value),\n        role: \"option\",\n        tabIndex: -1,\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"aria-selected\": ariaAttr(itemState.highlighted),\n        \"aria-disabled\": ariaAttr(itemState.disabled),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-value\": itemState.value,\n        onPointerMove() {\n          if (itemState.disabled) return;\n          if (itemState.highlighted) return;\n          send({\n            type: \"ITEM.POINTER_MOVE\",\n            value\n          });\n        },\n        onPointerLeave() {\n          if (props.persistFocus) return;\n          if (itemState.disabled) return;\n          const mouseMoved = state.previousEvent.type.includes(\"POINTER\");\n          if (!mouseMoved) return;\n          send({\n            type: \"ITEM.POINTER_LEAVE\",\n            value\n          });\n        },\n        onClick(event) {\n          if (isDownloadingEvent(event)) return;\n          if (isOpeningInNewTab(event)) return;\n          if (isContextMenuEvent(event)) return;\n          if (itemState.disabled) return;\n          send({\n            type: \"ITEM.CLICK\",\n            src: \"click\",\n            value\n          });\n        }\n      });\n    },\n    getItemTextProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted)\n      });\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected\n      });\n    },\n    getItemGroupProps(props) {\n      const {\n        id\n      } = props;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id)\n      });\n    },\n    getItemGroupLabelProps(props) {\n      const {\n        htmlFor\n      } = props;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupLabelId(state.context, htmlFor),\n        role: \"group\"\n      });\n    }\n  };\n}\nvar {\n  and,\n  not\n} = guards;\nfunction machine(userContext) {\n  const ctx = compact(userContext);\n  return createMachine({\n    id: \"combobox\",\n    initial: ctx.open ? \"suggesting\" : \"idle\",\n    context: {\n      loopFocus: true,\n      openOnClick: false,\n      value: [],\n      highlightedValue: null,\n      inputValue: \"\",\n      allowCustomValue: false,\n      closeOnSelect: !ctx.multiple,\n      inputBehavior: \"none\",\n      selectionBehavior: \"replace\",\n      openOnKeyPress: true,\n      openOnChange: true,\n      composite: true,\n      readOnly: false,\n      disabled: false,\n      navigate({\n        node\n      }) {\n        clickIfLink(node);\n      },\n      ...ctx,\n      highlightedItem: null,\n      selectedItems: [],\n      valueAsString: \"\",\n      collection: ctx.collection ?? collection.empty(),\n      positioning: {\n        placement: \"bottom\",\n        sameWidth: true,\n        ...ctx.positioning\n      },\n      translations: {\n        triggerLabel: \"Toggle suggestions\",\n        clearTriggerLabel: \"Clear value\",\n        ...ctx.translations\n      }\n    },\n    created: [\"syncInitialValues\", \"syncSelectionBehavior\"],\n    computed: {\n      isInputValueEmpty: ctx2 => ctx2.inputValue.length === 0,\n      isInteractive: ctx2 => !(ctx2.readOnly || ctx2.disabled),\n      autoComplete: ctx2 => ctx2.inputBehavior === \"autocomplete\",\n      autoHighlight: ctx2 => ctx2.inputBehavior === \"autohighlight\",\n      hasSelectedItems: ctx2 => ctx2.value.length > 0\n    },\n    watch: {\n      value: [\"syncSelectedItems\"],\n      inputValue: [\"syncInputValue\"],\n      highlightedValue: [\"syncHighlightedItem\", \"autofillInputValue\"],\n      multiple: [\"syncSelectionBehavior\"],\n      open: [\"toggleVisibility\"]\n    },\n    on: {\n      \"SELECTED_ITEMS.SYNC\": {\n        actions: [\"syncSelectedItems\"]\n      },\n      \"HIGHLIGHTED_VALUE.SET\": {\n        actions: [\"setHighlightedItem\"]\n      },\n      \"ITEM.SELECT\": {\n        actions: [\"selectItem\"]\n      },\n      \"ITEM.CLEAR\": {\n        actions: [\"clearItem\"]\n      },\n      \"VALUE.SET\": {\n        actions: [\"setSelectedItems\"]\n      },\n      \"INPUT_VALUE.SET\": {\n        actions: \"setInputValue\"\n      },\n      \"COLLECTION.SET\": {\n        actions: [\"setCollection\"]\n      },\n      \"POSITIONING.SET\": {\n        actions: [\"reposition\"]\n      }\n    },\n    states: {\n      idle: {\n        tags: [\"idle\", \"closed\"],\n        entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n        on: {\n          \"CONTROLLED.OPEN\": {\n            target: \"interacting\"\n          },\n          \"TRIGGER.CLICK\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }],\n          \"INPUT.CLICK\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }],\n          \"INPUT.FOCUS\": {\n            target: \"focused\"\n          },\n          OPEN: [{\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"invokeOnOpen\"]\n          }],\n          \"VALUE.CLEAR\": {\n            target: \"focused\",\n            actions: [\"clearInputValue\", \"clearSelectedItems\", \"setInitialFocus\"]\n          }\n        }\n      },\n      focused: {\n        tags: [\"focused\", \"closed\"],\n        entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n        on: {\n          \"CONTROLLED.OPEN\": [{\n            guard: \"isChangeEvent\",\n            target: \"suggesting\"\n          }, {\n            target: \"interacting\"\n          }],\n          \"INPUT.CHANGE\": [{\n            guard: and(\"isOpenControlled\", \"openOnChange\"),\n            actions: [\"setInputValue\", \"invokeOnOpen\", \"highlightFirstItemIfNeeded\"]\n          }, {\n            guard: \"openOnChange\",\n            target: \"suggesting\",\n            actions: [\"setInputValue\", \"invokeOnOpen\", \"highlightFirstItemIfNeeded\"]\n          }, {\n            actions: \"setInputValue\"\n          }],\n          \"LAYER.INTERACT_OUTSIDE\": {\n            target: \"idle\"\n          },\n          \"INPUT.ESCAPE\": {\n            guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n            actions: \"revertInputValue\"\n          },\n          \"INPUT.BLUR\": {\n            target: \"idle\"\n          },\n          \"INPUT.CLICK\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }],\n          \"TRIGGER.CLICK\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n          }],\n          \"INPUT.ARROW_DOWN\": [\n          // == group 1 ==\n          {\n            guard: and(\"isOpenControlled\", \"autoComplete\"),\n            actions: [\"invokeOnOpen\"]\n          }, {\n            guard: \"autoComplete\",\n            target: \"interacting\",\n            actions: [\"invokeOnOpen\"]\n          },\n          // == group 2 ==\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"highlightFirstOrSelectedItem\", \"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"highlightFirstOrSelectedItem\", \"invokeOnOpen\"]\n          }],\n          \"INPUT.ARROW_UP\": [\n          // == group 1 ==\n          {\n            guard: \"autoComplete\",\n            target: \"interacting\",\n            actions: \"invokeOnOpen\"\n          }, {\n            guard: \"autoComplete\",\n            target: \"interacting\",\n            actions: \"invokeOnOpen\"\n          },\n          // == group 2 ==\n          {\n            target: \"interacting\",\n            actions: [\"highlightLastOrSelectedItem\", \"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"highlightLastOrSelectedItem\", \"invokeOnOpen\"]\n          }],\n          OPEN: [{\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          }, {\n            target: \"interacting\",\n            actions: [\"invokeOnOpen\"]\n          }],\n          \"VALUE.CLEAR\": {\n            actions: [\"clearInputValue\", \"clearSelectedItems\"]\n          }\n        }\n      },\n      interacting: {\n        tags: [\"open\", \"focused\"],\n        entry: [\"setInitialFocus\"],\n        activities: [\"scrollToHighlightedItem\", \"trackDismissableLayer\", \"computePlacement\", \"hideOtherElements\"],\n        on: {\n          \"CONTROLLED.CLOSE\": [{\n            guard: \"restoreFocus\",\n            target: \"focused\",\n            actions: [\"setFinalFocus\"]\n          }, {\n            target: \"idle\"\n          }],\n          \"INPUT.HOME\": {\n            actions: [\"highlightFirstItem\"]\n          },\n          \"INPUT.END\": {\n            actions: [\"highlightLastItem\"]\n          },\n          \"INPUT.ARROW_DOWN\": [{\n            guard: and(\"autoComplete\", \"isLastItemHighlighted\"),\n            actions: [\"clearHighlightedItem\", \"scrollContentToTop\"]\n          }, {\n            actions: [\"highlightNextItem\"]\n          }],\n          \"INPUT.ARROW_UP\": [{\n            guard: and(\"autoComplete\", \"isFirstItemHighlighted\"),\n            actions: \"clearHighlightedItem\"\n          }, {\n            actions: \"highlightPrevItem\"\n          }],\n          \"INPUT.ENTER\": [\n          // == group 1 ==\n          {\n            guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          }, {\n            guard: and(\"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n            target: \"focused\",\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          },\n          // == group 2 ==\n          {\n            guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n          }, {\n            guard: \"closeOnSelect\",\n            target: \"focused\",\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"setFinalFocus\"]\n          }, {\n            actions: [\"selectHighlightedItem\"]\n          }],\n          \"INPUT.CHANGE\": [{\n            guard: \"autoComplete\",\n            target: \"suggesting\",\n            actions: [\"setInputValue\", \"invokeOnOpen\"]\n          }, {\n            target: \"suggesting\",\n            actions: [\"clearHighlightedItem\", \"setInputValue\", \"invokeOnOpen\"]\n          }],\n          \"ITEM.POINTER_MOVE\": {\n            actions: [\"setHighlightedItem\"]\n          },\n          \"ITEM.POINTER_LEAVE\": {\n            actions: [\"clearHighlightedItem\"]\n          },\n          \"ITEM.CLICK\": [{\n            guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n            actions: [\"selectItem\", \"invokeOnClose\"]\n          }, {\n            guard: \"closeOnSelect\",\n            target: \"focused\",\n            actions: [\"selectItem\", \"invokeOnClose\", \"setFinalFocus\"]\n          }, {\n            actions: [\"selectItem\"]\n          }],\n          \"LAYER.ESCAPE\": [{\n            guard: and(\"isOpenControlled\", \"autoComplete\"),\n            actions: [\"syncInputValue\", \"invokeOnClose\"]\n          }, {\n            guard: \"autoComplete\",\n            target: \"focused\",\n            actions: [\"syncInputValue\", \"invokeOnClose\"]\n          }, {\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnClose\"\n          }, {\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"setFinalFocus\"]\n          }],\n          \"TRIGGER.CLICK\": [{\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnClose\"\n          }, {\n            target: \"focused\",\n            actions: \"invokeOnClose\"\n          }],\n          \"LAYER.INTERACT_OUTSIDE\": [\n          // == group 1 ==\n          {\n            guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"allowCustomValue\")),\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          }, {\n            guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n            target: \"idle\",\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          },\n          // == group 2 ==\n          {\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnClose\"\n          }, {\n            target: \"idle\",\n            actions: \"invokeOnClose\"\n          }],\n          CLOSE: [{\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          }, {\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"setFinalFocus\"]\n          }],\n          \"VALUE.CLEAR\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\"]\n          }, {\n            target: \"focused\",\n            actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\", \"setFinalFocus\"]\n          }]\n        }\n      },\n      suggesting: {\n        tags: [\"open\", \"focused\"],\n        activities: [\"trackDismissableLayer\", \"scrollToHighlightedItem\", \"computePlacement\", \"trackChildNodes\", \"hideOtherElements\"],\n        entry: [\"setInitialFocus\"],\n        on: {\n          \"CONTROLLED.CLOSE\": [{\n            guard: \"restoreFocus\",\n            target: \"focused\",\n            actions: [\"setFinalFocus\"]\n          }, {\n            target: \"idle\"\n          }],\n          CHILDREN_CHANGE: {\n            actions: [\"highlightFirstItem\"]\n          },\n          \"INPUT.ARROW_DOWN\": {\n            target: \"interacting\",\n            actions: [\"highlightNextItem\"]\n          },\n          \"INPUT.ARROW_UP\": {\n            target: \"interacting\",\n            actions: [\"highlightPrevItem\"]\n          },\n          \"INPUT.HOME\": {\n            target: \"interacting\",\n            actions: [\"highlightFirstItem\"]\n          },\n          \"INPUT.END\": {\n            target: \"interacting\",\n            actions: [\"highlightLastItem\"]\n          },\n          \"INPUT.ENTER\": [\n          // == group 1 ==\n          {\n            guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          }, {\n            guard: and(\"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n            target: \"focused\",\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          },\n          // == group 2 ==\n          {\n            guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n          }, {\n            guard: \"closeOnSelect\",\n            target: \"focused\",\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"setFinalFocus\"]\n          }, {\n            actions: [\"selectHighlightedItem\"]\n          }],\n          \"INPUT.CHANGE\": [{\n            guard: \"autoHighlight\",\n            actions: [\"setInputValue\"]\n          }, {\n            actions: [\"setInputValue\"]\n          }],\n          \"LAYER.ESCAPE\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          }, {\n            target: \"focused\",\n            actions: [\"invokeOnClose\"]\n          }],\n          \"ITEM.POINTER_MOVE\": {\n            target: \"interacting\",\n            actions: [\"setHighlightedItem\"]\n          },\n          \"ITEM.POINTER_LEAVE\": {\n            actions: [\"clearHighlightedItem\"]\n          },\n          \"LAYER.INTERACT_OUTSIDE\": [\n          // == group 1 ==\n          {\n            guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"allowCustomValue\")),\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          }, {\n            guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n            target: \"idle\",\n            actions: [\"revertInputValue\", \"invokeOnClose\"]\n          },\n          // == group 2 ==\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          }, {\n            target: \"idle\",\n            actions: [\"invokeOnClose\"]\n          }],\n          \"TRIGGER.CLICK\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          }, {\n            target: \"focused\",\n            actions: [\"invokeOnClose\"]\n          }],\n          \"ITEM.CLICK\": [{\n            guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n            actions: [\"selectItem\", \"invokeOnClose\"]\n          }, {\n            guard: \"closeOnSelect\",\n            target: \"focused\",\n            actions: [\"selectItem\", \"invokeOnClose\", \"setFinalFocus\"]\n          }, {\n            actions: [\"selectItem\"]\n          }],\n          CLOSE: [{\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          }, {\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"setFinalFocus\"]\n          }],\n          \"VALUE.CLEAR\": [{\n            guard: \"isOpenControlled\",\n            actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\"]\n          }, {\n            target: \"focused\",\n            actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\", \"setFinalFocus\"]\n          }]\n        }\n      }\n    }\n  }, {\n    guards: {\n      isInputValueEmpty: ctx2 => ctx2.isInputValueEmpty,\n      autoComplete: ctx2 => ctx2.autoComplete && !ctx2.multiple,\n      autoHighlight: ctx2 => ctx2.autoHighlight,\n      isFirstItemHighlighted: ctx2 => ctx2.collection.firstValue === ctx2.highlightedValue,\n      isLastItemHighlighted: ctx2 => ctx2.collection.lastValue === ctx2.highlightedValue,\n      isCustomValue: ctx2 => ctx2.inputValue !== ctx2.valueAsString,\n      allowCustomValue: ctx2 => !!ctx2.allowCustomValue,\n      hasHighlightedItem: ctx2 => ctx2.highlightedValue != null,\n      closeOnSelect: ctx2 => !!ctx2.closeOnSelect,\n      isOpenControlled: ctx2 => !!ctx2[\"open.controlled\"],\n      openOnChange: (ctx2, evt) => {\n        if (isBoolean(ctx2.openOnChange)) return ctx2.openOnChange;\n        return !!ctx2.openOnChange?.({\n          inputValue: evt.value\n        });\n      },\n      restoreFocus: (_ctx, evt) => evt.restoreFocus == null ? true : !!evt.restoreFocus,\n      isChangeEvent: (_ctx, evt) => evt.previousEvent?.type === \"INPUT.CHANGE\"\n    },\n    activities: {\n      trackDismissableLayer(ctx2, _evt, {\n        send\n      }) {\n        if (ctx2.disableLayer) return;\n        const contentEl = () => dom.getContentEl(ctx2);\n        return trackDismissableElement(contentEl, {\n          defer: true,\n          exclude: () => [dom.getInputEl(ctx2), dom.getTriggerEl(ctx2), dom.getClearTriggerEl(ctx2)],\n          onFocusOutside: ctx2.onFocusOutside,\n          onPointerDownOutside: ctx2.onPointerDownOutside,\n          onInteractOutside: ctx2.onInteractOutside,\n          onEscapeKeyDown(event) {\n            event.preventDefault();\n            event.stopPropagation();\n            send(\"LAYER.ESCAPE\");\n          },\n          onDismiss() {\n            send({\n              type: \"LAYER.INTERACT_OUTSIDE\",\n              restoreFocus: false\n            });\n          }\n        });\n      },\n      hideOtherElements(ctx2) {\n        return ariaHidden([dom.getInputEl(ctx2), dom.getContentEl(ctx2), dom.getTriggerEl(ctx2), dom.getClearTriggerEl(ctx2)]);\n      },\n      computePlacement(ctx2) {\n        const controlEl = () => dom.getControlEl(ctx2);\n        const positionerEl = () => dom.getPositionerEl(ctx2);\n        ctx2.currentPlacement = ctx2.positioning.placement;\n        return getPlacement(controlEl, positionerEl, {\n          ...ctx2.positioning,\n          defer: true,\n          onComplete(data) {\n            ctx2.currentPlacement = data.placement;\n          }\n        });\n      },\n      // in event the options are fetched (async), we still want to auto-highlight the first option\n      trackChildNodes(ctx2, _evt, {\n        send\n      }) {\n        if (!ctx2.autoHighlight) return;\n        const exec = () => send(\"CHILDREN_CHANGE\");\n        const contentEl = () => dom.getContentEl(ctx2);\n        return observeChildren(contentEl, {\n          callback: exec,\n          defer: true\n        });\n      },\n      scrollToHighlightedItem(ctx2, _evt, {\n        getState\n      }) {\n        const inputEl = dom.getInputEl(ctx2);\n        let cleanups = [];\n        const exec = immediate => {\n          const state = getState();\n          const pointer = state.event.type.includes(\"POINTER\");\n          if (pointer || !ctx2.highlightedValue) return;\n          const itemEl = dom.getHighlightedItemEl(ctx2);\n          const contentEl = dom.getContentEl(ctx2);\n          if (ctx2.scrollToIndexFn) {\n            const highlightedIndex = ctx2.collection.indexOf(ctx2.highlightedValue);\n            ctx2.scrollToIndexFn({\n              index: highlightedIndex,\n              immediate\n            });\n            return;\n          }\n          const rafCleanup2 = raf(() => {\n            scrollIntoView(itemEl, {\n              rootEl: contentEl,\n              block: \"nearest\"\n            });\n          });\n          cleanups.push(rafCleanup2);\n        };\n        const rafCleanup = raf(() => exec(true));\n        cleanups.push(rafCleanup);\n        const observerCleanup = observeAttributes(inputEl, {\n          attributes: [\"aria-activedescendant\"],\n          callback: () => exec(false)\n        });\n        cleanups.push(observerCleanup);\n        return () => {\n          cleanups.forEach(cleanup => cleanup());\n        };\n      }\n    },\n    actions: {\n      reposition(ctx2, evt) {\n        const controlEl = () => dom.getControlEl(ctx2);\n        const positionerEl = () => dom.getPositionerEl(ctx2);\n        getPlacement(controlEl, positionerEl, {\n          ...ctx2.positioning,\n          ...evt.options,\n          defer: true,\n          listeners: false,\n          onComplete(data) {\n            ctx2.currentPlacement = data.placement;\n          }\n        });\n      },\n      setHighlightedItem(ctx2, evt) {\n        if (evt.value == null) return;\n        set.highlightedValue(ctx2, evt.value);\n      },\n      clearHighlightedItem(ctx2) {\n        set.highlightedValue(ctx2, null, true);\n      },\n      selectHighlightedItem(ctx2) {\n        set.value(ctx2, ctx2.highlightedValue);\n        set.inputValue(ctx2, getInputValue(ctx2));\n      },\n      selectItem(ctx2, evt) {\n        if (evt.value == null) return;\n        set.value(ctx2, evt.value);\n        set.inputValue(ctx2, getInputValue(ctx2));\n      },\n      clearItem(ctx2, evt) {\n        if (evt.value == null) return;\n        const value = ctx2.value.filter(v => v !== evt.value);\n        set.value(ctx2, value);\n        set.inputValue(ctx2, getInputValue(ctx2));\n      },\n      setInitialFocus(ctx2) {\n        raf(() => {\n          dom.focusInputEl(ctx2);\n        });\n      },\n      setFinalFocus(ctx2) {\n        raf(() => {\n          const triggerEl = dom.getTriggerEl(ctx2);\n          if (triggerEl?.dataset.focusable == null) {\n            dom.focusInputEl(ctx2);\n          } else {\n            dom.focusTriggerEl(ctx2);\n          }\n        });\n      },\n      syncInputValue(ctx2) {\n        const inputEl = dom.getInputEl(ctx2);\n        if (!inputEl) return;\n        inputEl.value = ctx2.inputValue;\n        queueMicrotask(() => {\n          const {\n            selectionStart,\n            selectionEnd\n          } = inputEl;\n          if (Math.abs((selectionEnd ?? 0) - (selectionStart ?? 0)) !== 0) return;\n          if (selectionStart !== 0) return;\n          inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n        });\n      },\n      setInputValue(ctx2, evt) {\n        set.inputValue(ctx2, evt.value);\n      },\n      clearInputValue(ctx2) {\n        set.inputValue(ctx2, \"\");\n      },\n      revertInputValue(ctx2) {\n        const inputValue = match(ctx2.selectionBehavior, {\n          replace: ctx2.hasSelectedItems ? ctx2.valueAsString : \"\",\n          preserve: ctx2.inputValue,\n          clear: \"\"\n        });\n        set.inputValue(ctx2, inputValue);\n      },\n      syncInitialValues(ctx2) {\n        const selectedItems = ctx2.collection.findMany(ctx2.value);\n        const valueAsString = ctx2.collection.stringifyMany(ctx2.value);\n        ctx2.highlightedItem = ctx2.collection.find(ctx2.highlightedValue);\n        ctx2.selectedItems = selectedItems;\n        ctx2.valueAsString = valueAsString;\n        if (ctx2.inputValue.trim() || ctx2.multiple) return;\n        ctx2.inputValue = match(ctx2.selectionBehavior, {\n          preserve: ctx2.inputValue || valueAsString,\n          replace: valueAsString,\n          clear: \"\"\n        });\n      },\n      syncSelectionBehavior(ctx2) {\n        if (ctx2.multiple) {\n          ctx2.selectionBehavior = \"clear\";\n        }\n      },\n      setSelectedItems(ctx2, evt) {\n        if (!isArray(evt.value)) return;\n        set.value(ctx2, evt.value);\n        set.inputValue(ctx2, getInputValue(ctx2));\n      },\n      clearSelectedItems(ctx2) {\n        set.value(ctx2, []);\n        set.inputValue(ctx2, getInputValue(ctx2));\n      },\n      scrollContentToTop(ctx2) {\n        if (ctx2.scrollToIndexFn) {\n          ctx2.scrollToIndexFn({\n            index: 0,\n            immediate: true\n          });\n        } else {\n          const contentEl = dom.getContentEl(ctx2);\n          if (!contentEl) return;\n          contentEl.scrollTop = 0;\n        }\n      },\n      invokeOnOpen(ctx2) {\n        ctx2.onOpenChange?.({\n          open: true\n        });\n      },\n      invokeOnClose(ctx2) {\n        ctx2.onOpenChange?.({\n          open: false\n        });\n      },\n      highlightFirstItem(ctx2) {\n        raf(() => {\n          const value = ctx2.collection.firstValue;\n          set.highlightedValue(ctx2, value, true);\n        });\n      },\n      highlightFirstItemIfNeeded(ctx2) {\n        if (!ctx2.autoHighlight) return;\n        raf(() => {\n          const value = ctx2.collection.firstValue;\n          set.highlightedValue(ctx2, value);\n        });\n      },\n      highlightLastItem(ctx2) {\n        raf(() => {\n          const value = ctx2.collection.lastValue;\n          set.highlightedValue(ctx2, value);\n        });\n      },\n      highlightNextItem(ctx2) {\n        let value = null;\n        if (ctx2.highlightedValue) {\n          value = ctx2.collection.getNextValue(ctx2.highlightedValue);\n          if (!value && ctx2.loopFocus) value = ctx2.collection.firstValue;\n        } else {\n          value = ctx2.collection.firstValue;\n        }\n        set.highlightedValue(ctx2, value);\n      },\n      highlightPrevItem(ctx2) {\n        let value = null;\n        if (ctx2.highlightedValue) {\n          value = ctx2.collection.getPreviousValue(ctx2.highlightedValue);\n          if (!value && ctx2.loopFocus) value = ctx2.collection.lastValue;\n        } else {\n          value = ctx2.collection.lastValue;\n        }\n        set.highlightedValue(ctx2, value);\n      },\n      highlightFirstSelectedItem(ctx2) {\n        raf(() => {\n          const [value] = ctx2.collection.sort(ctx2.value);\n          set.highlightedValue(ctx2, value);\n        });\n      },\n      highlightFirstOrSelectedItem(ctx2) {\n        raf(() => {\n          let value = null;\n          if (ctx2.hasSelectedItems) {\n            value = ctx2.collection.sort(ctx2.value)[0];\n          } else {\n            value = ctx2.collection.firstValue;\n          }\n          set.highlightedValue(ctx2, value);\n        });\n      },\n      highlightLastOrSelectedItem(ctx2) {\n        raf(() => {\n          let value = null;\n          if (ctx2.hasSelectedItems) {\n            value = ctx2.collection.sort(ctx2.value)[0];\n          } else {\n            value = ctx2.collection.lastValue;\n          }\n          set.highlightedValue(ctx2, value);\n        });\n      },\n      autofillInputValue(ctx2, evt) {\n        const inputEl = dom.getInputEl(ctx2);\n        if (!ctx2.autoComplete || !inputEl || !evt.keypress) return;\n        const valueText = ctx2.collection.stringify(ctx2.highlightedValue);\n        raf(() => {\n          inputEl.value = valueText || ctx2.inputValue;\n        });\n      },\n      setCollection(ctx2, evt) {\n        ctx2.collection = evt.value;\n      },\n      syncSelectedItems(ctx2) {\n        sync.valueChange(ctx2);\n        set.inputValue(ctx2, getInputValue(ctx2));\n      },\n      syncHighlightedItem(ctx2) {\n        sync.highlightChange(ctx2);\n      },\n      toggleVisibility(ctx2, evt, {\n        send\n      }) {\n        send({\n          type: ctx2.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\",\n          previousEvent: evt\n        });\n      }\n    }\n  });\n}\nfunction getInputValue(ctx) {\n  return match(ctx.selectionBehavior, {\n    preserve: ctx.inputValue,\n    replace: ctx.valueAsString,\n    clear: \"\"\n  });\n}\nvar sync = {\n  valueChange: ctx => {\n    const prevSelectedItems = ctx.selectedItems;\n    ctx.selectedItems = ctx.value.map(v => {\n      const foundItem = prevSelectedItems.find(item => ctx.collection.getItemValue(item) === v);\n      if (foundItem) return foundItem;\n      return ctx.collection.find(v);\n    });\n    ctx.valueAsString = ctx.collection.stringifyItems(ctx.selectedItems);\n  },\n  highlightChange: ctx => {\n    ctx.highlightedItem = ctx.collection.find(ctx.highlightedValue);\n  }\n};\nvar invoke = {\n  valueChange: ctx => {\n    sync.valueChange(ctx);\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: Array.from(ctx.selectedItems)\n    });\n  },\n  highlightChange: ctx => {\n    sync.highlightChange(ctx);\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highlightedItem: ctx.highlightedItem\n    });\n  },\n  inputChange: ctx => {\n    ctx.onInputValueChange?.({\n      inputValue: ctx.inputValue\n    });\n  }\n};\nvar set = {\n  value: (ctx, value, force = false) => {\n    if (isEqual(ctx.value, value)) return;\n    if (value == null && !force) return;\n    if (value == null && force) {\n      ctx.value = [];\n      invoke.valueChange(ctx);\n      return;\n    }\n    if (isArray(value)) {\n      ctx.value = value;\n    } else if (value != null) {\n      ctx.value = ctx.multiple ? addOrRemove(ctx.value, value) : [value];\n    }\n    invoke.valueChange(ctx);\n  },\n  highlightedValue: (ctx, value, force = false) => {\n    if (isEqual(ctx.highlightedValue, value)) return;\n    if (!value && !force) return;\n    ctx.highlightedValue = value || null;\n    invoke.highlightChange(ctx);\n  },\n  inputValue: (ctx, value) => {\n    if (isEqual(ctx.inputValue, value)) return;\n    ctx.inputValue = value;\n    invoke.inputChange(ctx);\n  }\n};\nexport { anatomy, collection, connect, machine };","map":{"version":3,"names":["createAnatomy","ListCollection","ref","createMachine","guards","createScope","query","dataAttr","ariaAttr","isComposingEvent","getEventKey","isLeftClick","isDownloadingEvent","isOpeningInNewTab","isContextMenuEvent","clickIfLink","observeChildren","raf","observeAttributes","scrollIntoView","isAnchorElement","getPlacementStyles","getPlacement","ariaHidden","trackDismissableElement","compact","isBoolean","match","isArray","isEqual","addOrRemove","anatomy","parts","build","collection","options","empty","items","dom","getRootId","ctx","ids","root","id","getLabelId","label","getControlId","control","getInputId","input","getContentId","content","getPositionerId","positioner","getTriggerId","trigger","getClearTriggerId","clearTrigger","getItemGroupId","itemGroup","getItemGroupLabelId","itemGroupLabel","getItemId","item","getContentEl","getById","getInputEl","getPositionerEl","getControlEl","getTriggerEl","getClearTriggerEl","getHighlightedItemEl","value","highlightedValue","selector","CSS","escape","focusInputEl","inputEl","isActiveElement","focus","preventScroll","focusTriggerEl","triggerEl","connect","state","send","normalize","translations","context","collection2","disabled","interactive","isInteractive","invalid","readOnly","open","hasTag","focused","composite","popperStyles","positioning","placement","currentPlacement","getItemState","props","disabled2","getItemDisabled","getItemValue","Boolean","highlighted","selected","includes","inputValue","highlightedItem","valueAsString","hasSelectedItems","selectedItems","multiple","syncSelectedItems","type","reposition","setCollection","collection3","setHighlightValue","selectValue","setValue","setInputValue","clearValue","setOpen","nextOpen","getRootProps","element","attrs","dir","getLabelProps","htmlFor","onClick","event","preventDefault","getControlProps","getPositionerProps","style","floating","getInputProps","name","form","autoFocus","required","autoComplete","autoCorrect","autoCapitalize","spellCheck","placeholder","role","defaultValue","defaultPrevented","openOnClick","onFocus","onBlur","onChange","currentTarget","onKeyDown","ctrlKey","shiftKey","openOnKeyPress","isModifierKey","metaKey","keypress","keymap","ArrowDown","event2","altKey","ArrowUp","Home","End","Enter","itemEl","navigate","node","Escape","key","exec","getTriggerProps","button","tabIndex","focusable","triggerLabel","src","onPointerDown","pointerType","queueMicrotask","keyMap","getContentProps","hidden","getListProps","list","getClearTriggerProps","clearTriggerLabel","length","getItemProps","itemState","onPointerMove","onPointerLeave","persistFocus","mouseMoved","previousEvent","getItemTextProps","itemText","getItemIndicatorProps","itemIndicator","getItemGroupProps","getItemGroupLabelProps","and","not","machine","userContext","initial","loopFocus","allowCustomValue","closeOnSelect","inputBehavior","selectionBehavior","openOnChange","sameWidth","created","computed","isInputValueEmpty","ctx2","autoHighlight","watch","on","actions","states","idle","tags","entry","target","guard","OPEN","interacting","activities","CLOSE","suggesting","CHILDREN_CHANGE","isFirstItemHighlighted","firstValue","isLastItemHighlighted","lastValue","isCustomValue","hasHighlightedItem","isOpenControlled","evt","restoreFocus","_ctx","isChangeEvent","trackDismissableLayer","_evt","disableLayer","contentEl","defer","exclude","onFocusOutside","onPointerDownOutside","onInteractOutside","onEscapeKeyDown","stopPropagation","onDismiss","hideOtherElements","computePlacement","controlEl","positionerEl","onComplete","data","trackChildNodes","callback","scrollToHighlightedItem","getState","cleanups","immediate","pointer","scrollToIndexFn","highlightedIndex","indexOf","index","rafCleanup2","rootEl","block","push","rafCleanup","observerCleanup","attributes","forEach","cleanup","listeners","setHighlightedItem","set","clearHighlightedItem","selectHighlightedItem","getInputValue","selectItem","clearItem","filter","v","setInitialFocus","setFinalFocus","dataset","syncInputValue","selectionStart","selectionEnd","Math","abs","setSelectionRange","clearInputValue","revertInputValue","replace","preserve","clear","syncInitialValues","findMany","stringifyMany","find","trim","syncSelectionBehavior","setSelectedItems","clearSelectedItems","scrollContentToTop","scrollTop","invokeOnOpen","onOpenChange","invokeOnClose","highlightFirstItem","highlightFirstItemIfNeeded","highlightLastItem","highlightNextItem","getNextValue","highlightPrevItem","getPreviousValue","highlightFirstSelectedItem","sort","highlightFirstOrSelectedItem","highlightLastOrSelectedItem","autofillInputValue","valueText","stringify","sync","valueChange","syncHighlightedItem","highlightChange","toggleVisibility","prevSelectedItems","map","foundItem","stringifyItems","invoke","onValueChange","Array","from","onHighlightChange","inputChange","onInputValueChange","force"],"sources":["/Users/diegogg98/NEW CRM MAR18/node_modules/@zag-js/combobox/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { ListCollection } from '@zag-js/collection';\nimport { ref, createMachine, guards } from '@zag-js/core';\nimport { createScope, query, dataAttr, ariaAttr, isComposingEvent, getEventKey, isLeftClick, isDownloadingEvent, isOpeningInNewTab, isContextMenuEvent, clickIfLink, observeChildren, raf, observeAttributes, scrollIntoView, isAnchorElement } from '@zag-js/dom-query';\nimport { getPlacementStyles, getPlacement } from '@zag-js/popper';\nimport { ariaHidden } from '@zag-js/aria-hidden';\nimport { trackDismissableElement } from '@zag-js/dismissable';\nimport { compact, isBoolean, match, isArray, isEqual, addOrRemove } from '@zag-js/utils';\n\n// src/combobox.anatomy.ts\nvar anatomy = createAnatomy(\"combobox\").parts(\n  \"root\",\n  \"clearTrigger\",\n  \"content\",\n  \"control\",\n  \"input\",\n  \"item\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"label\",\n  \"list\",\n  \"positioner\",\n  \"trigger\"\n);\nvar parts = anatomy.build();\nvar collection = (options) => {\n  return ref(new ListCollection(options));\n};\ncollection.empty = () => {\n  return ref(new ListCollection({ items: [] }));\n};\nvar dom = createScope({\n  getRootId: (ctx) => ctx.ids?.root ?? `combobox:${ctx.id}`,\n  getLabelId: (ctx) => ctx.ids?.label ?? `combobox:${ctx.id}:label`,\n  getControlId: (ctx) => ctx.ids?.control ?? `combobox:${ctx.id}:control`,\n  getInputId: (ctx) => ctx.ids?.input ?? `combobox:${ctx.id}:input`,\n  getContentId: (ctx) => ctx.ids?.content ?? `combobox:${ctx.id}:content`,\n  getPositionerId: (ctx) => ctx.ids?.positioner ?? `combobox:${ctx.id}:popper`,\n  getTriggerId: (ctx) => ctx.ids?.trigger ?? `combobox:${ctx.id}:toggle-btn`,\n  getClearTriggerId: (ctx) => ctx.ids?.clearTrigger ?? `combobox:${ctx.id}:clear-btn`,\n  getItemGroupId: (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `combobox:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `combobox:${ctx.id}:optgroup-label:${id}`,\n  getItemId: (ctx, id) => ctx.ids?.item?.(id) ?? `combobox:${ctx.id}:option:${id}`,\n  getContentEl: (ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEl: (ctx) => dom.getById(ctx, dom.getInputId(ctx)),\n  getPositionerEl: (ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: (ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: (ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n  getHighlightedItemEl: (ctx) => {\n    const value = ctx.highlightedValue;\n    if (value == null) return;\n    const selector = `[role=option][data-value=\"${CSS.escape(value)}\"`;\n    return query(dom.getContentEl(ctx), selector);\n  },\n  focusInputEl: (ctx) => {\n    const inputEl = dom.getInputEl(ctx);\n    if (dom.isActiveElement(ctx, inputEl)) return;\n    inputEl?.focus({ preventScroll: true });\n  },\n  focusTriggerEl: (ctx) => {\n    const triggerEl = dom.getTriggerEl(ctx);\n    if (dom.isActiveElement(ctx, triggerEl)) return;\n    triggerEl?.focus({ preventScroll: true });\n  }\n});\n\n// src/combobox.connect.ts\nfunction connect(state, send, normalize) {\n  const translations = state.context.translations;\n  const collection2 = state.context.collection;\n  const disabled = state.context.disabled;\n  const interactive = state.context.isInteractive;\n  const invalid = state.context.invalid;\n  const readOnly = state.context.readOnly;\n  const open = state.hasTag(\"open\");\n  const focused = state.hasTag(\"focused\");\n  const composite = state.context.composite;\n  const highlightedValue = state.context.highlightedValue;\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement\n  });\n  function getItemState(props) {\n    const disabled2 = collection2.getItemDisabled(props.item);\n    const value = collection2.getItemValue(props.item);\n    return {\n      value,\n      disabled: Boolean(disabled2 || disabled2),\n      highlighted: highlightedValue === value,\n      selected: state.context.value.includes(value)\n    };\n  }\n  return {\n    focused,\n    open,\n    inputValue: state.context.inputValue,\n    highlightedValue,\n    highlightedItem: state.context.highlightedItem,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    hasSelectedItems: state.context.hasSelectedItems,\n    selectedItems: state.context.selectedItems,\n    collection: state.context.collection,\n    multiple: !!state.context.multiple,\n    disabled: !!disabled,\n    syncSelectedItems() {\n      send({ type: \"SELECTED_ITEMS.SYNC\" });\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options });\n    },\n    setCollection(collection3) {\n      send({ type: \"COLLECTION.SET\", value: collection3 });\n    },\n    setHighlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value });\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value });\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    setInputValue(value) {\n      send({ type: \"INPUT_VALUE.SET\", value });\n    },\n    clearValue(value) {\n      if (value != null) {\n        send({ type: \"ITEM.CLEAR\", value });\n      } else {\n        send(\"VALUE.CLEAR\");\n      }\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus();\n    },\n    setOpen(nextOpen) {\n      if (nextOpen === open) return;\n      send(nextOpen ? \"OPEN\" : \"CLOSE\");\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: state.context.dir,\n        id: dom.getRootId(state.context),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: state.context.dir,\n        htmlFor: dom.getInputId(state.context),\n        id: dom.getLabelId(state.context),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused),\n        onClick(event) {\n          if (composite) return;\n          event.preventDefault();\n          dom.getTriggerEl(state.context)?.focus({ preventScroll: true });\n        }\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: state.context.dir,\n        id: dom.getControlId(state.context),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid)\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: popperStyles.floating\n      });\n    },\n    getInputProps() {\n      return normalize.input({\n        ...parts.input.attrs,\n        dir: state.context.dir,\n        \"aria-invalid\": ariaAttr(invalid),\n        \"data-invalid\": dataAttr(invalid),\n        name: state.context.name,\n        form: state.context.form,\n        disabled,\n        autoFocus: state.context.autoFocus,\n        required: state.context.required,\n        autoComplete: \"off\",\n        autoCorrect: \"off\",\n        autoCapitalize: \"none\",\n        spellCheck: \"false\",\n        readOnly,\n        placeholder: state.context.placeholder,\n        id: dom.getInputId(state.context),\n        type: \"text\",\n        role: \"combobox\",\n        defaultValue: state.context.inputValue,\n        \"aria-autocomplete\": state.context.autoComplete ? \"both\" : \"list\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-activedescendant\": highlightedValue ? dom.getItemId(state.context, highlightedValue) : void 0,\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (!state.context.openOnClick) return;\n          if (!interactive) return;\n          send(\"INPUT.CLICK\");\n        },\n        onFocus() {\n          if (disabled) return;\n          send(\"INPUT.FOCUS\");\n        },\n        onBlur() {\n          if (disabled) return;\n          send(\"INPUT.BLUR\");\n        },\n        onChange(event) {\n          send({ type: \"INPUT.CHANGE\", value: event.currentTarget.value });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          if (event.ctrlKey || event.shiftKey || isComposingEvent(event)) return;\n          const openOnKeyPress = state.context.openOnKeyPress;\n          const isModifierKey = event.ctrlKey || event.metaKey || event.shiftKey;\n          const keypress = true;\n          const keymap = {\n            ArrowDown(event2) {\n              if (!openOnKeyPress && !open) return;\n              send({ type: event2.altKey ? \"OPEN\" : \"INPUT.ARROW_DOWN\", keypress });\n              event2.preventDefault();\n            },\n            ArrowUp() {\n              if (!openOnKeyPress && !open) return;\n              send({ type: event.altKey ? \"CLOSE\" : \"INPUT.ARROW_UP\", keypress });\n              event.preventDefault();\n            },\n            Home(event2) {\n              if (isModifierKey) return;\n              send({ type: \"INPUT.HOME\", keypress });\n              if (open) {\n                event2.preventDefault();\n              }\n            },\n            End(event2) {\n              if (isModifierKey) return;\n              send({ type: \"INPUT.END\", keypress });\n              if (open) {\n                event2.preventDefault();\n              }\n            },\n            Enter(event2) {\n              send({ type: \"INPUT.ENTER\", keypress });\n              if (open) {\n                event2.preventDefault();\n              }\n              const itemEl = dom.getHighlightedItemEl(state.context);\n              if (isAnchorElement(itemEl)) {\n                state.context.navigate({\n                  value: state.context.highlightedValue,\n                  node: itemEl\n                });\n              }\n            },\n            Escape() {\n              send({ type: \"INPUT.ESCAPE\", keypress });\n              event.preventDefault();\n            }\n          };\n          const key = getEventKey(event, state.context);\n          const exec = keymap[key];\n          exec?.(event);\n        }\n      });\n    },\n    getTriggerProps(props = {}) {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        \"aria-haspopup\": composite ? \"listbox\" : \"dialog\",\n        type: \"button\",\n        tabIndex: props.focusable ? void 0 : -1,\n        \"aria-label\": translations.triggerLabel,\n        \"aria-expanded\": open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-controls\": open ? dom.getContentId(state.context) : void 0,\n        disabled,\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focusable\": dataAttr(props.focusable),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-disabled\": dataAttr(disabled),\n        onFocus() {\n          if (!props.focusable) return;\n          send({ type: \"INPUT.FOCUS\", src: \"trigger\" });\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          if (!isLeftClick(event)) return;\n          send(\"TRIGGER.CLICK\");\n        },\n        onPointerDown(event) {\n          if (!interactive) return;\n          if (event.pointerType === \"touch\") return;\n          event.preventDefault();\n          queueMicrotask(() => {\n            dom.getInputEl(state.context)?.focus({ preventScroll: true });\n          });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (composite) return;\n          const keyMap = {\n            ArrowDown() {\n              send({ type: \"INPUT.ARROW_DOWN\", src: \"trigger\" });\n            },\n            ArrowUp() {\n              send({ type: \"INPUT.ARROW_UP\", src: \"trigger\" });\n            }\n          };\n          const key = getEventKey(event, state.context);\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        dir: state.context.dir,\n        id: dom.getContentId(state.context),\n        role: !composite ? \"dialog\" : \"listbox\",\n        tabIndex: -1,\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": state.context.currentPlacement,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.multiple && composite ? true : void 0,\n        onPointerDown(event) {\n          event.preventDefault();\n        }\n      });\n    },\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        role: !composite ? \"listbox\" : void 0,\n        \"aria-labelledby\": dom.getLabelId(state.context),\n        \"aria-multiselectable\": state.context.multiple && !composite ? true : void 0\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getClearTriggerId(state.context),\n        type: \"button\",\n        tabIndex: -1,\n        disabled,\n        \"data-invalid\": dataAttr(invalid),\n        \"aria-label\": translations.clearTriggerLabel,\n        \"aria-controls\": dom.getInputId(state.context),\n        hidden: !state.context.value.length,\n        onPointerDown(event) {\n          event.preventDefault();\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          send({ type: \"VALUE.CLEAR\", src: \"clear-trigger\" });\n        }\n      });\n    },\n    getItemState,\n    getItemProps(props) {\n      const itemState = getItemState(props);\n      const value = itemState.value;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, value),\n        role: \"option\",\n        tabIndex: -1,\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"aria-selected\": ariaAttr(itemState.highlighted),\n        \"aria-disabled\": ariaAttr(itemState.disabled),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-value\": itemState.value,\n        onPointerMove() {\n          if (itemState.disabled) return;\n          if (itemState.highlighted) return;\n          send({ type: \"ITEM.POINTER_MOVE\", value });\n        },\n        onPointerLeave() {\n          if (props.persistFocus) return;\n          if (itemState.disabled) return;\n          const mouseMoved = state.previousEvent.type.includes(\"POINTER\");\n          if (!mouseMoved) return;\n          send({ type: \"ITEM.POINTER_LEAVE\", value });\n        },\n        onClick(event) {\n          if (isDownloadingEvent(event)) return;\n          if (isOpeningInNewTab(event)) return;\n          if (isContextMenuEvent(event)) return;\n          if (itemState.disabled) return;\n          send({ type: \"ITEM.CLICK\", src: \"click\", value });\n        }\n      });\n    },\n    getItemTextProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted)\n      });\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected\n      });\n    },\n    getItemGroupProps(props) {\n      const { id } = props;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id)\n      });\n    },\n    getItemGroupLabelProps(props) {\n      const { htmlFor } = props;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupLabelId(state.context, htmlFor),\n        role: \"group\"\n      });\n    }\n  };\n}\nvar { and, not } = guards;\nfunction machine(userContext) {\n  const ctx = compact(userContext);\n  return createMachine(\n    {\n      id: \"combobox\",\n      initial: ctx.open ? \"suggesting\" : \"idle\",\n      context: {\n        loopFocus: true,\n        openOnClick: false,\n        value: [],\n        highlightedValue: null,\n        inputValue: \"\",\n        allowCustomValue: false,\n        closeOnSelect: !ctx.multiple,\n        inputBehavior: \"none\",\n        selectionBehavior: \"replace\",\n        openOnKeyPress: true,\n        openOnChange: true,\n        composite: true,\n        readOnly: false,\n        disabled: false,\n        navigate({ node }) {\n          clickIfLink(node);\n        },\n        ...ctx,\n        highlightedItem: null,\n        selectedItems: [],\n        valueAsString: \"\",\n        collection: ctx.collection ?? collection.empty(),\n        positioning: {\n          placement: \"bottom\",\n          sameWidth: true,\n          ...ctx.positioning\n        },\n        translations: {\n          triggerLabel: \"Toggle suggestions\",\n          clearTriggerLabel: \"Clear value\",\n          ...ctx.translations\n        }\n      },\n      created: [\"syncInitialValues\", \"syncSelectionBehavior\"],\n      computed: {\n        isInputValueEmpty: (ctx2) => ctx2.inputValue.length === 0,\n        isInteractive: (ctx2) => !(ctx2.readOnly || ctx2.disabled),\n        autoComplete: (ctx2) => ctx2.inputBehavior === \"autocomplete\",\n        autoHighlight: (ctx2) => ctx2.inputBehavior === \"autohighlight\",\n        hasSelectedItems: (ctx2) => ctx2.value.length > 0\n      },\n      watch: {\n        value: [\"syncSelectedItems\"],\n        inputValue: [\"syncInputValue\"],\n        highlightedValue: [\"syncHighlightedItem\", \"autofillInputValue\"],\n        multiple: [\"syncSelectionBehavior\"],\n        open: [\"toggleVisibility\"]\n      },\n      on: {\n        \"SELECTED_ITEMS.SYNC\": {\n          actions: [\"syncSelectedItems\"]\n        },\n        \"HIGHLIGHTED_VALUE.SET\": {\n          actions: [\"setHighlightedItem\"]\n        },\n        \"ITEM.SELECT\": {\n          actions: [\"selectItem\"]\n        },\n        \"ITEM.CLEAR\": {\n          actions: [\"clearItem\"]\n        },\n        \"VALUE.SET\": {\n          actions: [\"setSelectedItems\"]\n        },\n        \"INPUT_VALUE.SET\": {\n          actions: \"setInputValue\"\n        },\n        \"COLLECTION.SET\": {\n          actions: [\"setCollection\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      },\n      states: {\n        idle: {\n          tags: [\"idle\", \"closed\"],\n          entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"CONTROLLED.OPEN\": {\n              target: \"interacting\"\n            },\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"INPUT.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"INPUT.FOCUS\": {\n              target: \"focused\"\n            },\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"]\n              }\n            ],\n            \"VALUE.CLEAR\": {\n              target: \"focused\",\n              actions: [\"clearInputValue\", \"clearSelectedItems\", \"setInitialFocus\"]\n            }\n          }\n        },\n        focused: {\n          tags: [\"focused\", \"closed\"],\n          entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"CONTROLLED.OPEN\": [\n              {\n                guard: \"isChangeEvent\",\n                target: \"suggesting\"\n              },\n              {\n                target: \"interacting\"\n              }\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: and(\"isOpenControlled\", \"openOnChange\"),\n                actions: [\"setInputValue\", \"invokeOnOpen\", \"highlightFirstItemIfNeeded\"]\n              },\n              {\n                guard: \"openOnChange\",\n                target: \"suggesting\",\n                actions: [\"setInputValue\", \"invokeOnOpen\", \"highlightFirstItemIfNeeded\"]\n              },\n              {\n                actions: \"setInputValue\"\n              }\n            ],\n            \"LAYER.INTERACT_OUTSIDE\": {\n              target: \"idle\"\n            },\n            \"INPUT.ESCAPE\": {\n              guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n              actions: \"revertInputValue\"\n            },\n            \"INPUT.BLUR\": {\n              target: \"idle\"\n            },\n            \"INPUT.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"INPUT.ARROW_DOWN\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"autoComplete\"),\n                actions: [\"invokeOnOpen\"]\n              },\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"]\n              },\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"highlightFirstOrSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstOrSelectedItem\", \"invokeOnOpen\"]\n              }\n            ],\n            \"INPUT.ARROW_UP\": [\n              // == group 1 ==\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: \"invokeOnOpen\"\n              },\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: \"invokeOnOpen\"\n              },\n              // == group 2 ==\n              {\n                target: \"interacting\",\n                actions: [\"highlightLastOrSelectedItem\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightLastOrSelectedItem\", \"invokeOnOpen\"]\n              }\n            ],\n            OPEN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnOpen\"]\n              },\n              {\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"]\n              }\n            ],\n            \"VALUE.CLEAR\": {\n              actions: [\"clearInputValue\", \"clearSelectedItems\"]\n            }\n          }\n        },\n        interacting: {\n          tags: [\"open\", \"focused\"],\n          entry: [\"setInitialFocus\"],\n          activities: [\"scrollToHighlightedItem\", \"trackDismissableLayer\", \"computePlacement\", \"hideOtherElements\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"restoreFocus\",\n                target: \"focused\",\n                actions: [\"setFinalFocus\"]\n              },\n              {\n                target: \"idle\"\n              }\n            ],\n            \"INPUT.HOME\": {\n              actions: [\"highlightFirstItem\"]\n            },\n            \"INPUT.END\": {\n              actions: [\"highlightLastItem\"]\n            },\n            \"INPUT.ARROW_DOWN\": [\n              {\n                guard: and(\"autoComplete\", \"isLastItemHighlighted\"),\n                actions: [\"clearHighlightedItem\", \"scrollContentToTop\"]\n              },\n              {\n                actions: [\"highlightNextItem\"]\n              }\n            ],\n            \"INPUT.ARROW_UP\": [\n              {\n                guard: and(\"autoComplete\", \"isFirstItemHighlighted\"),\n                actions: \"clearHighlightedItem\"\n              },\n              {\n                actions: \"highlightPrevItem\"\n              }\n            ],\n            \"INPUT.ENTER\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n                target: \"focused\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              // == group 2 ==\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"setFinalFocus\"]\n              },\n              {\n                actions: [\"selectHighlightedItem\"]\n              }\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoComplete\",\n                target: \"suggesting\",\n                actions: [\"setInputValue\", \"invokeOnOpen\"]\n              },\n              {\n                target: \"suggesting\",\n                actions: [\"clearHighlightedItem\", \"setInputValue\", \"invokeOnOpen\"]\n              }\n            ],\n            \"ITEM.POINTER_MOVE\": {\n              actions: [\"setHighlightedItem\"]\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"]\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\", \"setFinalFocus\"]\n              },\n              {\n                actions: [\"selectItem\"]\n              }\n            ],\n            \"LAYER.ESCAPE\": [\n              {\n                guard: and(\"isOpenControlled\", \"autoComplete\"),\n                actions: [\"syncInputValue\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"autoComplete\",\n                target: \"focused\",\n                actions: [\"syncInputValue\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\"\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"]\n              }\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\"\n              },\n              {\n                target: \"focused\",\n                actions: \"invokeOnClose\"\n              }\n            ],\n            \"LAYER.INTERACT_OUTSIDE\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"allowCustomValue\")),\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\"\n              },\n              {\n                target: \"idle\",\n                actions: \"invokeOnClose\"\n              }\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"]\n              }\n            ],\n            \"VALUE.CLEAR\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\", \"setFinalFocus\"]\n              }\n            ]\n          }\n        },\n        suggesting: {\n          tags: [\"open\", \"focused\"],\n          activities: [\n            \"trackDismissableLayer\",\n            \"scrollToHighlightedItem\",\n            \"computePlacement\",\n            \"trackChildNodes\",\n            \"hideOtherElements\"\n          ],\n          entry: [\"setInitialFocus\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                guard: \"restoreFocus\",\n                target: \"focused\",\n                actions: [\"setFinalFocus\"]\n              },\n              {\n                target: \"idle\"\n              }\n            ],\n            CHILDREN_CHANGE: {\n              actions: [\"highlightFirstItem\"]\n            },\n            \"INPUT.ARROW_DOWN\": {\n              target: \"interacting\",\n              actions: [\"highlightNextItem\"]\n            },\n            \"INPUT.ARROW_UP\": {\n              target: \"interacting\",\n              actions: [\"highlightPrevItem\"]\n            },\n            \"INPUT.HOME\": {\n              target: \"interacting\",\n              actions: [\"highlightFirstItem\"]\n            },\n            \"INPUT.END\": {\n              target: \"interacting\",\n              actions: [\"highlightLastItem\"]\n            },\n            \"INPUT.ENTER\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"hasHighlightedItem\"), not(\"allowCustomValue\")),\n                target: \"focused\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              // == group 2 ==\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"setFinalFocus\"]\n              },\n              {\n                actions: [\"selectHighlightedItem\"]\n              }\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoHighlight\",\n                actions: [\"setInputValue\"]\n              },\n              {\n                actions: [\"setInputValue\"]\n              }\n            ],\n            \"LAYER.ESCAPE\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"]\n              }\n            ],\n            \"ITEM.POINTER_MOVE\": {\n              target: \"interacting\",\n              actions: [\"setHighlightedItem\"]\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"]\n            },\n            \"LAYER.INTERACT_OUTSIDE\": [\n              // == group 1 ==\n              {\n                guard: and(\"isOpenControlled\", \"isCustomValue\", not(\"allowCustomValue\")),\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"]\n              },\n              // == group 2 ==\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"]\n              },\n              {\n                target: \"idle\",\n                actions: [\"invokeOnClose\"]\n              }\n            ],\n            \"TRIGGER.CLICK\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"]\n              }\n            ],\n            \"ITEM.CLICK\": [\n              {\n                guard: and(\"isOpenControlled\", \"closeOnSelect\"),\n                actions: [\"selectItem\", \"invokeOnClose\"]\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\", \"setFinalFocus\"]\n              },\n              {\n                actions: [\"selectItem\"]\n              }\n            ],\n            CLOSE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\", \"setFinalFocus\"]\n              }\n            ],\n            \"VALUE.CLEAR\": [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\"]\n              },\n              {\n                target: \"focused\",\n                actions: [\"clearInputValue\", \"clearSelectedItems\", \"invokeOnClose\", \"setFinalFocus\"]\n              }\n            ]\n          }\n        }\n      }\n    },\n    {\n      guards: {\n        isInputValueEmpty: (ctx2) => ctx2.isInputValueEmpty,\n        autoComplete: (ctx2) => ctx2.autoComplete && !ctx2.multiple,\n        autoHighlight: (ctx2) => ctx2.autoHighlight,\n        isFirstItemHighlighted: (ctx2) => ctx2.collection.firstValue === ctx2.highlightedValue,\n        isLastItemHighlighted: (ctx2) => ctx2.collection.lastValue === ctx2.highlightedValue,\n        isCustomValue: (ctx2) => ctx2.inputValue !== ctx2.valueAsString,\n        allowCustomValue: (ctx2) => !!ctx2.allowCustomValue,\n        hasHighlightedItem: (ctx2) => ctx2.highlightedValue != null,\n        closeOnSelect: (ctx2) => !!ctx2.closeOnSelect,\n        isOpenControlled: (ctx2) => !!ctx2[\"open.controlled\"],\n        openOnChange: (ctx2, evt) => {\n          if (isBoolean(ctx2.openOnChange)) return ctx2.openOnChange;\n          return !!ctx2.openOnChange?.({ inputValue: evt.value });\n        },\n        restoreFocus: (_ctx, evt) => evt.restoreFocus == null ? true : !!evt.restoreFocus,\n        isChangeEvent: (_ctx, evt) => evt.previousEvent?.type === \"INPUT.CHANGE\"\n      },\n      activities: {\n        trackDismissableLayer(ctx2, _evt, { send }) {\n          if (ctx2.disableLayer) return;\n          const contentEl = () => dom.getContentEl(ctx2);\n          return trackDismissableElement(contentEl, {\n            defer: true,\n            exclude: () => [dom.getInputEl(ctx2), dom.getTriggerEl(ctx2), dom.getClearTriggerEl(ctx2)],\n            onFocusOutside: ctx2.onFocusOutside,\n            onPointerDownOutside: ctx2.onPointerDownOutside,\n            onInteractOutside: ctx2.onInteractOutside,\n            onEscapeKeyDown(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              send(\"LAYER.ESCAPE\");\n            },\n            onDismiss() {\n              send({ type: \"LAYER.INTERACT_OUTSIDE\", restoreFocus: false });\n            }\n          });\n        },\n        hideOtherElements(ctx2) {\n          return ariaHidden([\n            dom.getInputEl(ctx2),\n            dom.getContentEl(ctx2),\n            dom.getTriggerEl(ctx2),\n            dom.getClearTriggerEl(ctx2)\n          ]);\n        },\n        computePlacement(ctx2) {\n          const controlEl = () => dom.getControlEl(ctx2);\n          const positionerEl = () => dom.getPositionerEl(ctx2);\n          ctx2.currentPlacement = ctx2.positioning.placement;\n          return getPlacement(controlEl, positionerEl, {\n            ...ctx2.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        // in event the options are fetched (async), we still want to auto-highlight the first option\n        trackChildNodes(ctx2, _evt, { send }) {\n          if (!ctx2.autoHighlight) return;\n          const exec = () => send(\"CHILDREN_CHANGE\");\n          const contentEl = () => dom.getContentEl(ctx2);\n          return observeChildren(contentEl, {\n            callback: exec,\n            defer: true\n          });\n        },\n        scrollToHighlightedItem(ctx2, _evt, { getState }) {\n          const inputEl = dom.getInputEl(ctx2);\n          let cleanups = [];\n          const exec = (immediate) => {\n            const state = getState();\n            const pointer = state.event.type.includes(\"POINTER\");\n            if (pointer || !ctx2.highlightedValue) return;\n            const itemEl = dom.getHighlightedItemEl(ctx2);\n            const contentEl = dom.getContentEl(ctx2);\n            if (ctx2.scrollToIndexFn) {\n              const highlightedIndex = ctx2.collection.indexOf(ctx2.highlightedValue);\n              ctx2.scrollToIndexFn({ index: highlightedIndex, immediate });\n              return;\n            }\n            const rafCleanup2 = raf(() => {\n              scrollIntoView(itemEl, { rootEl: contentEl, block: \"nearest\" });\n            });\n            cleanups.push(rafCleanup2);\n          };\n          const rafCleanup = raf(() => exec(true));\n          cleanups.push(rafCleanup);\n          const observerCleanup = observeAttributes(inputEl, {\n            attributes: [\"aria-activedescendant\"],\n            callback: () => exec(false)\n          });\n          cleanups.push(observerCleanup);\n          return () => {\n            cleanups.forEach((cleanup) => cleanup());\n          };\n        }\n      },\n      actions: {\n        reposition(ctx2, evt) {\n          const controlEl = () => dom.getControlEl(ctx2);\n          const positionerEl = () => dom.getPositionerEl(ctx2);\n          getPlacement(controlEl, positionerEl, {\n            ...ctx2.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx2.currentPlacement = data.placement;\n            }\n          });\n        },\n        setHighlightedItem(ctx2, evt) {\n          if (evt.value == null) return;\n          set.highlightedValue(ctx2, evt.value);\n        },\n        clearHighlightedItem(ctx2) {\n          set.highlightedValue(ctx2, null, true);\n        },\n        selectHighlightedItem(ctx2) {\n          set.value(ctx2, ctx2.highlightedValue);\n          set.inputValue(ctx2, getInputValue(ctx2));\n        },\n        selectItem(ctx2, evt) {\n          if (evt.value == null) return;\n          set.value(ctx2, evt.value);\n          set.inputValue(ctx2, getInputValue(ctx2));\n        },\n        clearItem(ctx2, evt) {\n          if (evt.value == null) return;\n          const value = ctx2.value.filter((v) => v !== evt.value);\n          set.value(ctx2, value);\n          set.inputValue(ctx2, getInputValue(ctx2));\n        },\n        setInitialFocus(ctx2) {\n          raf(() => {\n            dom.focusInputEl(ctx2);\n          });\n        },\n        setFinalFocus(ctx2) {\n          raf(() => {\n            const triggerEl = dom.getTriggerEl(ctx2);\n            if (triggerEl?.dataset.focusable == null) {\n              dom.focusInputEl(ctx2);\n            } else {\n              dom.focusTriggerEl(ctx2);\n            }\n          });\n        },\n        syncInputValue(ctx2) {\n          const inputEl = dom.getInputEl(ctx2);\n          if (!inputEl) return;\n          inputEl.value = ctx2.inputValue;\n          queueMicrotask(() => {\n            const { selectionStart, selectionEnd } = inputEl;\n            if (Math.abs((selectionEnd ?? 0) - (selectionStart ?? 0)) !== 0) return;\n            if (selectionStart !== 0) return;\n            inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length);\n          });\n        },\n        setInputValue(ctx2, evt) {\n          set.inputValue(ctx2, evt.value);\n        },\n        clearInputValue(ctx2) {\n          set.inputValue(ctx2, \"\");\n        },\n        revertInputValue(ctx2) {\n          const inputValue = match(ctx2.selectionBehavior, {\n            replace: ctx2.hasSelectedItems ? ctx2.valueAsString : \"\",\n            preserve: ctx2.inputValue,\n            clear: \"\"\n          });\n          set.inputValue(ctx2, inputValue);\n        },\n        syncInitialValues(ctx2) {\n          const selectedItems = ctx2.collection.findMany(ctx2.value);\n          const valueAsString = ctx2.collection.stringifyMany(ctx2.value);\n          ctx2.highlightedItem = ctx2.collection.find(ctx2.highlightedValue);\n          ctx2.selectedItems = selectedItems;\n          ctx2.valueAsString = valueAsString;\n          if (ctx2.inputValue.trim() || ctx2.multiple) return;\n          ctx2.inputValue = match(ctx2.selectionBehavior, {\n            preserve: ctx2.inputValue || valueAsString,\n            replace: valueAsString,\n            clear: \"\"\n          });\n        },\n        syncSelectionBehavior(ctx2) {\n          if (ctx2.multiple) {\n            ctx2.selectionBehavior = \"clear\";\n          }\n        },\n        setSelectedItems(ctx2, evt) {\n          if (!isArray(evt.value)) return;\n          set.value(ctx2, evt.value);\n          set.inputValue(ctx2, getInputValue(ctx2));\n        },\n        clearSelectedItems(ctx2) {\n          set.value(ctx2, []);\n          set.inputValue(ctx2, getInputValue(ctx2));\n        },\n        scrollContentToTop(ctx2) {\n          if (ctx2.scrollToIndexFn) {\n            ctx2.scrollToIndexFn({ index: 0, immediate: true });\n          } else {\n            const contentEl = dom.getContentEl(ctx2);\n            if (!contentEl) return;\n            contentEl.scrollTop = 0;\n          }\n        },\n        invokeOnOpen(ctx2) {\n          ctx2.onOpenChange?.({ open: true });\n        },\n        invokeOnClose(ctx2) {\n          ctx2.onOpenChange?.({ open: false });\n        },\n        highlightFirstItem(ctx2) {\n          raf(() => {\n            const value = ctx2.collection.firstValue;\n            set.highlightedValue(ctx2, value, true);\n          });\n        },\n        highlightFirstItemIfNeeded(ctx2) {\n          if (!ctx2.autoHighlight) return;\n          raf(() => {\n            const value = ctx2.collection.firstValue;\n            set.highlightedValue(ctx2, value);\n          });\n        },\n        highlightLastItem(ctx2) {\n          raf(() => {\n            const value = ctx2.collection.lastValue;\n            set.highlightedValue(ctx2, value);\n          });\n        },\n        highlightNextItem(ctx2) {\n          let value = null;\n          if (ctx2.highlightedValue) {\n            value = ctx2.collection.getNextValue(ctx2.highlightedValue);\n            if (!value && ctx2.loopFocus) value = ctx2.collection.firstValue;\n          } else {\n            value = ctx2.collection.firstValue;\n          }\n          set.highlightedValue(ctx2, value);\n        },\n        highlightPrevItem(ctx2) {\n          let value = null;\n          if (ctx2.highlightedValue) {\n            value = ctx2.collection.getPreviousValue(ctx2.highlightedValue);\n            if (!value && ctx2.loopFocus) value = ctx2.collection.lastValue;\n          } else {\n            value = ctx2.collection.lastValue;\n          }\n          set.highlightedValue(ctx2, value);\n        },\n        highlightFirstSelectedItem(ctx2) {\n          raf(() => {\n            const [value] = ctx2.collection.sort(ctx2.value);\n            set.highlightedValue(ctx2, value);\n          });\n        },\n        highlightFirstOrSelectedItem(ctx2) {\n          raf(() => {\n            let value = null;\n            if (ctx2.hasSelectedItems) {\n              value = ctx2.collection.sort(ctx2.value)[0];\n            } else {\n              value = ctx2.collection.firstValue;\n            }\n            set.highlightedValue(ctx2, value);\n          });\n        },\n        highlightLastOrSelectedItem(ctx2) {\n          raf(() => {\n            let value = null;\n            if (ctx2.hasSelectedItems) {\n              value = ctx2.collection.sort(ctx2.value)[0];\n            } else {\n              value = ctx2.collection.lastValue;\n            }\n            set.highlightedValue(ctx2, value);\n          });\n        },\n        autofillInputValue(ctx2, evt) {\n          const inputEl = dom.getInputEl(ctx2);\n          if (!ctx2.autoComplete || !inputEl || !evt.keypress) return;\n          const valueText = ctx2.collection.stringify(ctx2.highlightedValue);\n          raf(() => {\n            inputEl.value = valueText || ctx2.inputValue;\n          });\n        },\n        setCollection(ctx2, evt) {\n          ctx2.collection = evt.value;\n        },\n        syncSelectedItems(ctx2) {\n          sync.valueChange(ctx2);\n          set.inputValue(ctx2, getInputValue(ctx2));\n        },\n        syncHighlightedItem(ctx2) {\n          sync.highlightChange(ctx2);\n        },\n        toggleVisibility(ctx2, evt, { send }) {\n          send({ type: ctx2.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt });\n        }\n      }\n    }\n  );\n}\nfunction getInputValue(ctx) {\n  return match(ctx.selectionBehavior, {\n    preserve: ctx.inputValue,\n    replace: ctx.valueAsString,\n    clear: \"\"\n  });\n}\nvar sync = {\n  valueChange: (ctx) => {\n    const prevSelectedItems = ctx.selectedItems;\n    ctx.selectedItems = ctx.value.map((v) => {\n      const foundItem = prevSelectedItems.find((item) => ctx.collection.getItemValue(item) === v);\n      if (foundItem) return foundItem;\n      return ctx.collection.find(v);\n    });\n    ctx.valueAsString = ctx.collection.stringifyItems(ctx.selectedItems);\n  },\n  highlightChange: (ctx) => {\n    ctx.highlightedItem = ctx.collection.find(ctx.highlightedValue);\n  }\n};\nvar invoke = {\n  valueChange: (ctx) => {\n    sync.valueChange(ctx);\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: Array.from(ctx.selectedItems)\n    });\n  },\n  highlightChange: (ctx) => {\n    sync.highlightChange(ctx);\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highlightedItem: ctx.highlightedItem\n    });\n  },\n  inputChange: (ctx) => {\n    ctx.onInputValueChange?.({ inputValue: ctx.inputValue });\n  }\n};\nvar set = {\n  value: (ctx, value, force = false) => {\n    if (isEqual(ctx.value, value)) return;\n    if (value == null && !force) return;\n    if (value == null && force) {\n      ctx.value = [];\n      invoke.valueChange(ctx);\n      return;\n    }\n    if (isArray(value)) {\n      ctx.value = value;\n    } else if (value != null) {\n      ctx.value = ctx.multiple ? addOrRemove(ctx.value, value) : [value];\n    }\n    invoke.valueChange(ctx);\n  },\n  highlightedValue: (ctx, value, force = false) => {\n    if (isEqual(ctx.highlightedValue, value)) return;\n    if (!value && !force) return;\n    ctx.highlightedValue = value || null;\n    invoke.highlightChange(ctx);\n  },\n  inputValue: (ctx, value) => {\n    if (isEqual(ctx.inputValue, value)) return;\n    ctx.inputValue = value;\n    invoke.inputChange(ctx);\n  }\n};\n\nexport { anatomy, collection, connect, machine };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}