{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import MainLayout from'../components/layout/MainLayout';import{getClientById,createClient,updateClient}from'../services/clientService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const initialFormData={name:'',email:'',phone:'',rfc:'',curp:'',birth_date:'',address:'',city:'',state:'',postal_code:''};const ClientForm=()=>{const{id}=useParams();const navigate=useNavigate();const isEditMode=!!id;const[formData,setFormData]=useState(initialFormData);const[loading,setLoading]=useState(false);const[fetchingData,setFetchingData]=useState(isEditMode);const[error,setError]=useState(null);useEffect(()=>{if(isEditMode&&id){fetchClientData(id);}},[isEditMode,id]);const fetchClientData=async clientId=>{try{setFetchingData(true);const clientData=await getClientById(clientId);// Check if clientData exists before using it\nif(!clientData){setError('No se encontraron los datos del cliente o la tabla de clientes no existe.');return;}// Convertir las fechas a formato YYYY-MM-DD para el input date\nsetFormData({name:clientData.name,email:clientData.email,phone:clientData.phone,rfc:clientData.rfc||'',curp:clientData.curp||'',birth_date:clientData.birth_date?new Date(clientData.birth_date).toISOString().split('T')[0]:'',address:clientData.address||'',city:clientData.city||'',state:clientData.state||'',postal_code:clientData.postal_code||'',company_id:clientData.company_id,advisor_id:clientData.advisor_id});setError(null);}catch(err){console.error('Error fetching client data:',err);setError('No se pudieron cargar los datos del cliente. Por favor intente nuevamente.');}finally{setFetchingData(false);}};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);setError(null);// Validaciones básicas\nif(!formData.name.trim()){setError('El nombre es obligatorio');return;}if(!formData.email.trim()){setError('El correo electrónico es obligatorio');return;}if(!formData.phone.trim()){setError('El teléfono es obligatorio');return;}// Crear o actualizar cliente\nif(isEditMode&&id){await updateClient(id,formData);navigate(`/clients/${id}`);}else{const newClient=await createClient(formData);navigate(`/clients/${newClient.id}`);}}catch(err){console.error('Error saving client:',err);setError('Ocurrió un error al guardar los datos. Por favor intente nuevamente.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(-1),className:\"btn btn-ghost btn-sm\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\",clipRule:\"evenodd\"})}),\"Volver\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:isEditMode?'Editar Cliente':'Nuevo Cliente'})]}),fetchingData?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loading loading-spinner loading-lg\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error mb-6\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:typeof error==='object'?'Error en el formulario':error})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 md:col-span-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Informaci\\xF3n Personal\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Nombre Completo*\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Nombre completo\",className:\"input input-bordered w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Correo Electr\\xF3nico*\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"correo@ejemplo.com\",className:\"input input-bordered w-full\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Tel\\xE9fono*\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",value:formData.phone,onChange:handleChange,placeholder:\"(123) 456-7890\",className:\"input input-bordered w-full\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"RFC\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rfc\",value:formData.rfc,onChange:handleChange,placeholder:\"RFC\",className:\"input input-bordered w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"CURP\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"curp\",value:formData.curp,onChange:handleChange,placeholder:\"CURP\",className:\"input input-bordered w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Fecha de Nacimiento\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birth_date\",value:formData.birth_date,onChange:handleChange,className:\"input input-bordered w-full\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 md:col-span-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Direcci\\xF3n\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleChange,placeholder:\"Calle, n\\xFAmero, colonia\",className:\"input input-bordered w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Ciudad\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",value:formData.city,onChange:handleChange,placeholder:\"Ciudad\",className:\"input input-bordered w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Estado\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"state\",value:formData.state,onChange:handleChange,placeholder:\"Estado\",className:\"input input-bordered w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"C\\xF3digo Postal\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"postal_code\",value:formData.postal_code,onChange:handleChange,placeholder:\"C\\xF3digo Postal\",className:\"input input-bordered w-full\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-8\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate(-1),className:\"btn btn-ghost\",disabled:loading,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"loading loading-spinner loading-sm\"}),isEditMode?'Guardando...':'Creando...']}):/*#__PURE__*/_jsx(_Fragment,{children:isEditMode?'Guardar Cambios':'Crear Cliente'})})]})]})]})})]})});};export default ClientForm;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","MainLayout","getClientById","createClient","updateClient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","initialFormData","name","email","phone","rfc","curp","birth_date","address","city","state","postal_code","ClientForm","id","navigate","isEditMode","formData","setFormData","loading","setLoading","fetchingData","setFetchingData","error","setError","fetchClientData","clientId","clientData","Date","toISOString","split","company_id","advisor_id","err","console","handleChange","e","value","target","prev","handleSubmit","preventDefault","trim","newClient","children","className","onClick","xmlns","viewBox","fill","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","onSubmit","type","onChange","placeholder","required","disabled"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/pages/ClientForm.tsx"],"sourcesContent":["import React, { useState, useEffect, FormEvent } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport MainLayout from '../components/layout/MainLayout';\nimport { getClientById, createClient, updateClient, Client } from '../services/clientService';\n\ninterface ClientFormData {\n  name: string;\n  email: string;\n  phone: string;\n  rfc: string;\n  curp: string;\n  birth_date: string;\n  address: string;\n  city: string;\n  state: string;\n  postal_code: string;\n  company_id?: string;\n  advisor_id?: string;\n}\n\nconst initialFormData: ClientFormData = {\n  name: '',\n  email: '',\n  phone: '',\n  rfc: '',\n  curp: '',\n  birth_date: '',\n  address: '',\n  city: '',\n  state: '',\n  postal_code: '',\n};\n\nconst ClientForm: React.FC = () => {\n  const { id } = useParams<{ id?: string }>();\n  const navigate = useNavigate();\n  const isEditMode = !!id;\n  \n  const [formData, setFormData] = useState<ClientFormData>(initialFormData);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [fetchingData, setFetchingData] = useState<boolean>(isEditMode);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isEditMode && id) {\n      fetchClientData(id);\n    }\n  }, [isEditMode, id]);\n\n  const fetchClientData = async (clientId: string) => {\n    try {\n      setFetchingData(true);\n      const clientData = await getClientById(clientId);\n      \n      // Check if clientData exists before using it\n      if (!clientData) {\n        setError('No se encontraron los datos del cliente o la tabla de clientes no existe.');\n        return;\n      }\n      \n      // Convertir las fechas a formato YYYY-MM-DD para el input date\n      setFormData({\n        name: clientData.name,\n        email: clientData.email,\n        phone: clientData.phone,\n        rfc: clientData.rfc || '',\n        curp: clientData.curp || '',\n        birth_date: clientData.birth_date ? new Date(clientData.birth_date).toISOString().split('T')[0] : '',\n        address: clientData.address || '',\n        city: clientData.city || '',\n        state: clientData.state || '',\n        postal_code: clientData.postal_code || '',\n        company_id: clientData.company_id,\n        advisor_id: clientData.advisor_id\n      });\n      \n      setError(null);\n    } catch (err) {\n      console.error('Error fetching client data:', err);\n      setError('No se pudieron cargar los datos del cliente. Por favor intente nuevamente.');\n    } finally {\n      setFetchingData(false);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Validaciones básicas\n      if (!formData.name.trim()) {\n        setError('El nombre es obligatorio');\n        return;\n      }\n      \n      if (!formData.email.trim()) {\n        setError('El correo electrónico es obligatorio');\n        return;\n      }\n      \n      if (!formData.phone.trim()) {\n        setError('El teléfono es obligatorio');\n        return;\n      }\n      \n      // Crear o actualizar cliente\n      if (isEditMode && id) {\n        await updateClient(id, formData);\n        navigate(`/clients/${id}`);\n      } else {\n        const newClient = await createClient(formData);\n        navigate(`/clients/${newClient.id}`);\n      }\n    } catch (err) {\n      console.error('Error saving client:', err);\n      setError('Ocurrió un error al guardar los datos. Por favor intente nuevamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <MainLayout>\n      <div className=\"p-6\">\n        <div className=\"flex items-center gap-4 mb-6\">\n          <button \n            onClick={() => navigate(-1)} \n            className=\"btn btn-ghost btn-sm\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n            </svg>\n            Volver\n          </button>\n          <h1 className=\"text-2xl font-bold\">\n            {isEditMode ? 'Editar Cliente' : 'Nuevo Cliente'}\n          </h1>\n        </div>\n\n        {fetchingData ? (\n          <div className=\"flex justify-center items-center py-12\">\n            <span className=\"loading loading-spinner loading-lg\"></span>\n          </div>\n        ) : (\n          <div className=\"card bg-base-100 shadow-xl\">\n            <div className=\"card-body\">\n              {error && (\n                <div className=\"alert alert-error mb-6\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <span>{typeof error === 'object' ? 'Error en el formulario' : error}</span>\n                </div>\n              )}\n\n              <form onSubmit={handleSubmit}>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {/* Información Personal */}\n                  <div className=\"space-y-4 md:col-span-2\">\n                    <h2 className=\"text-xl font-bold\">Información Personal</h2>\n                    \n                    <div className=\"form-control w-full\">\n                      <label className=\"label\">\n                        <span className=\"label-text\">Nombre Completo*</span>\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        value={formData.name}\n                        onChange={handleChange}\n                        placeholder=\"Nombre completo\"\n                        className=\"input input-bordered w-full\"\n                        required\n                      />\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">Correo Electrónico*</span>\n                        </label>\n                        <input\n                          type=\"email\"\n                          name=\"email\"\n                          value={formData.email}\n                          onChange={handleChange}\n                          placeholder=\"correo@ejemplo.com\"\n                          className=\"input input-bordered w-full\"\n                          required\n                        />\n                      </div>\n\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">Teléfono*</span>\n                        </label>\n                        <input\n                          type=\"tel\"\n                          name=\"phone\"\n                          value={formData.phone}\n                          onChange={handleChange}\n                          placeholder=\"(123) 456-7890\"\n                          className=\"input input-bordered w-full\"\n                          required\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">RFC</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"rfc\"\n                          value={formData.rfc}\n                          onChange={handleChange}\n                          placeholder=\"RFC\"\n                          className=\"input input-bordered w-full\"\n                        />\n                      </div>\n\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">CURP</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"curp\"\n                          value={formData.curp}\n                          onChange={handleChange}\n                          placeholder=\"CURP\"\n                          className=\"input input-bordered w-full\"\n                        />\n                      </div>\n\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">Fecha de Nacimiento</span>\n                        </label>\n                        <input\n                          type=\"date\"\n                          name=\"birth_date\"\n                          value={formData.birth_date}\n                          onChange={handleChange}\n                          className=\"input input-bordered w-full\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Dirección */}\n                  <div className=\"space-y-4 md:col-span-2\">\n                    <h2 className=\"text-xl font-bold\">Dirección</h2>\n                    \n                    <div className=\"form-control w-full\">\n                      <label className=\"label\">\n                        <span className=\"label-text\">Dirección</span>\n                      </label>\n                      <input\n                        type=\"text\"\n                        name=\"address\"\n                        value={formData.address}\n                        onChange={handleChange}\n                        placeholder=\"Calle, número, colonia\"\n                        className=\"input input-bordered w-full\"\n                      />\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">Ciudad</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"city\"\n                          value={formData.city}\n                          onChange={handleChange}\n                          placeholder=\"Ciudad\"\n                          className=\"input input-bordered w-full\"\n                        />\n                      </div>\n\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">Estado</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"state\"\n                          value={formData.state}\n                          onChange={handleChange}\n                          placeholder=\"Estado\"\n                          className=\"input input-bordered w-full\"\n                        />\n                      </div>\n\n                      <div className=\"form-control w-full\">\n                        <label className=\"label\">\n                          <span className=\"label-text\">Código Postal</span>\n                        </label>\n                        <input\n                          type=\"text\"\n                          name=\"postal_code\"\n                          value={formData.postal_code}\n                          onChange={handleChange}\n                          placeholder=\"Código Postal\"\n                          className=\"input input-bordered w-full\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end gap-4 mt-8\">\n                  <button\n                    type=\"button\"\n                    onClick={() => navigate(-1)}\n                    className=\"btn btn-ghost\"\n                    disabled={loading}\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-primary\"\n                    disabled={loading}\n                  >\n                    {loading ? (\n                      <>\n                        <span className=\"loading loading-spinner loading-sm\"></span>\n                        {isEditMode ? 'Guardando...' : 'Creando...'}\n                      </>\n                    ) : (\n                      <>{isEditMode ? 'Guardar Cambios' : 'Crear Cliente'}</>\n                    )}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default ClientForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}