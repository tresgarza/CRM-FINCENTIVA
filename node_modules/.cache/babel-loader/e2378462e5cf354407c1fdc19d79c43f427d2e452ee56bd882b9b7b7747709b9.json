{"ast":null,"code":"var _jsxFileName = \"/Users/diegogg98/NEW CRM MAR18/src/components/clients/ClientForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport DocumentUploader from '../documents/DocumentUploader';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { executeQuery } from '../../services/mcpService';\n\n// Interfaz para documentos\n\n// Props para el componente\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Categorías de documentos predefinidas\nconst DOCUMENT_CATEGORIES = [{\n  value: 'identificacion',\n  label: 'Identificación Oficial'\n}, {\n  value: 'comprobante_domicilio',\n  label: 'Comprobante de Domicilio'\n}, {\n  value: 'comprobante_ingresos',\n  label: 'Comprobante de Ingresos'\n}, {\n  value: 'estados_cuenta',\n  label: 'Estados de Cuenta Bancarios'\n}, {\n  value: 'rfc',\n  label: 'Constancia de Situación Fiscal (RFC)'\n}, {\n  value: 'curp',\n  label: 'CURP'\n}, {\n  value: 'otros',\n  label: 'Otros Documentos'\n}];\n\n// Tipos de empleo\nconst EMPLOYMENT_TYPES = [{\n  value: 'empleado',\n  label: 'Empleado'\n}, {\n  value: 'autonomo',\n  label: 'Autónomo / Freelance'\n}, {\n  value: 'empresario',\n  label: 'Empresario'\n}, {\n  value: 'jubilado',\n  label: 'Jubilado'\n}, {\n  value: 'desempleado',\n  label: 'Desempleado'\n}, {\n  value: 'estudiante',\n  label: 'Estudiante'\n}, {\n  value: 'otro',\n  label: 'Otro'\n}];\n\n// Estados civiles\nconst MARITAL_STATUS_TYPES = [{\n  value: 'soltero',\n  label: 'Soltero/a'\n}, {\n  value: 'casado',\n  label: 'Casado/a'\n}, {\n  value: 'divorciado',\n  label: 'Divorciado/a'\n}, {\n  value: 'viudo',\n  label: 'Viudo/a'\n}, {\n  value: 'union_libre',\n  label: 'Unión Libre'\n}];\n\n// Tipos de cuenta bancaria\nconst BANK_ACCOUNT_TYPES = [{\n  value: 'nomina',\n  label: 'Nómina'\n}, {\n  value: 'ahorro',\n  label: 'Ahorro'\n}, {\n  value: 'cheques',\n  label: 'Cheques'\n}, {\n  value: 'inversiones',\n  label: 'Inversiones'\n}];\nconst ClientForm = ({\n  initialData = {},\n  onSubmit,\n  onSavePartial,\n  isSubmitting\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n\n  // Estado para los datos del formulario\n  const [formData, setFormData] = useState({\n    first_name: '',\n    paternal_surname: '',\n    maternal_surname: '',\n    email: '',\n    phone: '',\n    address: '',\n    city: '',\n    state: '',\n    postal_code: '',\n    birth_date: '',\n    gender: '',\n    marital_status: '',\n    employment_type: '',\n    employment_years: undefined,\n    rfc: '',\n    curp: '',\n    monthly_income: undefined,\n    additional_income: undefined,\n    monthly_expenses: undefined,\n    other_loan_balances: undefined,\n    bank_name: '',\n    bank_clabe: '',\n    bank_account_number: '',\n    bank_account_type: '',\n    bank_account_origin: '',\n    company_id: '',\n    // Nuevos campos\n    street_number_ext: '',\n    street_number_int: '',\n    neighborhood: '',\n    home_phone: '',\n    birth_state: '',\n    nationality: '',\n    job_position: '',\n    employer_name: '',\n    employer_phone: '',\n    employer_address: '',\n    employer_activity: '',\n    mortgage_payment: undefined,\n    rent_payment: undefined,\n    dependent_persons: undefined,\n    income_frequency: '',\n    payment_method: '',\n    credit_purpose: '',\n    spouse_paternal_surname: '',\n    spouse_maternal_surname: '',\n    reference1_name: '',\n    reference1_relationship: '',\n    reference1_address: '',\n    reference1_phone: '',\n    reference2_name: '',\n    reference2_relationship: '',\n    reference2_address: '',\n    reference2_phone: '',\n    ...initialData\n  });\n\n  // Estado para errores de validación\n  const [errors, setErrors] = useState({});\n\n  // Estado para documentos\n  const [documents, setDocuments] = useState([]);\n\n  // Estado para el paso actual del formulario\n  const [currentStep, setCurrentStep] = useState(1);\n\n  // Estado para empresas\n  const [companies, setCompanies] = useState([]);\n  const [loadingCompanies, setLoadingCompanies] = useState(true);\n\n  // Calcular el progreso de llenado de formulario\n  const calculateProgress = () => {\n    let filledFields = 0;\n    let totalFields = 0;\n\n    // Paso 1: Datos Personales Básicos\n    const step1Fields = ['first_name', 'paternal_surname', 'maternal_surname', 'email', 'phone', 'rfc', 'curp', 'birth_date', 'gender', 'marital_status', 'address', 'city', 'state', 'postal_code', 'company_id', 'street_number_ext', 'street_number_int', 'neighborhood', 'home_phone', 'birth_state', 'nationality', 'spouse_paternal_surname', 'spouse_maternal_surname', 'dependent_persons'];\n    totalFields += step1Fields.length;\n    filledFields += step1Fields.filter(field => formData[field]).length;\n\n    // Paso 2: Detalles Financieros y Empleo\n    const step2Fields = ['employment_type', 'employment_years', 'job_position', 'employer_name', 'employer_phone', 'employer_address', 'employer_activity', 'monthly_income', 'additional_income', 'monthly_expenses', 'other_loan_balances', 'mortgage_payment', 'rent_payment', 'income_frequency', 'payment_method', 'credit_purpose'];\n    totalFields += step2Fields.length;\n    filledFields += step2Fields.filter(field => formData[field] !== undefined && formData[field] !== '').length;\n\n    // Paso 3: Datos Bancarios y Referencias\n    const step3Fields = ['bank_name', 'bank_clabe', 'bank_account_number', 'bank_account_type', 'bank_account_origin', 'reference1_name', 'reference1_relationship', 'reference1_address', 'reference1_phone', 'reference2_name', 'reference2_relationship', 'reference2_address', 'reference2_phone'];\n    totalFields += step3Fields.length;\n    filledFields += step3Fields.filter(field => formData[field]).length;\n\n    // Calcular porcentaje\n    return Math.round(filledFields / totalFields * 100);\n  };\n\n  // Use useMemo instead of useState + useEffect to calculate progress\n  const progress = useMemo(() => calculateProgress(), [\n  // Step 1 dependencies\n  formData.first_name, formData.paternal_surname, formData.maternal_surname, formData.email, formData.phone, formData.rfc, formData.curp, formData.birth_date, formData.gender, formData.marital_status, formData.address, formData.city, formData.state, formData.postal_code, formData.company_id, formData.street_number_ext, formData.street_number_int, formData.neighborhood, formData.home_phone, formData.birth_state, formData.nationality, formData.spouse_paternal_surname, formData.spouse_maternal_surname, formData.dependent_persons,\n  // Step 2 dependencies\n  formData.employment_type, formData.employment_years, formData.job_position, formData.employer_name, formData.employer_phone, formData.employer_address, formData.employer_activity, formData.monthly_income, formData.additional_income, formData.monthly_expenses, formData.other_loan_balances, formData.mortgage_payment, formData.rent_payment, formData.income_frequency, formData.payment_method, formData.credit_purpose,\n  // Step 3 dependencies\n  formData.bank_name, formData.bank_clabe, formData.bank_account_number, formData.bank_account_type, formData.bank_account_origin, formData.reference1_name, formData.reference1_relationship, formData.reference1_address, formData.reference1_phone, formData.reference2_name, formData.reference2_relationship, formData.reference2_address, formData.reference2_phone]);\n\n  // Fetch companies on component mount\n  useEffect(() => {\n    const fetchCompanies = async () => {\n      try {\n        console.log('Obteniendo lista de empresas...');\n        setLoadingCompanies(true);\n        const response = await executeQuery('SELECT id, name FROM companies ORDER BY name ASC');\n        console.log('Respuesta de empresas:', response);\n        if (response && response.data) {\n          setCompanies(response.data);\n          console.log('Empresas cargadas:', response.data.length);\n        } else {\n          console.error('No se pudieron cargar las empresas');\n        }\n      } catch (err) {\n        console.error('Error al cargar empresas:', err);\n      } finally {\n        setLoadingCompanies(false);\n      }\n    };\n    fetchCompanies();\n  }, []);\n\n  // Manejar cambios en el formulario\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n\n    // Convertir a número si es un campo numérico\n    if (type === 'number') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value === '' ? undefined : parseFloat(value)\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n\n    // Limpiar error si existe\n    if (errors[name]) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n\n  // Manejar documentos agregados\n  const handleDocumentAdded = document => {\n    setDocuments(prev => [...prev, document]);\n  };\n\n  // Manejar documentos eliminados\n  const handleDocumentRemoved = index => {\n    setDocuments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Handle company selection\n  const handleCompanyChange = e => {\n    const {\n      value\n    } = e.target;\n    console.log('Empresa seleccionada:', value);\n    setFormData(prev => ({\n      ...prev,\n      company_id: value\n    }));\n    if (errors.company_id) {\n      setErrors(prev => {\n        const newErrors = {\n          ...prev\n        };\n        delete newErrors.company_id;\n        return newErrors;\n      });\n    }\n  };\n\n  // Validar datos antes de enviar\n  const validateForm = () => {\n    var _formData$first_name, _formData$paternal_su;\n    const newErrors = {};\n\n    // Validar campos obligatorios solo para el paso 1 (datos personales básicos)\n    if (!((_formData$first_name = formData.first_name) !== null && _formData$first_name !== void 0 && _formData$first_name.trim())) {\n      newErrors.first_name = 'El nombre es obligatorio';\n    }\n    if (!((_formData$paternal_su = formData.paternal_surname) !== null && _formData$paternal_su !== void 0 && _formData$paternal_su.trim())) {\n      newErrors.paternal_surname = 'El apellido paterno es obligatorio';\n    }\n\n    // Validate company_id is selected\n    if (!formData.company_id) {\n      newErrors.company_id = 'Debe seleccionar una empresa';\n    }\n\n    // Validar formato de email solo si se ha ingresado algo\n    if (formData.email && !/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'El correo electrónico no es válido';\n    }\n\n    // Validar RFC solo si se ha ingresado algo\n    if (formData.rfc && !/^([A-ZÑ&]{3,4})(\\d{6})([A-Z\\d]{3})$/.test(formData.rfc.toUpperCase())) {\n      newErrors.rfc = 'El RFC no tiene un formato válido';\n    }\n\n    // Validar CURP solo si se ha ingresado algo\n    if (formData.curp && !/^([A-Z][AEIOUX][A-Z]{2}\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\\d])(\\d)$/.test(formData.curp.toUpperCase())) {\n      newErrors.curp = 'La CURP no tiene un formato válido';\n    }\n\n    // Validar CLABE solo si se ha ingresado algo\n    if (formData.bank_clabe && !/^\\d{18}$/.test(formData.bank_clabe)) {\n      newErrors.bank_clabe = 'La CLABE debe tener 18 dígitos';\n    }\n\n    // Establecer errores\n    setErrors(newErrors);\n\n    // Solo requerimos que los campos de nombre y apellido paterno estén completos para el envío\n    return !newErrors.first_name && !newErrors.paternal_surname;\n  };\n\n  // Validar solo los campos relevantes para el paso actual\n  const validateCurrentStep = () => {\n    console.log('🔍 Validando paso actual:', currentStep);\n    console.log('🔍 Datos actuales:', formData);\n    const newErrors = {};\n    if (currentStep === 1) {\n      var _formData$first_name2, _formData$paternal_su2;\n      // Validar que se haya seleccionado una empresa\n      if (!formData.company_id) {\n        newErrors.company_id = 'Debe seleccionar una empresa';\n        console.log('🔍 Error: No se ha seleccionado empresa');\n      }\n\n      // Validar campos obligatorios\n      if (!((_formData$first_name2 = formData.first_name) !== null && _formData$first_name2 !== void 0 && _formData$first_name2.trim())) {\n        newErrors.first_name = 'El nombre es obligatorio';\n        console.log('🔍 Error: Nombre obligatorio no proporcionado');\n      }\n      if (!((_formData$paternal_su2 = formData.paternal_surname) !== null && _formData$paternal_su2 !== void 0 && _formData$paternal_su2.trim())) {\n        newErrors.paternal_surname = 'El apellido paterno es obligatorio';\n        console.log('🔍 Error: Apellido paterno obligatorio no proporcionado');\n      }\n\n      // Validar email, RFC y CURP solo si se han ingresado\n      if (formData.email && !/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n        newErrors.email = 'El correo electrónico no es válido';\n      }\n      if (formData.rfc && !/^([A-ZÑ&]{3,4})(\\d{6})([A-Z\\d]{3})$/.test(formData.rfc.toUpperCase())) {\n        newErrors.rfc = 'El RFC no tiene un formato válido';\n      }\n      if (formData.curp && !/^([A-Z][AEIOUX][A-Z]{2}\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\\d])(\\d)$/.test(formData.curp.toUpperCase())) {\n        newErrors.curp = 'La CURP no tiene un formato válido';\n      }\n    } else if (currentStep === 3) {\n      // Validar CLABE solo si se ha ingresado\n      if (formData.bank_clabe && !/^\\d{18}$/.test(formData.bank_clabe)) {\n        newErrors.bank_clabe = 'La CLABE debe tener 18 dígitos';\n      }\n    }\n    console.log('🔍 Errores de validación:', newErrors);\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Manejar envío del formulario\n  const handleSubmit = async e => {\n    var _formData$first_name3, _formData$paternal_su3;\n    e.preventDefault();\n    console.log('🔍 [ClientForm] Iniciando envío completo del formulario');\n    console.log('🔍 [ClientForm] Datos a enviar:', formData);\n\n    // Only validate first name and paternal surname\n    const nameErrors = {};\n    if (!((_formData$first_name3 = formData.first_name) !== null && _formData$first_name3 !== void 0 && _formData$first_name3.trim())) {\n      nameErrors['first_name'] = 'El nombre es obligatorio';\n    }\n    if (!((_formData$paternal_su3 = formData.paternal_surname) !== null && _formData$paternal_su3 !== void 0 && _formData$paternal_su3.trim())) {\n      nameErrors['paternal_surname'] = 'El apellido paterno es obligatorio';\n    }\n    if (Object.keys(nameErrors).length > 0) {\n      setErrors(nameErrors);\n      alert('Por favor, completa al menos el nombre y apellido paterno para guardar');\n      setCurrentStep(1); // Go back to personal data section\n      return;\n    }\n    try {\n      // Process form data to ensure numeric fields are correctly formatted\n      const processedData = {\n        ...formData\n      };\n\n      // Ensure numeric fields are properly converted to numbers\n      if (processedData.employment_years !== undefined && processedData.employment_years !== null) {\n        if (typeof processedData.employment_years === 'string') {\n          processedData.employment_years = parseInt(processedData.employment_years, 10);\n          console.log('🔍 [ClientForm] Converted employment_years to number:', processedData.employment_years);\n        }\n      }\n\n      // Convert other numeric fields if they're strings\n      ['monthly_income', 'additional_income', 'monthly_expenses', 'other_loan_balances'].forEach(field => {\n        const key = field;\n        if (processedData[key] !== undefined && processedData[key] !== null) {\n          if (typeof processedData[key] === 'string') {\n            processedData[key] = parseFloat(processedData[key]);\n            console.log(`🔍 [ClientForm] Converted ${field} to number:`, processedData[key]);\n          }\n        }\n      });\n      console.log('🔍 [ClientForm] Enviando datos procesados:', processedData);\n\n      // Show loader during submission\n      await onSubmit(processedData, documents);\n      console.log('🔍 [ClientForm] Formulario enviado exitosamente');\n\n      // Clean up localStorage on successful submission\n      localStorage.removeItem('clientFormData');\n      localStorage.removeItem('clientFormStep');\n      console.log('🔍 [ClientForm] Datos de localStorage limpiados después de envío exitoso');\n    } catch (error) {\n      console.error('🔍 [ClientForm] Error al guardar cliente:', error);\n      alert(`Error al guardar: ${error.message || 'Error desconocido'}`);\n    }\n  };\n\n  // Avanzar al siguiente paso\n  const nextStep = () => {\n    // Always allow navigation forward regardless of validation\n    if (currentStep < 4) {\n      // Save the current state to localStorage for recovery in case of crash\n      try {\n        localStorage.setItem('clientFormData', JSON.stringify(formData));\n        localStorage.setItem('clientFormStep', String(currentStep + 1));\n      } catch (err) {\n        console.error('Error saving form state:', err);\n      }\n      setCurrentStep(prev => prev + 1);\n    }\n  };\n\n  // Calculate initial progress\n  useEffect(() => {\n    try {\n      console.log('Initializing form with data:', initialData);\n\n      // If we have initialData, try to recover form state\n      if (initialData && Object.keys(initialData).length > 0) {\n        // Set form data from initialData\n        if (initialData.id) {\n          console.log('Editing existing client with ID:', initialData.id);\n\n          // Try to load any saved state from localStorage\n          const savedFormData = localStorage.getItem('clientFormData');\n          const savedStep = localStorage.getItem('clientFormStep');\n          if (savedFormData && savedStep) {\n            try {\n              const parsedData = JSON.parse(savedFormData);\n\n              // Only use saved data if it's for the same client\n              if (parsedData.id === initialData.id) {\n                console.log('🔍 [ClientForm] Encontrados datos en localStorage para el mismo cliente');\n                setFormData(prev => ({\n                  ...prev,\n                  ...parsedData\n                }));\n                const parsedStep = parseInt(savedStep, 10);\n                if (!isNaN(parsedStep) && parsedStep >= 1 && parsedStep <= 4) {\n                  console.log('🔍 [ClientForm] Restaurando al paso:', parsedStep);\n                  setCurrentStep(parsedStep);\n                }\n              } else {\n                console.log('🔍 [ClientForm] ID no coincide, ignorando datos de localStorage');\n                // Clear localStorage since we're editing a different client\n                localStorage.removeItem('clientFormData');\n                localStorage.removeItem('clientFormStep');\n              }\n            } catch (parseError) {\n              console.error('Error parsing saved form data:', parseError);\n              // Clear potentially corrupted localStorage data\n              localStorage.removeItem('clientFormData');\n              localStorage.removeItem('clientFormStep');\n            }\n          }\n        }\n      }\n    } catch (err) {\n      console.error('Error recovering form state:', err);\n      setCurrentStep(1);\n    }\n  }, [initialData]);\n\n  // Save current section and exit\n  const handleSaveAndExit = async () => {\n    try {\n      // Log the saving attempt\n      console.log(`Saving client data at step ${currentStep} and exiting...`);\n      console.log('Form data being saved:', formData);\n\n      // Show saving indicator\n      setSectionSubmitting(true);\n      if (onSavePartial) {\n        const result = await onSavePartial(formData, currentStep);\n        console.log(`Successfully saved data for section ${currentStep}`, result);\n\n        // Update form data with the result to ensure consistency\n        if (result) {\n          setFormData(prevData => ({\n            ...prevData,\n            ...result\n          }));\n\n          // Give visual feedback before navigating away\n          setTimeout(() => {\n            // Clear local storage after successful save\n            localStorage.removeItem('clientFormData');\n            localStorage.removeItem('clientFormStep');\n\n            // Navigate back to clients list\n            navigate('/clients');\n          }, 1000);\n        }\n      } else {\n        // Fallback to full save if partial saving not provided\n        await onSubmit(formData, documents);\n        console.log('Successfully saved all client data');\n\n        // Clear local storage after successful save\n        localStorage.removeItem('clientFormData');\n        localStorage.removeItem('clientFormStep');\n\n        // Navigate back to clients list\n        navigate('/clients');\n      }\n    } catch (error) {\n      console.error(`Error saving client data at step ${currentStep}:`, error);\n\n      // Create a more detailed error message for the user\n      let errorMessage = 'Error al guardar: ';\n      if (error.message) {\n        errorMessage += error.message;\n      } else if (error.code) {\n        errorMessage += `Error de base de datos (${error.code})`;\n      } else {\n        errorMessage += 'Error desconocido al guardar los datos';\n      }\n      alert(errorMessage);\n    } finally {\n      setSectionSubmitting(false);\n    }\n  };\n\n  // Handle save and continue action \n  const handleSaveAndContinue = async () => {\n    if (currentStep >= 4) return;\n    try {\n      console.log(`🔍 [ClientForm] Iniciando guardado del paso ${currentStep} y continuando...`);\n      console.log('🔍 [ClientForm] Datos actuales del formulario:', formData);\n\n      // Validate current step\n      if (!validateCurrentStep()) {\n        console.log('🔍 [ClientForm] Validación fallida para el paso actual');\n        return;\n      }\n\n      // Show saving indicator\n      setSectionSubmitting(true);\n      if (onSavePartial) {\n        console.log('🔍 [ClientForm] Llamando a onSavePartial con datos:', formData);\n        // Save the data for the current step\n        const result = await onSavePartial(formData, currentStep);\n        console.log(`🔍 [ClientForm] Datos guardados para sección ${currentStep}, resultado:`, result);\n\n        // Update form data with the result to ensure consistency\n        if (result) {\n          setFormData(prevData => {\n            const updatedData = {\n              ...prevData,\n              ...result\n            };\n            console.log('🔍 [ClientForm] Formulario actualizado con datos del servidor:', updatedData);\n            return updatedData;\n          });\n        }\n      }\n\n      // Save current state to localStorage\n      try {\n        localStorage.setItem('clientFormData', JSON.stringify(formData));\n        localStorage.setItem('clientFormStep', String(currentStep + 1));\n        console.log('🔍 [ClientForm] Guardado en localStorage - próximo paso:', currentStep + 1);\n      } catch (err) {\n        console.error('Error saving form state:', err);\n      }\n\n      // Continue to next step\n      setCurrentStep(prev => {\n        const nextStep = prev + 1;\n        console.log('🔍 [ClientForm] Avanzando al paso:', nextStep);\n        return nextStep;\n      });\n    } catch (error) {\n      console.error(`🔍 [ClientForm] Error guardando datos del paso ${currentStep}:`, error);\n      alert(`Error al guardar: ${error.message || 'Error desconocido'}`);\n    } finally {\n      setSectionSubmitting(false);\n    }\n  };\n\n  // Retroceder al paso anterior con más logs\n  const prevStep = () => {\n    console.log('🔍 Intentando retroceder del paso', currentStep);\n    if (currentStep > 1) {\n      // Guardar estado actual en localStorage con el paso anterior\n      try {\n        localStorage.setItem('clientFormData', JSON.stringify(formData));\n        localStorage.setItem('clientFormStep', String(currentStep - 1));\n        console.log('🔍 Actualizando localStorage con paso anterior:', currentStep - 1);\n      } catch (err) {\n        console.error('Error guardando estado del formulario:', err);\n      }\n\n      // Establecer el paso anterior\n      setCurrentStep(prev => {\n        const newStep = prev - 1;\n        console.log('🔍 Estableciendo nuevo paso:', newStep);\n        return newStep;\n      });\n    } else {\n      console.log('🔍 Ya estamos en el primer paso, no se puede retroceder más');\n    }\n  };\n\n  // Add a state for section saving\n  const [sectionSubmitting, setSectionSubmitting] = useState(false);\n\n  // Función para reiniciar el formulario\n  const resetForm = () => {\n    console.log('🔍 Reiniciando formulario...');\n\n    // Limpiar localStorage\n    localStorage.removeItem('clientFormData');\n    localStorage.removeItem('clientFormStep');\n\n    // Resetear el formulario al estado inicial\n    setFormData({\n      first_name: '',\n      paternal_surname: '',\n      maternal_surname: '',\n      email: '',\n      phone: '',\n      address: '',\n      city: '',\n      state: '',\n      postal_code: '',\n      birth_date: '',\n      gender: '',\n      marital_status: '',\n      employment_type: '',\n      employment_years: undefined,\n      rfc: '',\n      curp: '',\n      monthly_income: undefined,\n      additional_income: undefined,\n      monthly_expenses: undefined,\n      other_loan_balances: undefined,\n      bank_name: '',\n      bank_clabe: '',\n      bank_account_number: '',\n      bank_account_type: '',\n      bank_account_origin: '',\n      company_id: '',\n      // Nuevos campos\n      street_number_ext: '',\n      street_number_int: '',\n      neighborhood: '',\n      home_phone: '',\n      birth_state: '',\n      nationality: '',\n      job_position: '',\n      employer_name: '',\n      employer_phone: '',\n      employer_address: '',\n      employer_activity: '',\n      mortgage_payment: undefined,\n      rent_payment: undefined,\n      dependent_persons: undefined,\n      income_frequency: '',\n      payment_method: '',\n      credit_purpose: '',\n      spouse_paternal_surname: '',\n      spouse_maternal_surname: '',\n      reference1_name: '',\n      reference1_relationship: '',\n      reference1_address: '',\n      reference1_phone: '',\n      reference2_name: '',\n      reference2_relationship: '',\n      reference2_address: '',\n      reference2_phone: '',\n      ...initialData\n    });\n\n    // Volver al paso 1\n    setCurrentStep(1);\n\n    // Limpiar errores\n    setErrors({});\n    console.log('🔍 Formulario reiniciado correctamente');\n  };\n\n  // Renderizado condicional de pasos\n  const renderStep = () => {\n    console.log('🔍 [ClientForm] Renderizando paso', currentStep, 'con datos:', formData);\n    console.log('Empresas disponibles:', companies.length);\n    switch (currentStep) {\n      case 1:\n        console.log('🔍 ClientForm: Entrando en caso 1 - Datos Personales');\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold\",\n            children: \"Datos Personales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: [\"Empresa \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-error\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 54\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"company_id\",\n              value: formData.company_id || '',\n              onChange: handleCompanyChange,\n              className: `select select-bordered w-full ${errors.company_id ? 'select-error' : ''}`,\n              disabled: loadingCompanies,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Seleccionar empresa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 17\n              }, this), companies.map(company => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: company.id,\n                children: company.name\n              }, company.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 786,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 15\n            }, this), errors.company_id && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-error text-sm mt-1\",\n              children: errors.company_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 37\n            }, this), loadingCompanies && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm mt-1\",\n              children: \"Cargando empresas...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: [\"Nombre(s) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-error\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 797,\n                  columnNumber: 56\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 797,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"first_name\",\n              className: `input input-bordered w-full ${errors.first_name ? 'input-error' : ''}`,\n              value: formData.first_name || '',\n              onChange: handleChange,\n              placeholder: \"Nombre(s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 15\n            }, this), errors.first_name && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-error text-sm mt-1\",\n              children: errors.first_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: [\"Apellido Paterno \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-error\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 812,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"paternal_surname\",\n              className: `input input-bordered w-full ${errors.paternal_surname ? 'input-error' : ''}`,\n              value: formData.paternal_surname || '',\n              onChange: handleChange,\n              placeholder: \"Apellido Paterno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 15\n            }, this), errors.paternal_surname && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-error text-sm mt-1\",\n              children: errors.paternal_surname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"Apellido Materno\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"maternal_surname\",\n              className: \"input input-bordered w-full\",\n              value: formData.maternal_surname || '',\n              onChange: handleChange,\n              placeholder: \"Apellido Materno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"Correo Electr\\xF3nico\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              className: `input input-bordered w-full ${errors.email ? 'input-error' : ''}`,\n              value: formData.email || '',\n              onChange: handleChange,\n              placeholder: \"correo@ejemplo.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 15\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-error text-sm mt-1\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"Tel\\xE9fono\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              name: \"phone\",\n              className: \"input input-bordered w-full\",\n              value: formData.phone || '',\n              onChange: handleChange,\n              placeholder: \"(123) 456-7890\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"RFC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"rfc\",\n              className: `input input-bordered w-full ${errors.rfc ? 'input-error' : ''}`,\n              value: formData.rfc || '',\n              onChange: handleChange,\n              placeholder: \"ABCD123456XXX\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 15\n            }, this), errors.rfc && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-error text-sm mt-1\",\n              children: errors.rfc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 880,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 868,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"CURP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"curp\",\n              className: `input input-bordered w-full ${errors.curp ? 'input-error' : ''}`,\n              value: formData.curp || '',\n              onChange: handleChange,\n              placeholder: \"ABCD123456HDFXXX01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this), errors.curp && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-error text-sm mt-1\",\n              children: errors.curp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"Fecha de Nacimiento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"birth_date\",\n              className: \"input input-bordered w-full\",\n              value: formData.birth_date || '',\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"G\\xE9nero\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"gender\",\n              className: \"select select-bordered w-full\",\n              value: formData.gender || '',\n              onChange: handleChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Seleccionar...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"masculino\",\n                children: \"Masculino\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"femenino\",\n                children: \"Femenino\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"otro\",\n                children: \"Otro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"label\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"label-text\",\n                children: \"Estado Civil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 930,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"marital_status\",\n              className: \"select select-bordered w-full\",\n              value: formData.marital_status || '',\n              onChange: handleChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Seleccionar...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 17\n              }, this), MARITAL_STATUS_TYPES.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: option.value,\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Detalles Financieros y Balance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Tipo de Empleo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 957,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"employment_type\",\n                value: formData.employment_type || '',\n                onChange: handleChange,\n                className: `select select-bordered w-full ${errors.employment_type ? 'select-error' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Seleccionar tipo de empleo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 19\n                }, this), EMPLOYMENT_TYPES.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option.value,\n                  children: option.label\n                }, option.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 967,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 17\n              }, this), errors.employment_type && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.employment_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 955,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Antig\\xFCedad (a\\xF1os)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"employment_years\",\n                value: formData.employment_years || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.employment_years ? 'input-error' : ''}`,\n                placeholder: \"A\\xF1os de antig\\xFCedad\",\n                min: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 17\n              }, this), errors.employment_years && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.employment_years\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Ingreso Mensual ($)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 991,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"monthly_income\",\n                value: formData.monthly_income || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.monthly_income ? 'input-error' : ''}`,\n                placeholder: \"0.00\",\n                min: \"0\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 17\n              }, this), errors.monthly_income && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.monthly_income\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 989,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Ingresos Adicionales ($)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1008,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1007,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"additional_income\",\n                value: formData.additional_income || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.additional_income ? 'input-error' : ''}`,\n                placeholder: \"0.00\",\n                min: \"0\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1010,\n                columnNumber: 17\n              }, this), errors.additional_income && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.additional_income\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1020,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1006,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Gastos Mensuales ($)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1025,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1024,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"monthly_expenses\",\n                value: formData.monthly_expenses || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.monthly_expenses ? 'input-error' : ''}`,\n                placeholder: \"0.00\",\n                min: \"0\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1027,\n                columnNumber: 17\n              }, this), errors.monthly_expenses && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.monthly_expenses\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Saldos de Otros Cr\\xE9ditos ($)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1042,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1041,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"other_loan_balances\",\n                value: formData.other_loan_balances || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.other_loan_balances ? 'input-error' : ''}`,\n                placeholder: \"0.00\",\n                min: \"0\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 17\n              }, this), errors.other_loan_balances && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.other_loan_balances\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 951,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Datos de la Cuenta Bancaria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1063,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Banco\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1068,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"bank_name\",\n                value: formData.bank_name || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.bank_name ? 'input-error' : ''}`,\n                placeholder: \"Nombre del banco\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1070,\n                columnNumber: 17\n              }, this), errors.bank_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.bank_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1078,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"CLABE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1083,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1082,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"bank_clabe\",\n                value: formData.bank_clabe || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.bank_clabe ? 'input-error' : ''}`,\n                placeholder: \"18 d\\xEDgitos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1085,\n                columnNumber: 17\n              }, this), errors.bank_clabe && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.bank_clabe\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1093,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"N\\xFAmero de Cuenta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1097,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"bank_account_number\",\n                value: formData.bank_account_number || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.bank_account_number ? 'input-error' : ''}`,\n                placeholder: \"N\\xFAmero de cuenta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 17\n              }, this), errors.bank_account_number && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.bank_account_number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1108,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1096,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Tipo de Cuenta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1113,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"bank_account_type\",\n                value: formData.bank_account_type || '',\n                onChange: handleChange,\n                className: `select select-bordered w-full ${errors.bank_account_type ? 'select-error' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Seleccionar tipo de cuenta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1121,\n                  columnNumber: 19\n                }, this), BANK_ACCOUNT_TYPES.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option.value,\n                  children: option.label\n                }, option.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1123,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 17\n              }, this), errors.bank_account_type && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.bank_account_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1126,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"label\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label-text\",\n                  children: \"Origen de la Cuenta (Estado)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1131,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"bank_account_origin\",\n                value: formData.bank_account_origin || '',\n                onChange: handleChange,\n                className: `input input-bordered w-full ${errors.bank_account_origin ? 'input-error' : ''}`,\n                placeholder: \"Estado donde se abri\\xF3 la cuenta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1133,\n                columnNumber: 17\n              }, this), errors.bank_account_origin && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-error text-xs mt-1\",\n                children: errors.bank_account_origin\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1141,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1062,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"Documentos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Sube los documentos del cliente. Todos los formatos son aceptados.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DocumentUploader, {\n            categories: DOCUMENT_CATEGORIES,\n            onDocumentAdded: handleDocumentAdded,\n            onDocumentRemoved: handleDocumentRemoved,\n            existingDocuments: documents,\n            clientId: initialData === null || initialData === void 0 ? void 0 : initialData.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-2 md:p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-medium text-gray-500 mb-1\",\n        children: [\"Completado: \", progress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2.5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-primary h-2.5 rounded-full\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"steps steps-horizontal w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: `step ${currentStep >= 1 ? 'step-primary' : ''}`,\n          children: \"Datos Personales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `step ${currentStep >= 2 ? 'step-primary' : ''}`,\n          children: \"Datos Financieros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `step ${currentStep >= 3 ? 'step-primary' : ''}`,\n          children: \"Datos Bancarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `step ${currentStep >= 4 ? 'step-primary' : ''}`,\n          children: \"Documentos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1184,\n      columnNumber: 7\n    }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-error mb-4\",\n      id: \"error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"stroke-current shrink-0 h-6 w-6\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: \"2\",\n          d: \"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1197,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1196,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold\",\n          children: \"Por favor corrige los siguientes errores:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc ml-5 mt-1\",\n          children: Object.entries(errors).map(([field, message]) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: message\n          }, field, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1203,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1195,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [renderStep(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-between mt-6\",\n        children: [currentStep > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline btn-primary\",\n          onClick: prevStep,\n          disabled: isSubmitting,\n          children: \"Anterior\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-ghost\",\n            onClick: () => navigate('/clients'),\n            disabled: isSubmitting,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 15\n          }, this), currentStep > 1 && currentStep < 4 && onSavePartial && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline btn-secondary\",\n            onClick: handleSaveAndExit,\n            disabled: isSubmitting,\n            children: isSubmitting ? 'Guardando...' : 'Guardar y Salir'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 15\n          }, this), currentStep < 4 && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: currentStep < 3 ? handleSaveAndContinue : nextStep,\n            disabled: isSubmitting,\n            children: isSubmitting ? 'Guardando...' : currentStep === 3 ? 'Siguiente' : 'Guardar y Continuar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1253,\n            columnNumber: 15\n          }, this), currentStep === 4 && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-success\",\n            disabled: isSubmitting,\n            children: isSubmitting ? 'Guardando...' : 'Guardar Cliente'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1169,\n    columnNumber: 5\n  }, this);\n};\n_s(ClientForm, \"y0pJM5maWMuUeDuSpl+9L5gq6cI=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = ClientForm;\nexport default ClientForm;\nvar _c;\n$RefreshReg$(_c, \"ClientForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useNavigate","DocumentUploader","useAuth","executeQuery","jsxDEV","_jsxDEV","DOCUMENT_CATEGORIES","value","label","EMPLOYMENT_TYPES","MARITAL_STATUS_TYPES","BANK_ACCOUNT_TYPES","ClientForm","initialData","onSubmit","onSavePartial","isSubmitting","_s","navigate","user","formData","setFormData","first_name","paternal_surname","maternal_surname","email","phone","address","city","state","postal_code","birth_date","gender","marital_status","employment_type","employment_years","undefined","rfc","curp","monthly_income","additional_income","monthly_expenses","other_loan_balances","bank_name","bank_clabe","bank_account_number","bank_account_type","bank_account_origin","company_id","street_number_ext","street_number_int","neighborhood","home_phone","birth_state","nationality","job_position","employer_name","employer_phone","employer_address","employer_activity","mortgage_payment","rent_payment","dependent_persons","income_frequency","payment_method","credit_purpose","spouse_paternal_surname","spouse_maternal_surname","reference1_name","reference1_relationship","reference1_address","reference1_phone","reference2_name","reference2_relationship","reference2_address","reference2_phone","errors","setErrors","documents","setDocuments","currentStep","setCurrentStep","companies","setCompanies","loadingCompanies","setLoadingCompanies","calculateProgress","filledFields","totalFields","step1Fields","length","filter","field","step2Fields","step3Fields","Math","round","progress","fetchCompanies","console","log","response","data","error","err","handleChange","e","name","type","target","prev","parseFloat","newErrors","handleDocumentAdded","document","handleDocumentRemoved","index","_","i","handleCompanyChange","validateForm","_formData$first_name","_formData$paternal_su","trim","test","toUpperCase","validateCurrentStep","_formData$first_name2","_formData$paternal_su2","Object","keys","handleSubmit","_formData$first_name3","_formData$paternal_su3","preventDefault","nameErrors","alert","processedData","parseInt","forEach","key","localStorage","removeItem","message","nextStep","setItem","JSON","stringify","String","id","savedFormData","getItem","savedStep","parsedData","parse","parsedStep","isNaN","parseError","handleSaveAndExit","setSectionSubmitting","result","prevData","setTimeout","errorMessage","code","handleSaveAndContinue","updatedData","prevStep","newStep","sectionSubmitting","resetForm","renderStep","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","disabled","map","company","placeholder","option","min","step","categories","onDocumentAdded","onDocumentRemoved","existingDocuments","clientId","style","width","xmlns","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","entries","onClick","_c","$RefreshReg$"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/components/clients/ClientForm.tsx"],"sourcesContent":["import React, { FC, useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Client } from '../../services/clientService';\nimport DocumentUploader from '../documents/DocumentUploader';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { executeQuery } from '../../services/mcpService';\n\n// Interfaz para documentos\ninterface ClientDocument {\n  id?: string;\n  file: File;\n  category: string;\n  name: string;\n}\n\n// Props para el componente\ninterface ClientFormProps {\n  initialData?: Partial<Client>;\n  onSubmit: (data: Partial<Client>, documents: ClientDocument[]) => Promise<void>;\n  onSavePartial?: (data: Partial<Client>, step: number) => Promise<any>;\n  isSubmitting: boolean;\n}\n\n// Categorías de documentos predefinidas\nconst DOCUMENT_CATEGORIES = [\n  { value: 'identificacion', label: 'Identificación Oficial' },\n  { value: 'comprobante_domicilio', label: 'Comprobante de Domicilio' },\n  { value: 'comprobante_ingresos', label: 'Comprobante de Ingresos' },\n  { value: 'estados_cuenta', label: 'Estados de Cuenta Bancarios' },\n  { value: 'rfc', label: 'Constancia de Situación Fiscal (RFC)' },\n  { value: 'curp', label: 'CURP' },\n  { value: 'otros', label: 'Otros Documentos' },\n];\n\n// Tipos de empleo\nconst EMPLOYMENT_TYPES = [\n  { value: 'empleado', label: 'Empleado' },\n  { value: 'autonomo', label: 'Autónomo / Freelance' },\n  { value: 'empresario', label: 'Empresario' },\n  { value: 'jubilado', label: 'Jubilado' },\n  { value: 'desempleado', label: 'Desempleado' },\n  { value: 'estudiante', label: 'Estudiante' },\n  { value: 'otro', label: 'Otro' },\n];\n\n// Estados civiles\nconst MARITAL_STATUS_TYPES = [\n  { value: 'soltero', label: 'Soltero/a' },\n  { value: 'casado', label: 'Casado/a' },\n  { value: 'divorciado', label: 'Divorciado/a' },\n  { value: 'viudo', label: 'Viudo/a' },\n  { value: 'union_libre', label: 'Unión Libre' },\n];\n\n// Tipos de cuenta bancaria\nconst BANK_ACCOUNT_TYPES = [\n  { value: 'nomina', label: 'Nómina' },\n  { value: 'ahorro', label: 'Ahorro' },\n  { value: 'cheques', label: 'Cheques' },\n  { value: 'inversiones', label: 'Inversiones' },\n];\n\nconst ClientForm: React.FC<ClientFormProps> = ({ initialData = {}, onSubmit, onSavePartial, isSubmitting }) => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  \n  // Estado para los datos del formulario\n  const [formData, setFormData] = useState<Partial<Client>>({\n    first_name: '',\n    paternal_surname: '',\n    maternal_surname: '',\n    email: '',\n    phone: '',\n    address: '',\n    city: '',\n    state: '',\n    postal_code: '',\n    birth_date: '',\n    gender: '',\n    marital_status: '',\n    employment_type: '',\n    employment_years: undefined,\n    rfc: '',\n    curp: '',\n    monthly_income: undefined,\n    additional_income: undefined,\n    monthly_expenses: undefined,\n    other_loan_balances: undefined,\n    bank_name: '',\n    bank_clabe: '',\n    bank_account_number: '',\n    bank_account_type: '',\n    bank_account_origin: '',\n    company_id: '',\n    // Nuevos campos\n    street_number_ext: '',\n    street_number_int: '',\n    neighborhood: '',\n    home_phone: '',\n    birth_state: '',\n    nationality: '',\n    job_position: '',\n    employer_name: '',\n    employer_phone: '',\n    employer_address: '',\n    employer_activity: '',\n    mortgage_payment: undefined,\n    rent_payment: undefined,\n    dependent_persons: undefined,\n    income_frequency: '',\n    payment_method: '',\n    credit_purpose: '',\n    spouse_paternal_surname: '',\n    spouse_maternal_surname: '',\n    reference1_name: '',\n    reference1_relationship: '',\n    reference1_address: '',\n    reference1_phone: '',\n    reference2_name: '',\n    reference2_relationship: '',\n    reference2_address: '',\n    reference2_phone: '',\n    ...initialData,\n  });\n\n  // Estado para errores de validación\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  \n  // Estado para documentos\n  const [documents, setDocuments] = useState<ClientDocument[]>([]);\n  \n  // Estado para el paso actual del formulario\n  const [currentStep, setCurrentStep] = useState(1);\n  \n  // Estado para empresas\n  const [companies, setCompanies] = useState<{id: string, name: string}[]>([]);\n  const [loadingCompanies, setLoadingCompanies] = useState(true);\n  \n  // Calcular el progreso de llenado de formulario\n  const calculateProgress = () => {\n    let filledFields = 0;\n    let totalFields = 0;\n    \n    // Paso 1: Datos Personales Básicos\n    const step1Fields = ['first_name', 'paternal_surname', 'maternal_surname', 'email', 'phone', \n      'rfc', 'curp', 'birth_date', 'gender', 'marital_status', 'address', 'city', 'state', \n      'postal_code', 'company_id', 'street_number_ext', 'street_number_int', 'neighborhood', \n      'home_phone', 'birth_state', 'nationality', 'spouse_paternal_surname', 'spouse_maternal_surname',\n      'dependent_persons'];\n    totalFields += step1Fields.length;\n    filledFields += step1Fields.filter(field => formData[field as keyof Partial<Client>]).length;\n    \n    // Paso 2: Detalles Financieros y Empleo\n    const step2Fields = ['employment_type', 'employment_years', 'job_position', 'employer_name', \n      'employer_phone', 'employer_address', 'employer_activity', 'monthly_income', 'additional_income', \n      'monthly_expenses', 'other_loan_balances', 'mortgage_payment', 'rent_payment', \n      'income_frequency', 'payment_method', 'credit_purpose'];\n    totalFields += step2Fields.length;\n    filledFields += step2Fields.filter(field => formData[field as keyof Partial<Client>] !== undefined && formData[field as keyof Partial<Client>] !== '').length;\n    \n    // Paso 3: Datos Bancarios y Referencias\n    const step3Fields = ['bank_name', 'bank_clabe', 'bank_account_number', 'bank_account_type', \n      'bank_account_origin', 'reference1_name', 'reference1_relationship', 'reference1_address', \n      'reference1_phone', 'reference2_name', 'reference2_relationship', 'reference2_address', \n      'reference2_phone'];\n    totalFields += step3Fields.length;\n    filledFields += step3Fields.filter(field => formData[field as keyof Partial<Client>]).length;\n    \n    // Calcular porcentaje\n    return Math.round((filledFields / totalFields) * 100);\n  };\n  \n  // Use useMemo instead of useState + useEffect to calculate progress\n  const progress = useMemo(() => calculateProgress(), [\n    // Step 1 dependencies\n    formData.first_name,\n    formData.paternal_surname,\n    formData.maternal_surname,\n    formData.email,\n    formData.phone,\n    formData.rfc,\n    formData.curp,\n    formData.birth_date,\n    formData.gender,\n    formData.marital_status,\n    formData.address,\n    formData.city,\n    formData.state,\n    formData.postal_code,\n    formData.company_id,\n    formData.street_number_ext,\n    formData.street_number_int,\n    formData.neighborhood,\n    formData.home_phone,\n    formData.birth_state,\n    formData.nationality,\n    formData.spouse_paternal_surname,\n    formData.spouse_maternal_surname,\n    formData.dependent_persons,\n    // Step 2 dependencies\n    formData.employment_type,\n    formData.employment_years,\n    formData.job_position,\n    formData.employer_name,\n    formData.employer_phone,\n    formData.employer_address,\n    formData.employer_activity,\n    formData.monthly_income,\n    formData.additional_income,\n    formData.monthly_expenses,\n    formData.other_loan_balances,\n    formData.mortgage_payment,\n    formData.rent_payment,\n    formData.income_frequency,\n    formData.payment_method,\n    formData.credit_purpose,\n    // Step 3 dependencies\n    formData.bank_name,\n    formData.bank_clabe,\n    formData.bank_account_number,\n    formData.bank_account_type,\n    formData.bank_account_origin,\n    formData.reference1_name,\n    formData.reference1_relationship,\n    formData.reference1_address,\n    formData.reference1_phone,\n    formData.reference2_name,\n    formData.reference2_relationship,\n    formData.reference2_address,\n    formData.reference2_phone\n  ]);\n  \n  // Fetch companies on component mount\n  useEffect(() => {\n    const fetchCompanies = async () => {\n      try {\n        console.log('Obteniendo lista de empresas...');\n        setLoadingCompanies(true);\n        \n        const response = await executeQuery('SELECT id, name FROM companies ORDER BY name ASC');\n        console.log('Respuesta de empresas:', response);\n        \n        if (response && response.data) {\n          setCompanies(response.data);\n          console.log('Empresas cargadas:', response.data.length);\n        } else {\n          console.error('No se pudieron cargar las empresas');\n        }\n      } catch (err) {\n        console.error('Error al cargar empresas:', err);\n      } finally {\n        setLoadingCompanies(false);\n      }\n    };\n\n    fetchCompanies();\n  }, []);\n  \n  // Manejar cambios en el formulario\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\n    const { name, value, type } = e.target as HTMLInputElement;\n    \n    // Convertir a número si es un campo numérico\n    if (type === 'number') {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value === '' ? undefined : parseFloat(value)\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n    \n    // Limpiar error si existe\n    if (errors[name]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n  \n  // Manejar documentos agregados\n  const handleDocumentAdded = (document: ClientDocument) => {\n    setDocuments(prev => [...prev, document]);\n  };\n  \n  // Manejar documentos eliminados\n  const handleDocumentRemoved = (index: number) => {\n    setDocuments(prev => prev.filter((_, i) => i !== index));\n  };\n  \n  // Handle company selection\n  const handleCompanyChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = e.target;\n    console.log('Empresa seleccionada:', value);\n    \n    setFormData(prev => ({\n      ...prev,\n      company_id: value\n    }));\n    \n    if (errors.company_id) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors.company_id;\n        return newErrors;\n      });\n    }\n  };\n  \n  // Validar datos antes de enviar\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {};\n    \n    // Validar campos obligatorios solo para el paso 1 (datos personales básicos)\n    if (!formData.first_name?.trim()) {\n      newErrors.first_name = 'El nombre es obligatorio';\n    }\n    \n    if (!formData.paternal_surname?.trim()) {\n      newErrors.paternal_surname = 'El apellido paterno es obligatorio';\n    }\n    \n    // Validate company_id is selected\n    if (!formData.company_id) {\n      newErrors.company_id = 'Debe seleccionar una empresa';\n    }\n    \n    // Validar formato de email solo si se ha ingresado algo\n    if (formData.email && !/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'El correo electrónico no es válido';\n    }\n    \n    // Validar RFC solo si se ha ingresado algo\n    if (formData.rfc && !/^([A-ZÑ&]{3,4})(\\d{6})([A-Z\\d]{3})$/.test(formData.rfc.toUpperCase())) {\n      newErrors.rfc = 'El RFC no tiene un formato válido';\n    }\n    \n    // Validar CURP solo si se ha ingresado algo\n    if (formData.curp && !/^([A-Z][AEIOUX][A-Z]{2}\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\\d])(\\d)$/.test(formData.curp.toUpperCase())) {\n      newErrors.curp = 'La CURP no tiene un formato válido';\n    }\n    \n    // Validar CLABE solo si se ha ingresado algo\n    if (formData.bank_clabe && !/^\\d{18}$/.test(formData.bank_clabe)) {\n      newErrors.bank_clabe = 'La CLABE debe tener 18 dígitos';\n    }\n    \n    // Establecer errores\n    setErrors(newErrors);\n    \n    // Solo requerimos que los campos de nombre y apellido paterno estén completos para el envío\n    return !newErrors.first_name && !newErrors.paternal_surname;\n  };\n  \n  // Validar solo los campos relevantes para el paso actual\n  const validateCurrentStep = () => {\n    console.log('🔍 Validando paso actual:', currentStep);\n    console.log('🔍 Datos actuales:', formData);\n    \n    const newErrors: Record<string, string> = {};\n    \n    if (currentStep === 1) {\n      // Validar que se haya seleccionado una empresa\n      if (!formData.company_id) {\n        newErrors.company_id = 'Debe seleccionar una empresa';\n        console.log('🔍 Error: No se ha seleccionado empresa');\n      }\n      \n      // Validar campos obligatorios\n      if (!formData.first_name?.trim()) {\n        newErrors.first_name = 'El nombre es obligatorio';\n        console.log('🔍 Error: Nombre obligatorio no proporcionado');\n      }\n      \n      if (!formData.paternal_surname?.trim()) {\n        newErrors.paternal_surname = 'El apellido paterno es obligatorio';\n        console.log('🔍 Error: Apellido paterno obligatorio no proporcionado');\n      }\n      \n      // Validar email, RFC y CURP solo si se han ingresado\n      if (formData.email && !/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n        newErrors.email = 'El correo electrónico no es válido';\n      }\n      \n      if (formData.rfc && !/^([A-ZÑ&]{3,4})(\\d{6})([A-Z\\d]{3})$/.test(formData.rfc.toUpperCase())) {\n        newErrors.rfc = 'El RFC no tiene un formato válido';\n      }\n      \n      if (formData.curp && !/^([A-Z][AEIOUX][A-Z]{2}\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\\d])(\\d)$/.test(formData.curp.toUpperCase())) {\n        newErrors.curp = 'La CURP no tiene un formato válido';\n      }\n    } else if (currentStep === 3) {\n      // Validar CLABE solo si se ha ingresado\n      if (formData.bank_clabe && !/^\\d{18}$/.test(formData.bank_clabe)) {\n        newErrors.bank_clabe = 'La CLABE debe tener 18 dígitos';\n      }\n    }\n    \n    console.log('🔍 Errores de validación:', newErrors);\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  \n  // Manejar envío del formulario\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    console.log('🔍 [ClientForm] Iniciando envío completo del formulario');\n    console.log('🔍 [ClientForm] Datos a enviar:', formData);\n    \n    // Only validate first name and paternal surname\n    const nameErrors: Record<string, string> = {};\n    if (!formData.first_name?.trim()) {\n      nameErrors['first_name'] = 'El nombre es obligatorio';\n    }\n    \n    if (!formData.paternal_surname?.trim()) {\n      nameErrors['paternal_surname'] = 'El apellido paterno es obligatorio';\n    }\n    \n    if (Object.keys(nameErrors).length > 0) {\n      setErrors(nameErrors);\n      alert('Por favor, completa al menos el nombre y apellido paterno para guardar');\n      setCurrentStep(1); // Go back to personal data section\n      return;\n    }\n    \n    try {\n      // Process form data to ensure numeric fields are correctly formatted\n      const processedData = {...formData};\n      \n      // Ensure numeric fields are properly converted to numbers\n      if (processedData.employment_years !== undefined && processedData.employment_years !== null) {\n        if (typeof processedData.employment_years === 'string') {\n          processedData.employment_years = parseInt(processedData.employment_years, 10);\n          console.log('🔍 [ClientForm] Converted employment_years to number:', processedData.employment_years);\n        }\n      }\n      \n      // Convert other numeric fields if they're strings\n      ['monthly_income', 'additional_income', 'monthly_expenses', 'other_loan_balances'].forEach(field => {\n        const key = field as keyof typeof processedData;\n        if (processedData[key] !== undefined && processedData[key] !== null) {\n          if (typeof processedData[key] === 'string') {\n            processedData[key] = parseFloat(processedData[key] as string) as any;\n            console.log(`🔍 [ClientForm] Converted ${field} to number:`, processedData[key]);\n          }\n        }\n      });\n      \n      console.log('🔍 [ClientForm] Enviando datos procesados:', processedData);\n      \n      // Show loader during submission\n      await onSubmit(processedData, documents);\n      console.log('🔍 [ClientForm] Formulario enviado exitosamente');\n      \n      // Clean up localStorage on successful submission\n      localStorage.removeItem('clientFormData');\n      localStorage.removeItem('clientFormStep');\n      console.log('🔍 [ClientForm] Datos de localStorage limpiados después de envío exitoso');\n    } catch (error: any) {\n      console.error('🔍 [ClientForm] Error al guardar cliente:', error);\n      alert(`Error al guardar: ${error.message || 'Error desconocido'}`);\n    }\n  };\n  \n  // Avanzar al siguiente paso\n  const nextStep = () => {\n    // Always allow navigation forward regardless of validation\n    if (currentStep < 4) {\n      // Save the current state to localStorage for recovery in case of crash\n      try {\n        localStorage.setItem('clientFormData', JSON.stringify(formData));\n        localStorage.setItem('clientFormStep', String(currentStep + 1));\n      } catch (err) {\n        console.error('Error saving form state:', err);\n      }\n      \n      setCurrentStep(prev => prev + 1);\n    }\n  };\n  \n  // Calculate initial progress\n  useEffect(() => {\n    try {\n      console.log('Initializing form with data:', initialData);\n      \n      // If we have initialData, try to recover form state\n      if (initialData && Object.keys(initialData).length > 0) {\n        // Set form data from initialData\n        if (initialData.id) {\n          console.log('Editing existing client with ID:', initialData.id);\n          \n          // Try to load any saved state from localStorage\n          const savedFormData = localStorage.getItem('clientFormData');\n          const savedStep = localStorage.getItem('clientFormStep');\n          \n          if (savedFormData && savedStep) {\n            try {\n              const parsedData = JSON.parse(savedFormData);\n              \n              // Only use saved data if it's for the same client\n              if (parsedData.id === initialData.id) {\n                console.log('🔍 [ClientForm] Encontrados datos en localStorage para el mismo cliente');\n                \n                setFormData(prev => ({\n                  ...prev,\n                  ...parsedData\n                }));\n                \n                const parsedStep = parseInt(savedStep, 10);\n                if (!isNaN(parsedStep) && parsedStep >= 1 && parsedStep <= 4) {\n                  console.log('🔍 [ClientForm] Restaurando al paso:', parsedStep);\n                  setCurrentStep(parsedStep);\n                }\n              } else {\n                console.log('🔍 [ClientForm] ID no coincide, ignorando datos de localStorage');\n                // Clear localStorage since we're editing a different client\n                localStorage.removeItem('clientFormData');\n                localStorage.removeItem('clientFormStep');\n              }\n            } catch (parseError) {\n              console.error('Error parsing saved form data:', parseError);\n              // Clear potentially corrupted localStorage data\n              localStorage.removeItem('clientFormData');\n              localStorage.removeItem('clientFormStep');\n            }\n          }\n        }\n      }\n    } catch (err) {\n      console.error('Error recovering form state:', err);\n      setCurrentStep(1);\n    }\n  }, [initialData]);\n  \n  // Save current section and exit\n  const handleSaveAndExit = async () => {\n    try {\n      // Log the saving attempt\n      console.log(`Saving client data at step ${currentStep} and exiting...`);\n      console.log('Form data being saved:', formData);\n      \n      // Show saving indicator\n      setSectionSubmitting(true);\n      \n      if (onSavePartial) {\n        const result = await onSavePartial(formData, currentStep);\n        console.log(`Successfully saved data for section ${currentStep}`, result);\n        \n        // Update form data with the result to ensure consistency\n        if (result) {\n          setFormData(prevData => ({...prevData, ...result}));\n          \n          // Give visual feedback before navigating away\n          setTimeout(() => {\n            // Clear local storage after successful save\n            localStorage.removeItem('clientFormData');\n            localStorage.removeItem('clientFormStep');\n            \n            // Navigate back to clients list\n            navigate('/clients');\n          }, 1000);\n        }\n      } else {\n        // Fallback to full save if partial saving not provided\n        await onSubmit(formData, documents);\n        console.log('Successfully saved all client data');\n        \n        // Clear local storage after successful save\n        localStorage.removeItem('clientFormData');\n        localStorage.removeItem('clientFormStep');\n        \n        // Navigate back to clients list\n        navigate('/clients');\n      }\n    } catch (error: any) {\n      console.error(`Error saving client data at step ${currentStep}:`, error);\n      \n      // Create a more detailed error message for the user\n      let errorMessage = 'Error al guardar: ';\n      if (error.message) {\n        errorMessage += error.message;\n      } else if (error.code) {\n        errorMessage += `Error de base de datos (${error.code})`;\n      } else {\n        errorMessage += 'Error desconocido al guardar los datos';\n      }\n      \n      alert(errorMessage);\n    } finally {\n      setSectionSubmitting(false);\n    }\n  };\n  \n  // Handle save and continue action \n  const handleSaveAndContinue = async () => {\n    if (currentStep >= 4) return;\n    \n    try {\n      console.log(`🔍 [ClientForm] Iniciando guardado del paso ${currentStep} y continuando...`);\n      console.log('🔍 [ClientForm] Datos actuales del formulario:', formData);\n      \n      // Validate current step\n      if (!validateCurrentStep()) {\n        console.log('🔍 [ClientForm] Validación fallida para el paso actual');\n        return;\n      }\n      \n      // Show saving indicator\n      setSectionSubmitting(true);\n      \n      if (onSavePartial) {\n        console.log('🔍 [ClientForm] Llamando a onSavePartial con datos:', formData);\n        // Save the data for the current step\n        const result = await onSavePartial(formData, currentStep);\n        console.log(`🔍 [ClientForm] Datos guardados para sección ${currentStep}, resultado:`, result);\n        \n        // Update form data with the result to ensure consistency\n        if (result) {\n          setFormData(prevData => {\n            const updatedData = {...prevData, ...result};\n            console.log('🔍 [ClientForm] Formulario actualizado con datos del servidor:', updatedData);\n            return updatedData;\n          });\n        }\n      }\n      \n      // Save current state to localStorage\n      try {\n        localStorage.setItem('clientFormData', JSON.stringify(formData));\n        localStorage.setItem('clientFormStep', String(currentStep + 1));\n        console.log('🔍 [ClientForm] Guardado en localStorage - próximo paso:', currentStep + 1);\n      } catch (err) {\n        console.error('Error saving form state:', err);\n      }\n      \n      // Continue to next step\n      setCurrentStep(prev => {\n        const nextStep = prev + 1;\n        console.log('🔍 [ClientForm] Avanzando al paso:', nextStep);\n        return nextStep;\n      });\n      \n    } catch (error: any) {\n      console.error(`🔍 [ClientForm] Error guardando datos del paso ${currentStep}:`, error);\n      alert(`Error al guardar: ${error.message || 'Error desconocido'}`);\n    } finally {\n      setSectionSubmitting(false);\n    }\n  };\n  \n  // Retroceder al paso anterior con más logs\n  const prevStep = () => {\n    console.log('🔍 Intentando retroceder del paso', currentStep);\n    if (currentStep > 1) {\n      // Guardar estado actual en localStorage con el paso anterior\n      try {\n        localStorage.setItem('clientFormData', JSON.stringify(formData));\n        localStorage.setItem('clientFormStep', String(currentStep - 1));\n        console.log('🔍 Actualizando localStorage con paso anterior:', currentStep - 1);\n      } catch (err) {\n        console.error('Error guardando estado del formulario:', err);\n      }\n      \n      // Establecer el paso anterior\n      setCurrentStep(prev => {\n        const newStep = prev - 1;\n        console.log('🔍 Estableciendo nuevo paso:', newStep);\n        return newStep;\n      });\n    } else {\n      console.log('🔍 Ya estamos en el primer paso, no se puede retroceder más');\n    }\n  };\n  \n  // Add a state for section saving\n  const [sectionSubmitting, setSectionSubmitting] = useState(false);\n  \n  // Función para reiniciar el formulario\n  const resetForm = () => {\n    console.log('🔍 Reiniciando formulario...');\n    \n    // Limpiar localStorage\n    localStorage.removeItem('clientFormData');\n    localStorage.removeItem('clientFormStep');\n    \n    // Resetear el formulario al estado inicial\n    setFormData({\n      first_name: '',\n      paternal_surname: '',\n      maternal_surname: '',\n      email: '',\n      phone: '',\n      address: '',\n      city: '',\n      state: '',\n      postal_code: '',\n      birth_date: '',\n      gender: '',\n      marital_status: '',\n      employment_type: '',\n      employment_years: undefined,\n      rfc: '',\n      curp: '',\n      monthly_income: undefined,\n      additional_income: undefined,\n      monthly_expenses: undefined,\n      other_loan_balances: undefined,\n      bank_name: '',\n      bank_clabe: '',\n      bank_account_number: '',\n      bank_account_type: '',\n      bank_account_origin: '',\n      company_id: '',\n      // Nuevos campos\n      street_number_ext: '',\n      street_number_int: '',\n      neighborhood: '',\n      home_phone: '',\n      birth_state: '',\n      nationality: '',\n      job_position: '',\n      employer_name: '',\n      employer_phone: '',\n      employer_address: '',\n      employer_activity: '',\n      mortgage_payment: undefined,\n      rent_payment: undefined,\n      dependent_persons: undefined,\n      income_frequency: '',\n      payment_method: '',\n      credit_purpose: '',\n      spouse_paternal_surname: '',\n      spouse_maternal_surname: '',\n      reference1_name: '',\n      reference1_relationship: '',\n      reference1_address: '',\n      reference1_phone: '',\n      reference2_name: '',\n      reference2_relationship: '',\n      reference2_address: '',\n      reference2_phone: '',\n      ...initialData,\n    });\n    \n    // Volver al paso 1\n    setCurrentStep(1);\n    \n    // Limpiar errores\n    setErrors({});\n    \n    console.log('🔍 Formulario reiniciado correctamente');\n  };\n  \n  // Renderizado condicional de pasos\n  const renderStep = () => {\n    console.log('🔍 [ClientForm] Renderizando paso', currentStep, 'con datos:', formData);\n    console.log('Empresas disponibles:', companies.length);\n    \n    switch (currentStep) {\n      case 1:\n        console.log('🔍 ClientForm: Entrando en caso 1 - Datos Personales');\n        return (\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-bold\">Datos Personales</h3>\n            \n            {/* Company Selector */}\n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Empresa <span className=\"text-error\">*</span></span>\n              </label>\n              <select\n                name=\"company_id\"\n                value={formData.company_id || ''}\n                onChange={handleCompanyChange}\n                className={`select select-bordered w-full ${errors.company_id ? 'select-error' : ''}`}\n                disabled={loadingCompanies}\n              >\n                <option value=\"\">Seleccionar empresa</option>\n                {companies.map(company => (\n                  <option key={company.id} value={company.id}>\n                    {company.name}\n                  </option>\n                ))}\n              </select>\n              {errors.company_id && <span className=\"text-error text-sm mt-1\">{errors.company_id}</span>}\n              {loadingCompanies && <span className=\"text-sm mt-1\">Cargando empresas...</span>}\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Nombre(s) <span className=\"text-error\">*</span></span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"first_name\"\n                className={`input input-bordered w-full ${errors.first_name ? 'input-error' : ''}`}\n                value={formData.first_name || ''}\n                onChange={handleChange}\n                placeholder=\"Nombre(s)\"\n              />\n              {errors.first_name && <span className=\"text-error text-sm mt-1\">{errors.first_name}</span>}\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Apellido Paterno <span className=\"text-error\">*</span></span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"paternal_surname\"\n                className={`input input-bordered w-full ${errors.paternal_surname ? 'input-error' : ''}`}\n                value={formData.paternal_surname || ''}\n                onChange={handleChange}\n                placeholder=\"Apellido Paterno\"\n              />\n              {errors.paternal_surname && <span className=\"text-error text-sm mt-1\">{errors.paternal_surname}</span>}\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Apellido Materno</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"maternal_surname\"\n                className=\"input input-bordered w-full\"\n                value={formData.maternal_surname || ''}\n                onChange={handleChange}\n                placeholder=\"Apellido Materno\"\n              />\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Correo Electrónico</span>\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className={`input input-bordered w-full ${errors.email ? 'input-error' : ''}`}\n                value={formData.email || ''}\n                onChange={handleChange}\n                placeholder=\"correo@ejemplo.com\"\n              />\n              {errors.email && <span className=\"text-error text-sm mt-1\">{errors.email}</span>}\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Teléfono</span>\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                className=\"input input-bordered w-full\"\n                value={formData.phone || ''}\n                onChange={handleChange}\n                placeholder=\"(123) 456-7890\"\n              />\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">RFC</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"rfc\"\n                className={`input input-bordered w-full ${errors.rfc ? 'input-error' : ''}`}\n                value={formData.rfc || ''}\n                onChange={handleChange}\n                placeholder=\"ABCD123456XXX\"\n              />\n              {errors.rfc && <span className=\"text-error text-sm mt-1\">{errors.rfc}</span>}\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">CURP</span>\n              </label>\n              <input\n                type=\"text\"\n                name=\"curp\"\n                className={`input input-bordered w-full ${errors.curp ? 'input-error' : ''}`}\n                value={formData.curp || ''}\n                onChange={handleChange}\n                placeholder=\"ABCD123456HDFXXX01\"\n              />\n              {errors.curp && <span className=\"text-error text-sm mt-1\">{errors.curp}</span>}\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Fecha de Nacimiento</span>\n              </label>\n              <input\n                type=\"date\"\n                name=\"birth_date\"\n                className=\"input input-bordered w-full\"\n                value={formData.birth_date || ''}\n                onChange={handleChange}\n              />\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Género</span>\n              </label>\n              <select\n                name=\"gender\"\n                className=\"select select-bordered w-full\"\n                value={formData.gender || ''}\n                onChange={handleChange}\n              >\n                <option value=\"\">Seleccionar...</option>\n                <option value=\"masculino\">Masculino</option>\n                <option value=\"femenino\">Femenino</option>\n                <option value=\"otro\">Otro</option>\n              </select>\n            </div>\n            \n            <div className=\"form-control\">\n              <label className=\"label\">\n                <span className=\"label-text\">Estado Civil</span>\n              </label>\n              <select\n                name=\"marital_status\"\n                className=\"select select-bordered w-full\"\n                value={formData.marital_status || ''}\n                onChange={handleChange}\n              >\n                <option value=\"\">Seleccionar...</option>\n                {MARITAL_STATUS_TYPES.map(option => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        );\n      \n      case 2:\n        return (\n          <div className=\"space-y-6\">\n            <h3 className=\"text-lg font-semibold\">Detalles Financieros y Balance</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Tipo de Empleo</span>\n                </label>\n                <select\n                  name=\"employment_type\"\n                  value={formData.employment_type || ''}\n                  onChange={handleChange}\n                  className={`select select-bordered w-full ${errors.employment_type ? 'select-error' : ''}`}\n                >\n                  <option value=\"\">Seleccionar tipo de empleo</option>\n                  {EMPLOYMENT_TYPES.map(option => (\n                    <option key={option.value} value={option.value}>{option.label}</option>\n                  ))}\n                </select>\n                {errors.employment_type && <span className=\"text-error text-xs mt-1\">{errors.employment_type}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Antigüedad (años)</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"employment_years\"\n                  value={formData.employment_years || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.employment_years ? 'input-error' : ''}`}\n                  placeholder=\"Años de antigüedad\"\n                  min=\"0\"\n                />\n                {errors.employment_years && <span className=\"text-error text-xs mt-1\">{errors.employment_years}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Ingreso Mensual ($)</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"monthly_income\"\n                  value={formData.monthly_income || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.monthly_income ? 'input-error' : ''}`}\n                  placeholder=\"0.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n                {errors.monthly_income && <span className=\"text-error text-xs mt-1\">{errors.monthly_income}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Ingresos Adicionales ($)</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"additional_income\"\n                  value={formData.additional_income || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.additional_income ? 'input-error' : ''}`}\n                  placeholder=\"0.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n                {errors.additional_income && <span className=\"text-error text-xs mt-1\">{errors.additional_income}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Gastos Mensuales ($)</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"monthly_expenses\"\n                  value={formData.monthly_expenses || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.monthly_expenses ? 'input-error' : ''}`}\n                  placeholder=\"0.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n                {errors.monthly_expenses && <span className=\"text-error text-xs mt-1\">{errors.monthly_expenses}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Saldos de Otros Créditos ($)</span>\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"other_loan_balances\"\n                  value={formData.other_loan_balances || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.other_loan_balances ? 'input-error' : ''}`}\n                  placeholder=\"0.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n                {errors.other_loan_balances && <span className=\"text-error text-xs mt-1\">{errors.other_loan_balances}</span>}\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 3:\n        return (\n          <div className=\"space-y-6\">\n            <h3 className=\"text-lg font-semibold\">Datos de la Cuenta Bancaria</h3>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Banco</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"bank_name\"\n                  value={formData.bank_name || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.bank_name ? 'input-error' : ''}`}\n                  placeholder=\"Nombre del banco\"\n                />\n                {errors.bank_name && <span className=\"text-error text-xs mt-1\">{errors.bank_name}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">CLABE</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"bank_clabe\"\n                  value={formData.bank_clabe || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.bank_clabe ? 'input-error' : ''}`}\n                  placeholder=\"18 dígitos\"\n                />\n                {errors.bank_clabe && <span className=\"text-error text-xs mt-1\">{errors.bank_clabe}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Número de Cuenta</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"bank_account_number\"\n                  value={formData.bank_account_number || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.bank_account_number ? 'input-error' : ''}`}\n                  placeholder=\"Número de cuenta\"\n                />\n                {errors.bank_account_number && <span className=\"text-error text-xs mt-1\">{errors.bank_account_number}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Tipo de Cuenta</span>\n                </label>\n                <select\n                  name=\"bank_account_type\"\n                  value={formData.bank_account_type || ''}\n                  onChange={handleChange}\n                  className={`select select-bordered w-full ${errors.bank_account_type ? 'select-error' : ''}`}\n                >\n                  <option value=\"\">Seleccionar tipo de cuenta</option>\n                  {BANK_ACCOUNT_TYPES.map(option => (\n                    <option key={option.value} value={option.value}>{option.label}</option>\n                  ))}\n                </select>\n                {errors.bank_account_type && <span className=\"text-error text-xs mt-1\">{errors.bank_account_type}</span>}\n              </div>\n              \n              <div className=\"form-control w-full\">\n                <label className=\"label\">\n                  <span className=\"label-text\">Origen de la Cuenta (Estado)</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"bank_account_origin\"\n                  value={formData.bank_account_origin || ''}\n                  onChange={handleChange}\n                  className={`input input-bordered w-full ${errors.bank_account_origin ? 'input-error' : ''}`}\n                  placeholder=\"Estado donde se abrió la cuenta\"\n                />\n                {errors.bank_account_origin && <span className=\"text-error text-xs mt-1\">{errors.bank_account_origin}</span>}\n              </div>\n            </div>\n          </div>\n        );\n      \n      case 4:\n        return (\n          <div className=\"space-y-6\">\n            <h3 className=\"text-lg font-semibold\">Documentos</h3>\n            <p className=\"text-sm text-gray-500\">Sube los documentos del cliente. Todos los formatos son aceptados.</p>\n            \n            <DocumentUploader \n              categories={DOCUMENT_CATEGORIES}\n              onDocumentAdded={handleDocumentAdded}\n              onDocumentRemoved={handleDocumentRemoved}\n              existingDocuments={documents}\n              clientId={initialData?.id}\n            />\n          </div>\n        );\n      \n      default:\n        return null;\n    }\n  };\n  \n  return (\n    <div className=\"p-2 md:p-4\">\n      {/* Progress Bar */}\n      <div className=\"w-full mb-6\">\n        <div className=\"text-sm font-medium text-gray-500 mb-1\">\n          Completado: {progress}%\n        </div>\n        <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n          <div \n            className=\"bg-primary h-2.5 rounded-full\" \n            style={{ width: `${progress}%` }}\n          ></div>\n        </div>\n      </div>\n      \n      {/* Step Indicator */}\n      <div className=\"mb-6\">\n        <ul className=\"steps steps-horizontal w-full\">\n          <li className={`step ${currentStep >= 1 ? 'step-primary' : ''}`}>Datos Personales</li>\n          <li className={`step ${currentStep >= 2 ? 'step-primary' : ''}`}>Datos Financieros</li>\n          <li className={`step ${currentStep >= 3 ? 'step-primary' : ''}`}>Datos Bancarios</li>\n          <li className={`step ${currentStep >= 4 ? 'step-primary' : ''}`}>Documentos</li>\n        </ul>\n      </div>\n\n      {/* Error Display */}\n      {Object.keys(errors).length > 0 && (\n        <div className=\"alert alert-error mb-4\" id=\"error-message\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <h3 className=\"font-bold\">Por favor corrige los siguientes errores:</h3>\n            <ul className=\"list-disc ml-5 mt-1\">\n              {Object.entries(errors).map(([field, message]) => (\n                <li key={field}>{message}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        {renderStep()}\n        \n        {/* Navigation Buttons */}\n        <div className=\"flex flex-wrap justify-between mt-6\">\n          {currentStep > 1 && (\n            <button \n              type=\"button\"\n              className=\"btn btn-outline btn-primary\"\n              onClick={prevStep}\n              disabled={isSubmitting}\n            >\n              Anterior\n            </button>\n          )}\n          \n          <div className=\"flex space-x-2\">\n            {/* Cancel Button (Step 1 only) */}\n            {currentStep === 1 && (\n              <button \n                type=\"button\"\n                className=\"btn btn-ghost\"\n                onClick={() => navigate('/clients')}\n                disabled={isSubmitting}\n              >\n                Cancelar\n              </button>\n            )}\n\n            {/* \"Save and Exit\" button for intermediate steps */}\n            {currentStep > 1 && currentStep < 4 && onSavePartial && (\n              <button \n                type=\"button\"\n                className=\"btn btn-outline btn-secondary\"\n                onClick={handleSaveAndExit}\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? 'Guardando...' : 'Guardar y Salir'}\n              </button>\n            )}\n\n            {/* Next step button (steps 1-3) */}\n            {currentStep < 4 && (\n              <button \n                type=\"button\" \n                className=\"btn btn-primary\"\n                onClick={currentStep < 3 ? handleSaveAndContinue : nextStep}\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? 'Guardando...' : currentStep === 3 ? 'Siguiente' : 'Guardar y Continuar'}\n              </button>\n            )}\n            \n            {/* Submit button (step 4) */}\n            {currentStep === 4 && (\n              <button \n                type=\"submit\" \n                className=\"btn btn-success\"\n                disabled={isSubmitting}\n              >\n                {isSubmitting ? 'Guardando...' : 'Guardar Cliente'}\n              </button>\n            )}\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default ClientForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}