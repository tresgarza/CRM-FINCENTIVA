{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Alert=_ref=>{let{type,message,onClose,autoClose=false,autoCloseTime=5000,className=''}=_ref;const[isVisible,setIsVisible]=useState(true);// Format the message to ensure it's a string\nconst formatMessage=msg=>{if(typeof msg==='string')return msg;if(msg instanceof Error)return msg.message||'Error desconocido';if(msg&&typeof msg==='object'){try{return JSON.stringify(msg);}catch(e){return'Error desconocido';}}return String(msg||'Error desconocido');};useEffect(()=>{if(autoClose&&isVisible){const timer=setTimeout(()=>{handleClose();},autoCloseTime);return()=>clearTimeout(timer);}},[autoClose,autoCloseTime,isVisible]);const handleClose=()=>{setIsVisible(false);if(onClose){onClose();}};if(!isVisible)return null;const getAlertClass=()=>{switch(type){case'error':return'alert-error';case'success':return'alert-success';case'info':return'alert-info';case'warning':return'alert-warning';default:return'alert-info';}};const getIcon=()=>{switch(type){case'error':return/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"stroke-current shrink-0 h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"})});case'success':return/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"stroke-current shrink-0 h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})});case'info':return/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"stroke-current shrink-0 h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})});case'warning':return/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"stroke-current shrink-0 h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"})});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:`alert ${getAlertClass()} ${className}`,children:[getIcon(),/*#__PURE__*/_jsx(\"span\",{children:formatMessage(message)}),onClose&&/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,className:\"btn btn-sm btn-ghost\",\"aria-label\":\"Cerrar\",children:\"\\u2715\"})]});};export default Alert;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Alert","_ref","type","message","onClose","autoClose","autoCloseTime","className","isVisible","setIsVisible","formatMessage","msg","Error","JSON","stringify","e","String","timer","setTimeout","handleClose","clearTimeout","getAlertClass","getIcon","xmlns","fill","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/components/ui/Alert.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nexport type AlertType = 'error' | 'success' | 'info' | 'warning';\n\ninterface AlertProps {\n  type: AlertType;\n  message: string | Error | unknown;\n  onClose?: () => void;\n  autoClose?: boolean;\n  autoCloseTime?: number;\n  className?: string;\n}\n\nconst Alert: React.FC<AlertProps> = ({\n  type,\n  message,\n  onClose,\n  autoClose = false,\n  autoCloseTime = 5000,\n  className = '',\n}) => {\n  const [isVisible, setIsVisible] = useState(true);\n\n  // Format the message to ensure it's a string\n  const formatMessage = (msg: string | Error | unknown): string => {\n    if (typeof msg === 'string') return msg;\n    if (msg instanceof Error) return msg.message || 'Error desconocido';\n    if (msg && typeof msg === 'object') {\n      try {\n        return JSON.stringify(msg);\n      } catch (e) {\n        return 'Error desconocido';\n      }\n    }\n    return String(msg || 'Error desconocido');\n  };\n\n  useEffect(() => {\n    if (autoClose && isVisible) {\n      const timer = setTimeout(() => {\n        handleClose();\n      }, autoCloseTime);\n\n      return () => clearTimeout(timer);\n    }\n  }, [autoClose, autoCloseTime, isVisible]);\n\n  const handleClose = () => {\n    setIsVisible(false);\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  if (!isVisible) return null;\n\n  const getAlertClass = () => {\n    switch (type) {\n      case 'error':\n        return 'alert-error';\n      case 'success':\n        return 'alert-success';\n      case 'info':\n        return 'alert-info';\n      case 'warning':\n        return 'alert-warning';\n      default:\n        return 'alert-info';\n    }\n  };\n\n  const getIcon = () => {\n    switch (type) {\n      case 'error':\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n      case 'success':\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n      case 'info':\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n      case 'warning':\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className={`alert ${getAlertClass()} ${className}`}>\n      {getIcon()}\n      <span>{formatMessage(message)}</span>\n      {onClose && (\n        <button \n          onClick={handleClose} \n          className=\"btn btn-sm btn-ghost\"\n          aria-label=\"Cerrar\"\n        >\n          âœ•\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Alert; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}