{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{ChartBarIcon,CurrencyDollarIcon,UserGroupIcon,ClipboardDocumentCheckIcon}from'@heroicons/react/24/outline';import{useAuth}from'../contexts/AuthContext';import{USER_ROLES}from'../utils/constants/roles';import{APPLICATION_TYPE_LABELS}from'../utils/constants/applications';// Componentes de UI\nimport MainLayout from'../components/layout/MainLayout';import MetricCard from'../components/ui/charts/MetricCard';import StatusDistributionChart from'../components/ui/charts/StatusDistributionChart';import MonthlyApplicationsChart from'../components/ui/charts/MonthlyApplicationsChart';import AmountRangeChart from'../components/ui/charts/AmountRangeChart';import AdvisorPerformanceChart from'../components/ui/charts/AdvisorPerformanceChart';// Servicios\nimport{getGeneralDashboardStats,getAdvisorDashboardStats,getCompanyDashboardStats}from'../services/dashboardService';// Interfaces adicionales\n// Extender las interfaces para agregar propiedades opcionales para el dashboard\n// Tipo combinado para stats con todas las propiedades posibles\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{var _stats$applications;const navigate=useNavigate();const{user}=useAuth();const[isLoading,setIsLoading]=useState(true);const[stats,setStats]=useState(null);const[error,setError]=useState(null);// Formatear moneda (pesos)\nconst formatCurrency=value=>{const numValue=typeof value==='string'?parseFloat(value):value;return new Intl.NumberFormat('es-MX',{style:'currency',currency:'MXN',minimumFractionDigits:2,// Siempre mostrar 2 decimales\nmaximumFractionDigits:2// Siempre mostrar 2 decimales\n}).format(numValue);};// Comprobar si el objeto es de tipo AdvisorStats\nconst isAdvisorStats=obj=>{return'conversionRate'in obj&&typeof obj.conversionRate==='number';};// Cargar estadísticas según rol del usuario\nuseEffect(()=>{if(!user){navigate('/login');return;}const fetchDashboardData=async()=>{try{setIsLoading(true);setError(null);let dashboardData;if(user.role===USER_ROLES.ADVISOR){// Estadísticas específicas del asesor\ndashboardData=await getAdvisorDashboardStats(user.id);}else if(user.role===USER_ROLES.COMPANY_ADMIN&&user.entityId){// Estadísticas específicas de la empresa (entityId contiene el company_id)\ndashboardData=await getCompanyDashboardStats(user.entityId);}else{// Estadísticas generales para admin del sistema\ndashboardData=await getGeneralDashboardStats();}// Preparar datos de muestra para los gráficos mientras implementamos los datos reales\nconst extendedData={...dashboardData,applications:{pending:dashboardData.totalPending,approved:dashboardData.totalApproved,rejected:dashboardData.totalRejected,in_review:dashboardData.totalPending-dashboardData.pendingApproval},previousMonthApproved:Math.floor(dashboardData.totalApproved*0.8),// Simulación\namountRanges:[{range:'0-5,000',count:Math.floor(Math.random()*30)+10},{range:'5,001-10,000',count:Math.floor(Math.random()*25)+15},{range:'10,001-20,000',count:Math.floor(Math.random()*20)+20},{range:'20,001-30,000',count:Math.floor(Math.random()*15)+10},{range:'30,001-50,000',count:Math.floor(Math.random()*10)+5},{range:'50,001+',count:Math.floor(Math.random()*5)+2}],advisorPerformance:[{advisor_name:'Asesor 1',total_applications:Math.floor(Math.random()*30)+20,approved_applications:Math.floor(Math.random()*20)+10},{advisor_name:'Asesor 2',total_applications:Math.floor(Math.random()*30)+15,approved_applications:Math.floor(Math.random()*15)+5},{advisor_name:'Asesor 3',total_applications:Math.floor(Math.random()*25)+10,approved_applications:Math.floor(Math.random()*10)+5},{advisor_name:'Asesor 4',total_applications:Math.floor(Math.random()*20)+5,approved_applications:Math.floor(Math.random()*10)+2},{advisor_name:'Asesor 5',total_applications:Math.floor(Math.random()*15)+5,approved_applications:Math.floor(Math.random()*8)+1}]};setStats(extendedData);}catch(err){console.error('Error al cargar estadísticas:',err);setError('Error al cargar las estadísticas del dashboard');}finally{setIsLoading(false);}};fetchDashboardData();},[navigate,user]);// Obtener la etiqueta legible para el tipo de aplicación\nconst getApplicationTypeLabel=type=>{if(!type)return'N/A';// Normalizar el tipo a minúsculas para comparación\nconst normalizedType=type.toLowerCase();// Verificar si es alguno de los tipos definidos en APPLICATION_TYPE_LABELS\nfor(const[key,value]of Object.entries(APPLICATION_TYPE_LABELS)){if(key.toLowerCase()===normalizedType||key.toLowerCase().includes(normalizedType)||normalizedType.includes(key.toLowerCase())){return value;}}// Mapeo adicional para otros valores comunes\nconst typeMappings={'selected_plans':'Crédito a Plazos','product_simulations':'Simulación','auto_loan':'Crédito Auto','car_backed_loan':'Crédito con Garantía','personal_loan':'Préstamo Personal','cash_advance':'Adelanto de Efectivo'};// Buscar una coincidencia parcial\nfor(const[key,value]of Object.entries(typeMappings)){if(normalizedType.includes(key)||key.includes(normalizedType)){return value;}}// Si no hay coincidencia, retornar el valor original\nreturn type;};// Si está cargando, mostrar indicador\nif(isLoading){return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-full p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loading loading-spinner loading-lg\"})})})});}// Si hay error, mostrar mensaje\nif(error){return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",children:/*#__PURE__*/_jsx(\"span\",{children:error})})})});}// Si no hay datos, mostrar mensaje\nif(!stats){return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"p-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:/*#__PURE__*/_jsx(\"span\",{children:\"No hay datos disponibles para mostrar en el dashboard.\"})})})});}return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(MetricCard,{title:\"Total de Solicitudes\",value:stats.totalApplications,icon:/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-5 w-5\"}),color:\"blue\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Solicitudes Aprobadas\",value:((_stats$applications=stats.applications)===null||_stats$applications===void 0?void 0:_stats$applications.approved)||0,previousValue:stats.previousMonthApproved,icon:/*#__PURE__*/_jsx(ClipboardDocumentCheckIcon,{className:\"h-5 w-5\"}),color:\"green\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Monto Promedio\",value:stats.avgAmount,formatValue:formatCurrency,icon:/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-5 w-5\"}),color:\"indigo\"}),isAdvisorStats(stats)?/*#__PURE__*/_jsx(MetricCard,{title:\"Tasa de Conversi\\xF3n\",value:stats.conversionRate,isPercentage:true,icon:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-5 w-5\"}),color:\"purple\"}):/*#__PURE__*/_jsx(MetricCard,{title:\"Total de Clientes\",value:'totalClients'in stats&&stats.totalClients?Number(stats.totalClients):'No clients',icon:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-5 w-5\"}),color:\"purple\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title text-lg font-semibold\",children:\"Solicitudes por Mes\"}),stats.applicationsByMonth&&Array.isArray(stats.applicationsByMonth)&&/*#__PURE__*/_jsx(MonthlyApplicationsChart,{data:stats.applicationsByMonth.map(item=>({month:String(item.month||''),count:Number(item.count||0)})),height:300,title:\"\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title text-lg font-semibold\",children:\"Distribuci\\xF3n por Estado\"}),/*#__PURE__*/_jsx(StatusDistributionChart,{data:stats.applicationsByStatus.map(item=>({status:String(item.status||''),count:Number(item.count||0)})),height:300,title:\"\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title text-lg font-semibold\",children:\"Distribuci\\xF3n por Monto\"}),stats.amountRanges&&/*#__PURE__*/_jsx(AmountRangeChart,{data:stats.amountRanges,height:300,title:\"\"})]})}),(user===null||user===void 0?void 0:user.role)===USER_ROLES.SUPERADMIN&&/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title text-lg font-semibold\",children:\"Rendimiento de Asesores\"}),stats.advisorPerformance&&/*#__PURE__*/_jsx(AdvisorPerformanceChart,{data:stats.advisorPerformance,height:300,title:\"\",maxBars:8})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-md mt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card-title text-lg font-semibold\",children:\"Solicitudes Recientes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-zebra w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Monto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:stats.recentApplications&&stats.recentApplications.length>0?stats.recentApplications.map((app,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover cursor-pointer\",onClick:()=>navigate(`/applications/${app.id}`),children:[/*#__PURE__*/_jsx(\"td\",{children:String(app.client_name||'N/A')}),/*#__PURE__*/_jsx(\"td\",{children:getApplicationTypeLabel(app.application_type)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(Number(app.amount||0))}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`badge badge-${String(app.status)==='approved'?'success':String(app.status)==='rejected'?'error':String(app.status)==='pending'?'warning':String(app.status)==='in_review'?'info':'ghost'}`,children:String(app.status||'N/A')})}),/*#__PURE__*/_jsx(\"td\",{children:app.created_at?new Date(String(app.created_at)).toLocaleDateString():'N/A'})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:5,className:\"text-center\",children:\"No hay solicitudes recientes\"})})})]})})]})})]})});};export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","ChartBarIcon","CurrencyDollarIcon","UserGroupIcon","ClipboardDocumentCheckIcon","useAuth","USER_ROLES","APPLICATION_TYPE_LABELS","MainLayout","MetricCard","StatusDistributionChart","MonthlyApplicationsChart","AmountRangeChart","AdvisorPerformanceChart","getGeneralDashboardStats","getAdvisorDashboardStats","getCompanyDashboardStats","jsx","_jsx","jsxs","_jsxs","Dashboard","_stats$applications","navigate","user","isLoading","setIsLoading","stats","setStats","error","setError","formatCurrency","value","numValue","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","isAdvisorStats","obj","conversionRate","fetchDashboardData","dashboardData","role","ADVISOR","id","COMPANY_ADMIN","entityId","extendedData","applications","pending","totalPending","approved","totalApproved","rejected","totalRejected","in_review","pendingApproval","previousMonthApproved","Math","floor","amountRanges","range","count","random","advisorPerformance","advisor_name","total_applications","approved_applications","err","console","getApplicationTypeLabel","type","normalizedType","toLowerCase","key","Object","entries","includes","typeMappings","children","className","title","totalApplications","icon","color","previousValue","avgAmount","formatValue","isPercentage","totalClients","Number","applicationsByMonth","Array","isArray","data","map","item","month","String","height","applicationsByStatus","status","SUPERADMIN","maxBars","recentApplications","length","app","index","onClick","client_name","application_type","amount","created_at","Date","toLocaleDateString","colSpan"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ChartBarIcon, CurrencyDollarIcon, UserGroupIcon, ClipboardDocumentCheckIcon } from '@heroicons/react/24/outline';\nimport { useAuth } from '../contexts/AuthContext';\nimport { USER_ROLES } from '../utils/constants/roles';\nimport { APPLICATION_TYPE_LABELS } from '../utils/constants/applications';\n\n// Componentes de UI\nimport MainLayout from '../components/layout/MainLayout';\nimport MetricCard from '../components/ui/charts/MetricCard';\nimport StatusDistributionChart from '../components/ui/charts/StatusDistributionChart';\nimport MonthlyApplicationsChart from '../components/ui/charts/MonthlyApplicationsChart';\nimport AmountRangeChart from '../components/ui/charts/AmountRangeChart';\nimport AdvisorPerformanceChart from '../components/ui/charts/AdvisorPerformanceChart';\n\n// Servicios\nimport {\n  DashboardStats,\n  AdvisorStats,\n  CompanyStats,\n  getGeneralDashboardStats,\n  getAdvisorDashboardStats,\n  getCompanyDashboardStats,\n} from '../services/dashboardService';\n\n// Interfaces adicionales\ninterface AmountRange {\n  range: string;\n  count: number;\n}\n\ninterface AdvisorPerformance {\n  advisor_name: string;\n  total_applications: number;\n  approved_applications?: number;\n}\n\n// Extender las interfaces para agregar propiedades opcionales para el dashboard\ninterface ExtendedStats {\n  applications?: { [key: string]: number };\n  previousMonthApproved?: number;\n  amountRanges?: AmountRange[];\n  advisorPerformance?: AdvisorPerformance[];\n}\n\n// Tipo combinado para stats con todas las propiedades posibles\ntype DashboardStatsType = (DashboardStats | AdvisorStats | CompanyStats) & ExtendedStats;\n\nconst Dashboard: React.FC = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [isLoading, setIsLoading] = useState(true);\n  const [stats, setStats] = useState<DashboardStatsType | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // Formatear moneda (pesos)\n  const formatCurrency = (value: number | string) => {\n    const numValue = typeof value === 'string' ? parseFloat(value) : value;\n    return new Intl.NumberFormat('es-MX', {\n      style: 'currency',\n      currency: 'MXN',\n      minimumFractionDigits: 2, // Siempre mostrar 2 decimales\n      maximumFractionDigits: 2, // Siempre mostrar 2 decimales\n    }).format(numValue);\n  };\n\n  // Comprobar si el objeto es de tipo AdvisorStats\n  const isAdvisorStats = (obj: DashboardStatsType): obj is AdvisorStats & ExtendedStats => {\n    return 'conversionRate' in obj && typeof obj.conversionRate === 'number';\n  };\n\n  // Cargar estadísticas según rol del usuario\n  useEffect(() => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n\n    const fetchDashboardData = async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        let dashboardData;\n\n        if (user.role === USER_ROLES.ADVISOR) {\n          // Estadísticas específicas del asesor\n          dashboardData = await getAdvisorDashboardStats(user.id);\n        } else if (user.role === USER_ROLES.COMPANY_ADMIN && user.entityId) {\n          // Estadísticas específicas de la empresa (entityId contiene el company_id)\n          dashboardData = await getCompanyDashboardStats(user.entityId);\n        } else {\n          // Estadísticas generales para admin del sistema\n          dashboardData = await getGeneralDashboardStats();\n        }\n\n        // Preparar datos de muestra para los gráficos mientras implementamos los datos reales\n        const extendedData: DashboardStatsType = {\n          ...dashboardData,\n          applications: {\n            pending: dashboardData.totalPending,\n            approved: dashboardData.totalApproved,\n            rejected: dashboardData.totalRejected,\n            in_review: dashboardData.totalPending - dashboardData.pendingApproval,\n          },\n          previousMonthApproved: Math.floor(dashboardData.totalApproved * 0.8), // Simulación\n          amountRanges: [\n            { range: '0-5,000', count: Math.floor(Math.random() * 30) + 10 },\n            { range: '5,001-10,000', count: Math.floor(Math.random() * 25) + 15 },\n            { range: '10,001-20,000', count: Math.floor(Math.random() * 20) + 20 },\n            { range: '20,001-30,000', count: Math.floor(Math.random() * 15) + 10 },\n            { range: '30,001-50,000', count: Math.floor(Math.random() * 10) + 5 },\n            { range: '50,001+', count: Math.floor(Math.random() * 5) + 2 },\n          ],\n          advisorPerformance: [\n            { advisor_name: 'Asesor 1', total_applications: Math.floor(Math.random() * 30) + 20, approved_applications: Math.floor(Math.random() * 20) + 10 },\n            { advisor_name: 'Asesor 2', total_applications: Math.floor(Math.random() * 30) + 15, approved_applications: Math.floor(Math.random() * 15) + 5 },\n            { advisor_name: 'Asesor 3', total_applications: Math.floor(Math.random() * 25) + 10, approved_applications: Math.floor(Math.random() * 10) + 5 },\n            { advisor_name: 'Asesor 4', total_applications: Math.floor(Math.random() * 20) + 5, approved_applications: Math.floor(Math.random() * 10) + 2 },\n            { advisor_name: 'Asesor 5', total_applications: Math.floor(Math.random() * 15) + 5, approved_applications: Math.floor(Math.random() * 8) + 1 },\n          ]\n        };\n\n        setStats(extendedData);\n      } catch (err) {\n        console.error('Error al cargar estadísticas:', err);\n        setError('Error al cargar las estadísticas del dashboard');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, [navigate, user]);\n\n  // Obtener la etiqueta legible para el tipo de aplicación\n  const getApplicationTypeLabel = (type: string | null | undefined): string => {\n    if (!type) return 'N/A';\n    \n    // Normalizar el tipo a minúsculas para comparación\n    const normalizedType = type.toLowerCase();\n    \n    // Verificar si es alguno de los tipos definidos en APPLICATION_TYPE_LABELS\n    for (const [key, value] of Object.entries(APPLICATION_TYPE_LABELS)) {\n      if (key.toLowerCase() === normalizedType || key.toLowerCase().includes(normalizedType) || normalizedType.includes(key.toLowerCase())) {\n        return value;\n      }\n    }\n    \n    // Mapeo adicional para otros valores comunes\n    const typeMappings: Record<string, string> = {\n      'selected_plans': 'Crédito a Plazos',\n      'product_simulations': 'Simulación',\n      'auto_loan': 'Crédito Auto',\n      'car_backed_loan': 'Crédito con Garantía',\n      'personal_loan': 'Préstamo Personal',\n      'cash_advance': 'Adelanto de Efectivo'\n    };\n    \n    // Buscar una coincidencia parcial\n    for (const [key, value] of Object.entries(typeMappings)) {\n      if (normalizedType.includes(key) || key.includes(normalizedType)) {\n        return value;\n      }\n    }\n    \n    // Si no hay coincidencia, retornar el valor original\n    return type;\n  };\n\n  // Si está cargando, mostrar indicador\n  if (isLoading) {\n    return (\n      <MainLayout>\n        <div className=\"flex justify-center items-center h-full p-8\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"loading loading-spinner loading-lg\"></span>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  // Si hay error, mostrar mensaje\n  if (error) {\n    return (\n      <MainLayout>\n        <div className=\"p-8\">\n          <div className=\"alert alert-error\">\n            <span>{error}</span>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  // Si no hay datos, mostrar mensaje\n  if (!stats) {\n    return (\n      <MainLayout>\n        <div className=\"p-8\">\n          <div className=\"alert alert-info\">\n            <span>No hay datos disponibles para mostrar en el dashboard.</span>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  return (\n    <MainLayout>\n      <div className=\"p-6 space-y-6\">\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">Dashboard</h1>\n\n        {/* Tarjetas de métricas principales */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <MetricCard\n            title=\"Total de Solicitudes\"\n            value={stats.totalApplications}\n            icon={<ChartBarIcon className=\"h-5 w-5\" />}\n            color=\"blue\"\n          />\n          <MetricCard\n            title=\"Solicitudes Aprobadas\"\n            value={stats.applications?.approved || 0}\n            previousValue={stats.previousMonthApproved}\n            icon={<ClipboardDocumentCheckIcon className=\"h-5 w-5\" />}\n            color=\"green\"\n          />\n          <MetricCard\n            title=\"Monto Promedio\"\n            value={stats.avgAmount}\n            formatValue={formatCurrency}\n            icon={<CurrencyDollarIcon className=\"h-5 w-5\" />}\n            color=\"indigo\"\n          />\n          {isAdvisorStats(stats) ? (\n            <MetricCard\n              title=\"Tasa de Conversión\"\n              value={stats.conversionRate}\n              isPercentage={true}\n              icon={<UserGroupIcon className=\"h-5 w-5\" />}\n              color=\"purple\"\n            />\n          ) : (\n            <MetricCard\n              title=\"Total de Clientes\"\n              value={'totalClients' in stats && stats.totalClients ? Number(stats.totalClients) : 'No clients'}\n              icon={<UserGroupIcon className=\"h-5 w-5\" />}\n              color=\"purple\"\n            />\n          )}\n        </div>\n\n        {/* Gráficos principales */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\n          <div className=\"card bg-base-100 shadow-md\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title text-lg font-semibold\">Solicitudes por Mes</h2>\n              {/* Validar que applicationsByMonth existe y es un array */}\n              {stats.applicationsByMonth && Array.isArray(stats.applicationsByMonth) && (\n                <MonthlyApplicationsChart\n                  data={stats.applicationsByMonth.map(item => ({\n                    month: String(item.month || ''),\n                    count: Number(item.count || 0)\n                  }))}\n                  height={300}\n                  title=\"\"\n                />\n              )}\n            </div>\n          </div>\n\n          <div className=\"card bg-base-100 shadow-md\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title text-lg font-semibold\">Distribución por Estado</h2>\n              <StatusDistributionChart\n                data={stats.applicationsByStatus.map(item => ({\n                  status: String(item.status || ''),\n                  count: Number(item.count || 0)\n                }))}\n                height={300}\n                title=\"\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Gráficos secundarios */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-4\">\n          <div className=\"card bg-base-100 shadow-md\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title text-lg font-semibold\">Distribución por Monto</h2>\n              {stats.amountRanges && (\n                <AmountRangeChart\n                  data={stats.amountRanges}\n                  height={300}\n                  title=\"\"\n                />\n              )}\n            </div>\n          </div>\n\n          {/* Rendimiento de asesores (solo para superadmin) */}\n          {user?.role === USER_ROLES.SUPERADMIN && (\n            <div className=\"card bg-base-100 shadow-md\">\n              <div className=\"card-body\">\n                <h2 className=\"card-title text-lg font-semibold\">Rendimiento de Asesores</h2>\n                {stats.advisorPerformance && (\n                  <AdvisorPerformanceChart\n                    data={stats.advisorPerformance}\n                    height={300}\n                    title=\"\"\n                    maxBars={8}\n                  />\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Tabla de solicitudes recientes */}\n        <div className=\"card bg-base-100 shadow-md mt-6\">\n          <div className=\"card-body\">\n            <h2 className=\"card-title text-lg font-semibold\">Solicitudes Recientes</h2>\n            \n            <div className=\"overflow-x-auto\">\n              <table className=\"table table-zebra w-full\">\n                <thead>\n                  <tr>\n                    <th>Cliente</th>\n                    <th>Tipo</th>\n                    <th>Monto</th>\n                    <th>Estado</th>\n                    <th>Fecha</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {stats.recentApplications && stats.recentApplications.length > 0 ? (\n                    stats.recentApplications.map((app, index) => (\n                      <tr key={index} \n                          className=\"hover cursor-pointer\"\n                          onClick={() => navigate(`/applications/${app.id}`)}>\n                        <td>{String(app.client_name || 'N/A')}</td>\n                        <td>{getApplicationTypeLabel(app.application_type)}</td>\n                        <td>{formatCurrency(Number(app.amount || 0))}</td>\n                        <td>\n                          <span className={`badge badge-${String(app.status) === 'approved' ? 'success' : \n                                                           String(app.status) === 'rejected' ? 'error' : \n                                                           String(app.status) === 'pending' ? 'warning' : \n                                                           String(app.status) === 'in_review' ? 'info' : 'ghost'}`}>\n                            {String(app.status || 'N/A')}\n                          </span>\n                        </td>\n                        <td>{app.created_at ? new Date(String(app.created_at)).toLocaleDateString() : 'N/A'}</td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td colSpan={5} className=\"text-center\">No hay solicitudes recientes</td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}