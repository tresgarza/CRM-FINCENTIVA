{"ast":null,"code":"var _jsxFileName = \"/Users/diegogg98/NEW CRM MAR18/src/components/ui/NotificationPanel.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useNotifications, NotificationType } from '../../contexts/NotificationContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationPanel = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const {\n    notifications,\n    unreadCount,\n    markAsRead,\n    markAllAsRead,\n    clearNotifications,\n    soundEnabled,\n    toggleSound\n  } = useNotifications();\n  const togglePanel = () => {\n    setIsOpen(!isOpen);\n    if (!isOpen && unreadCount > 0) {\n      // Al abrir el panel, marcar como leídas todas las notificaciones\n      markAllAsRead();\n    }\n  };\n  const getNotificationIcon = type => {\n    switch (type) {\n      case NotificationType.SUCCESS:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 text-success\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this);\n      case NotificationType.ERROR:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 text-error\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this);\n      case NotificationType.WARNING:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 text-warning\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this);\n      case NotificationType.NEW_APPLICATION:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 text-info\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this);\n      case NotificationType.APPROVAL_REQUIRED:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 text-primary\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 text-info\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  const formatDate = date => {\n    const now = new Date();\n    const diff = now.getTime() - new Date(date).getTime();\n\n    // Si es menos de 24 horas, mostrar \"hace X horas/minutos\"\n    if (diff < 24 * 60 * 60 * 1000) {\n      const hours = Math.floor(diff / (60 * 60 * 1000));\n      if (hours < 1) {\n        const minutes = Math.floor(diff / (60 * 1000));\n        return minutes <= 0 ? 'Ahora' : `Hace ${minutes} min`;\n      }\n      return `Hace ${hours} ${hours === 1 ? 'hora' : 'horas'}`;\n    }\n\n    // Si es más de 24 horas pero menos de 7 días, mostrar el día de la semana\n    if (diff < 7 * 24 * 60 * 60 * 1000) {\n      const days = ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'];\n      const dayOfWeek = days[new Date(date).getDay()];\n      return dayOfWeek;\n    }\n\n    // En cualquier otro caso, mostrar la fecha\n    const dateObj = new Date(date);\n    const day = dateObj.getDate();\n    const month = dateObj.getMonth() + 1;\n    return `${day}/${month}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown dropdown-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: togglePanel,\n        className: \"btn btn-ghost btn-circle\",\n        \"aria-label\": \"Notificaciones\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-xs badge-primary indicator-item\",\n            children: unreadCount > 9 ? '9+' : unreadCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-content bg-base-100 shadow-xl rounded-box mt-4\",\n        style: {\n          width: '350px',\n          maxHeight: 'calc(100vh - 200px)',\n          overflowY: 'auto',\n          position: 'absolute',\n          right: 0,\n          zIndex: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 border-b border-base-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold\",\n              children: \"Notificaciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: toggleSound,\n                className: \"btn btn-xs btn-ghost\",\n                \"aria-label\": soundEnabled ? 'Desactivar sonido' : 'Activar sonido',\n                children: soundEnabled ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this), notifications.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clearNotifications,\n                className: \"btn btn-xs btn-ghost\",\n                \"aria-label\": \"Limpiar notificaciones\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  className: \"h-4 w-4\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6 text-center text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-10 w-10 mx-auto mb-2 text-gray-300\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 1,\n                d: \"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No tienes notificaciones.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border-b border-base-200 hover:bg-base-200 transition-colors ${!notification.read ? 'bg-base-200' : ''}`,\n              children: notification.type === NotificationType.APPROVAL_REQUIRED || notification.type === NotificationType.NEW_APPLICATION ?\n              // Para notificaciones relacionadas con aplicaciones, hacer clickeable que lleve al detalle\n              notification.relatedItemId ? /*#__PURE__*/_jsxDEV(Link, {\n                to: notification.relatedItemType === 'application' ? `/applications/${notification.relatedItemId}` : notification.relatedItemType === 'message' ? `/messages/${notification.relatedItemId}` : '#',\n                className: \"flex items-start p-3 gap-3\",\n                onClick: () => markAsRead(notification.id),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1\",\n                  children: getNotificationIcon(notification.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-sm\",\n                      children: notification.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500\",\n                      children: formatDate(notification.timestamp || notification.createdAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mt-1\",\n                    children: notification.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 27\n              }, this) :\n              /*#__PURE__*/\n              // Si no hay ID, mostrar como notificación normal sin enlace\n              _jsxDEV(\"div\", {\n                className: \"flex items-start p-3 gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1\",\n                  children: getNotificationIcon(notification.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-sm\",\n                      children: notification.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500\",\n                      children: formatDate(notification.timestamp || notification.createdAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mt-1\",\n                    children: notification.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 27\n              }, this) :\n              /*#__PURE__*/\n              // Para otras notificaciones, simplemente mostrar\n              _jsxDEV(\"div\", {\n                className: \"flex items-start p-3 gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1\",\n                  children: getNotificationIcon(notification.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-sm\",\n                      children: notification.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500\",\n                      children: formatDate(notification.timestamp || notification.createdAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mt-1\",\n                    children: notification.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 25\n              }, this)\n            }, notification.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-40\",\n      onClick: togglePanel,\n      \"aria-hidden\": \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationPanel, \"Y3RT9W60TrqwoKwlUmsSgaQniCQ=\", false, function () {\n  return [useNotifications];\n});\n_c = NotificationPanel;\nexport default NotificationPanel;\nvar _c;\n$RefreshReg$(_c, \"NotificationPanel\");","map":{"version":3,"names":["React","useState","Link","useNotifications","NotificationType","jsxDEV","_jsxDEV","NotificationPanel","_s","isOpen","setIsOpen","notifications","unreadCount","markAsRead","markAllAsRead","clearNotifications","soundEnabled","toggleSound","togglePanel","getNotificationIcon","type","SUCCESS","xmlns","className","viewBox","fill","children","fillRule","d","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","ERROR","WARNING","NEW_APPLICATION","APPROVAL_REQUIRED","formatDate","date","now","Date","diff","getTime","hours","Math","floor","minutes","days","dayOfWeek","getDay","dateObj","day","getDate","month","getMonth","onClick","stroke","strokeLinecap","strokeLinejoin","strokeWidth","style","width","maxHeight","overflowY","position","right","zIndex","length","map","notification","read","relatedItemId","to","relatedItemType","id","title","timestamp","createdAt","message","_c","$RefreshReg$"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/components/ui/NotificationPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useNotifications, NotificationType } from '../../contexts/NotificationContext';\n\nconst NotificationPanel: React.FC = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const { \n    notifications, \n    unreadCount, \n    markAsRead, \n    markAllAsRead, \n    clearNotifications,\n    soundEnabled,\n    toggleSound\n  } = useNotifications();\n\n  const togglePanel = () => {\n    setIsOpen(!isOpen);\n    if (!isOpen && unreadCount > 0) {\n      // Al abrir el panel, marcar como leídas todas las notificaciones\n      markAllAsRead();\n    }\n  };\n\n  const getNotificationIcon = (type: NotificationType | string) => {\n    switch (type) {\n      case NotificationType.SUCCESS:\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-success\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      case NotificationType.ERROR:\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-error\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      case NotificationType.WARNING:\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-warning\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      case NotificationType.NEW_APPLICATION:\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-info\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      case NotificationType.APPROVAL_REQUIRED:\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-primary\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n      default:\n        return (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 text-info\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n          </svg>\n        );\n    }\n  };\n\n  const formatDate = (date: Date) => {\n    const now = new Date();\n    const diff = now.getTime() - new Date(date).getTime();\n    \n    // Si es menos de 24 horas, mostrar \"hace X horas/minutos\"\n    if (diff < 24 * 60 * 60 * 1000) {\n      const hours = Math.floor(diff / (60 * 60 * 1000));\n      \n      if (hours < 1) {\n        const minutes = Math.floor(diff / (60 * 1000));\n        return minutes <= 0 ? 'Ahora' : `Hace ${minutes} min`;\n      }\n      \n      return `Hace ${hours} ${hours === 1 ? 'hora' : 'horas'}`;\n    }\n    \n    // Si es más de 24 horas pero menos de 7 días, mostrar el día de la semana\n    if (diff < 7 * 24 * 60 * 60 * 1000) {\n      const days = ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'];\n      const dayOfWeek = days[new Date(date).getDay()];\n      \n      return dayOfWeek;\n    }\n    \n    // En cualquier otro caso, mostrar la fecha\n    const dateObj = new Date(date);\n    const day = dateObj.getDate();\n    const month = dateObj.getMonth() + 1;\n    \n    return `${day}/${month}`;\n  };\n\n  return (\n    <div className=\"relative\">\n      {/* Botón que abre el panel */}\n      <div className=\"dropdown dropdown-end\">\n        <button \n          onClick={togglePanel} \n          className=\"btn btn-ghost btn-circle\"\n          aria-label=\"Notificaciones\"\n        >\n          <div className=\"indicator\">\n            <svg \n              xmlns=\"http://www.w3.org/2000/svg\" \n              className=\"h-5 w-5\" \n              fill=\"none\" \n              viewBox=\"0 0 24 24\" \n              stroke=\"currentColor\"\n            >\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth=\"2\" \n                d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" \n              />\n            </svg>\n            {unreadCount > 0 && (\n              <span className=\"badge badge-xs badge-primary indicator-item\">\n                {unreadCount > 9 ? '9+' : unreadCount}\n              </span>\n            )}\n          </div>\n        </button>\n        \n        {/* Panel de notificaciones */}\n        {isOpen && (\n          <div \n            className=\"dropdown-content bg-base-100 shadow-xl rounded-box mt-4\"\n            style={{ \n              width: '350px', \n              maxHeight: 'calc(100vh - 200px)',\n              overflowY: 'auto',\n              position: 'absolute',\n              right: 0,\n              zIndex: 50\n            }}\n          >\n            <div className=\"p-3 border-b border-base-200\">\n              <div className=\"flex justify-between items-center\">\n                <h3 className=\"font-bold\">Notificaciones</h3>\n                <div className=\"flex gap-2\">\n                  <button \n                    onClick={toggleSound}\n                    className=\"btn btn-xs btn-ghost\"\n                    aria-label={soundEnabled ? 'Desactivar sonido' : 'Activar sonido'}\n                  >\n                    {soundEnabled ? (\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fillRule=\"evenodd\" d=\"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z\" clipRule=\"evenodd\" />\n                      </svg>\n                    ) : (\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fillRule=\"evenodd\" d=\"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                      </svg>\n                    )}\n                  </button>\n                  {notifications.length > 0 && (\n                    <button \n                      onClick={clearNotifications}\n                      className=\"btn btn-xs btn-ghost\"\n                      aria-label=\"Limpiar notificaciones\"\n                    >\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fillRule=\"evenodd\" d=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            <div>\n              {notifications.length === 0 ? (\n                <div className=\"p-6 text-center text-gray-500\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-10 w-10 mx-auto mb-2 text-gray-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n                  </svg>\n                  <p>No tienes notificaciones.</p>\n                </div>\n              ) : (\n                <div>\n                  {notifications.map(notification => (\n                    <div \n                      key={notification.id}\n                      className={`border-b border-base-200 hover:bg-base-200 transition-colors ${!notification.read ? 'bg-base-200' : ''}`}\n                    >\n                      {notification.type === NotificationType.APPROVAL_REQUIRED || notification.type === NotificationType.NEW_APPLICATION ? (\n                        // Para notificaciones relacionadas con aplicaciones, hacer clickeable que lleve al detalle\n                        notification.relatedItemId ? (\n                          <Link \n                            to={notification.relatedItemType === 'application' ? \n                                `/applications/${notification.relatedItemId}` : \n                                (notification.relatedItemType === 'message' ? \n                                 `/messages/${notification.relatedItemId}` : \n                                 '#')}\n                            className=\"flex items-start p-3 gap-3\"\n                            onClick={() => markAsRead(notification.id)}\n                          >\n                            <div className=\"mt-1\">\n                              {getNotificationIcon(notification.type)}\n                            </div>\n                            <div className=\"flex-1\">\n                              <div className=\"flex justify-between items-start\">\n                                <p className=\"font-semibold text-sm\">{notification.title}</p>\n                                <span className=\"text-xs text-gray-500\">{formatDate(notification.timestamp || notification.createdAt)}</span>\n                              </div>\n                              <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\n                            </div>\n                          </Link>\n                        ) : (\n                          // Si no hay ID, mostrar como notificación normal sin enlace\n                          <div className=\"flex items-start p-3 gap-3\">\n                            <div className=\"mt-1\">\n                              {getNotificationIcon(notification.type)}\n                            </div>\n                            <div className=\"flex-1\">\n                              <div className=\"flex justify-between items-start\">\n                                <p className=\"font-semibold text-sm\">{notification.title}</p>\n                                <span className=\"text-xs text-gray-500\">{formatDate(notification.timestamp || notification.createdAt)}</span>\n                              </div>\n                              <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\n                            </div>\n                          </div>\n                        )\n                      ) : (\n                        // Para otras notificaciones, simplemente mostrar\n                        <div className=\"flex items-start p-3 gap-3\">\n                          <div className=\"mt-1\">\n                            {getNotificationIcon(notification.type)}\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"flex justify-between items-start\">\n                              <p className=\"font-semibold text-sm\">{notification.title}</p>\n                              <span className=\"text-xs text-gray-500\">{formatDate(notification.timestamp || notification.createdAt)}</span>\n                            </div>\n                            <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n      \n      {/* Overlay para cerrar el panel al hacer clic fuera */}\n      {isOpen && (\n        <div \n          className=\"fixed inset-0 z-40\" \n          onClick={togglePanel}\n          aria-hidden=\"true\"\n        ></div>\n      )}\n    </div>\n  );\n};\n\nexport default NotificationPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}