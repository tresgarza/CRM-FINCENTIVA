{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import MainLayout from'../components/layout/MainLayout';import ClientForm from'../components/clients/ClientForm';import{getClientById,updateClient}from'../services/clientService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Default company ID (Herramental)\nconst DEFAULT_COMPANY_ID=\"70b2aa97-a5b6-4b5e-91db-be8acbd3701a\";const EditClient=()=>{const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[client,setClient]=useState(null);const[loading,setLoading]=useState(true);const[isSubmitting,setIsSubmitting]=useState(false);const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState(null);useEffect(()=>{if(id){fetchClientData(id);}},[id]);const fetchClientData=async clientId=>{try{setLoading(true);console.log(`Fetching client data for ID ${clientId}`);const clientData=await getClientById(clientId);if(clientData){console.log('Client data retrieved successfully:',clientData);setClient(clientData);}else{setError('No se encontró el cliente especificado.');}}catch(err){console.error('Error al obtener datos del cliente:',err);setError('Error al cargar los datos del cliente. Por favor, intente de nuevo.');}finally{setLoading(false);}};const handleSubmit=async(data,documents)=>{if(!id)return;try{setIsSubmitting(true);setError(null);// Clear any previous errors\nsetSuccessMessage(null);// Clear any previous success message\n// First save the client data without documents\nconsole.log('Updating client data first...',data);const updatedClient=await updateClient(id,data,documents,user===null||user===void 0?void 0:user.id);console.log('Client data successfully updated',updatedClient);// Check if there's a warning message (e.g., some documents failed to upload)\nif(updatedClient.warningMessage){setSuccessMessage(updatedClient.warningMessage);// Don't navigate away when there's a warning about documents\nreturn;}// Successfully updated\nconsole.log('Client update complete');navigate('/clients');}catch(error){console.error('Error al actualizar cliente:',error);// Specific message for RLS policy violations\nif(error.message&&(error.message.includes('políticas de seguridad RLS')||error.message.includes('permisos')||error.message.includes('Unauthorized')||error.message.includes('No tienes permisos'))){setError(`Error de permisos: ${error.message}. Contacte al administrador para verificar las políticas de seguridad de la base de datos.`);}else if(error.message&&error.message.includes('actualización no tuvo efecto')){// For when update has no effect due to RLS or unchanged data\nsetError(`${error.message} Contacte al administrador para verificar si tiene los permisos necesarios.`);}else{// Generic error\nsetError(error.message||'Error al guardar los cambios. Por favor, intente de nuevo.');}// Scroll to top to show the error message\nwindow.scrollTo(0,0);}finally{setIsSubmitting(false);}};// Handle partial save\nconst handleSavePartial=async(data,step)=>{try{// Log the saving attempt\nconsole.log(`🔍 Guardando datos parciales del cliente en paso ${step}...`);console.log('🔍 Datos a guardar:',data);// Show saving indicator\nsetIsSubmitting(true);setError(null);// Clear any previous errors\nif(!client||!client.id){throw new Error('No se encontró el ID del cliente para actualización parcial');}// Asegurarnos de que siempre incluimos el ID del cliente\nconst partialData={id:client.id,// Siempre incluir el ID para asegurar la actualización correcta\n...collectFieldsForStep(data,step)};// Asegurarnos de que tenemos campos importantes como company_id\nif(!partialData.company_id&&client.company_id){partialData.company_id=client.company_id;}// Asegurarnos de que tenemos advisor_id\nif(!partialData.advisor_id&&client.advisor_id){partialData.advisor_id=client.advisor_id;}console.log('🔍 Datos finales a enviar a Supabase:',partialData);try{// Update client with partial data\nconst updatedClient=await updateClient(client.id,partialData);console.log(`🔍 Actualización exitosa para sección ${step}:`,updatedClient);if(!updatedClient){throw new Error('No se recibió respuesta después de la actualización');}// Create a complete merged client object with ALL data\n// This ensures all fields are available in subsequent steps\nconst mergedClient={...client,// Start with original data\n...partialData,// Apply our partial changes \n...updatedClient// Apply any additional fields returned from the update\n};// Update local state with the merged client data\nsetClient(mergedClient);console.log('🔍 Cliente actualizado en estado local:',mergedClient);// Show success message (including any warnings)\nif(updatedClient.warningMessage){setSuccessMessage(updatedClient.warningMessage);}else{setSuccessMessage(`Se guardaron los datos de la sección ${step} correctamente`);}// Clear message after delay\nsetTimeout(()=>{setSuccessMessage(null);},3000);// Return the complete merged client data to the form\n// This ensures we always have all client data in the form regardless of step\nconsole.log('🔍 Datos completos a devolver al formulario:',mergedClient);// For debugging, log all the fields we expect to see in the next step\nif(step===1&&mergedClient){console.log('🔍 Verificando campos financieros para el paso 2:');console.log('employment_type:',mergedClient.employment_type);console.log('employment_years:',mergedClient.employment_years);console.log('monthly_income:',mergedClient.monthly_income);console.log('additional_income:',mergedClient.additional_income);console.log('monthly_expenses:',mergedClient.monthly_expenses);console.log('other_loan_balances:',mergedClient.other_loan_balances);}else if(step===2&&mergedClient){console.log('🔍 Verificando campos bancarios para el paso 3:');console.log('bank_name:',mergedClient.bank_name);console.log('bank_clabe:',mergedClient.bank_clabe);console.log('bank_account_number:',mergedClient.bank_account_number);console.log('bank_account_type:',mergedClient.bank_account_type);console.log('bank_account_origin:',mergedClient.bank_account_origin);}return mergedClient;}catch(err){console.error(`🔍 Error al actualizar cliente en paso ${step}:`,err);// Log more details about the error\nif(err.message)console.error('Error message:',err.message);if(err.cause)console.error('Error cause:',err.cause);if(err.stack)console.error('Error stack:',err.stack);// Try to get more information if it's a Supabase error\nif(err.code||err.details||err.hint){console.error('Supabase error details:',{code:err.code,details:err.details,hint:err.hint});}// Specific message for RLS policy violations\nif(err.message&&(err.message.includes('políticas de seguridad RLS')||err.message.includes('permisos')||err.message.includes('Unauthorized')||err.message.includes('No tienes permisos'))){setError(`Error de permisos al guardar la sección ${step}: ${err.message}. \n            Contacte al administrador para verificar las políticas de seguridad de la base de datos.`);}else if(err.message&&err.message.includes('actualización no tuvo efecto')){// For when update has no effect due to RLS or unchanged data\nsetError(`${err.message} Contacte al administrador para verificar si tiene los permisos necesarios.`);}else{// Generic error for other cases\nsetError(`Error al guardar la sección ${step}: ${err.message||'Error desconocido'}`);}throw err;}}catch(error){console.error(`🔍 Error en handleSavePartial en paso ${step}:`,error);// Don't override more specific error messages - this is a fallback\nif(!document.getElementById('error-message')){setError(error.message||`Error al guardar la sección ${step}. Por favor, intente nuevamente.`);}// Mostrar el error por 6 segundos antes de limpiarlo automáticamente\nsetTimeout(()=>{if(error.message===setError){// Solo limpiar si es el mismo error\nsetError(null);}},6000);return null;}finally{setIsSubmitting(false);}};// Helper function to collect fields based on step\nconst collectFieldsForStep=(data,step)=>{const result={};// Always preserve these fields if they exist\nif(data.id)result.id=data.id;if(data.company_id)result.company_id=data.company_id;if(data.advisor_id)result.advisor_id=data.advisor_id;switch(step){case 1:// Personal data\nconst personalFields=['first_name','paternal_surname','maternal_surname','email','phone','rfc','curp','birth_date','gender','marital_status','address','city','state','postal_code'];personalFields.forEach(field=>{if(field in data){result[field]=data[field];}});break;case 2:// Financial details\nconst financialFields=['employment_type','employment_years','monthly_income','additional_income','monthly_expenses','other_loan_balances'];financialFields.forEach(field=>{if(field in data){result[field]=data[field];}});break;case 3:// Bank details\nconst bankFields=['bank_name','bank_clabe','bank_account_number','bank_account_type','bank_account_origin'];bankFields.forEach(field=>{if(field in data){result[field]=data[field];}});break;default:console.warn(`🔍 Paso desconocido para guardado parcial: ${step}`);}return result;};if(loading){return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6 flex justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loading loading-spinner loading-lg\"})})});}if(error||!client){return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:error||'No se encontró el cliente solicitado.'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/clients'),className:\"btn btn-primary\",children:\"Volver a Clientes\"})})]})});}return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/clients'),className:\"btn btn-sm btn-outline mr-4\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-1\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\",clipRule:\"evenodd\"})}),\"Volver\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:\"Editar Cliente\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"ml-auto\",children:\"\\xD7\"})]})}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"span\",{children:successMessage}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSuccessMessage(null),className:\"ml-auto\",children:\"\\xD7\"})]})}),/*#__PURE__*/_jsx(ClientForm,{initialData:client,onSubmit:handleSubmit,onSavePartial:handleSavePartial,isSubmitting:isSubmitting})]})});};export default EditClient;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","MainLayout","ClientForm","getClientById","updateClient","jsx","_jsx","jsxs","_jsxs","DEFAULT_COMPANY_ID","EditClient","id","navigate","user","client","setClient","loading","setLoading","isSubmitting","setIsSubmitting","error","setError","successMessage","setSuccessMessage","fetchClientData","clientId","console","log","clientData","err","handleSubmit","data","documents","updatedClient","warningMessage","message","includes","window","scrollTo","handleSavePartial","step","Error","partialData","collectFieldsForStep","company_id","advisor_id","mergedClient","setTimeout","employment_type","employment_years","monthly_income","additional_income","monthly_expenses","other_loan_balances","bank_name","bank_clabe","bank_account_number","bank_account_type","bank_account_origin","cause","stack","code","details","hint","document","getElementById","result","personalFields","forEach","field","financialFields","bankFields","warn","children","className","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","fillRule","clipRule","initialData","onSubmit","onSavePartial"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/pages/EditClient.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport MainLayout from '../components/layout/MainLayout';\nimport ClientForm from '../components/clients/ClientForm';\nimport { Client, ClientDocument, getClientById, updateClient, uploadClientDocuments } from '../services/clientService';\nimport { getClientDocuments } from '../services/documentService';\nimport Alert from '../components/ui/Alert';\n\n// Default company ID (Herramental)\nconst DEFAULT_COMPANY_ID = \"70b2aa97-a5b6-4b5e-91db-be8acbd3701a\";\n\nconst EditClient: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  \n  const [client, setClient] = useState<Client | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (id) {\n      fetchClientData(id);\n    }\n  }, [id]);\n\n  const fetchClientData = async (clientId: string) => {\n    try {\n      setLoading(true);\n      console.log(`Fetching client data for ID ${clientId}`);\n      const clientData = await getClientById(clientId);\n      \n      if (clientData) {\n        console.log('Client data retrieved successfully:', clientData);\n        setClient(clientData);\n      } else {\n        setError('No se encontró el cliente especificado.');\n      }\n    } catch (err) {\n      console.error('Error al obtener datos del cliente:', err);\n      setError('Error al cargar los datos del cliente. Por favor, intente de nuevo.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (data: Partial<Client>, documents: ClientDocument[]) => {\n    if (!id) return;\n    \n    try {\n      setIsSubmitting(true);\n      setError(null); // Clear any previous errors\n      setSuccessMessage(null); // Clear any previous success message\n      \n      // First save the client data without documents\n      console.log('Updating client data first...', data);\n      const updatedClient = await updateClient(id, data, documents, user?.id);\n      console.log('Client data successfully updated', updatedClient);\n      \n      // Check if there's a warning message (e.g., some documents failed to upload)\n      if (updatedClient.warningMessage) {\n        setSuccessMessage(updatedClient.warningMessage);\n        // Don't navigate away when there's a warning about documents\n        return;\n      }\n      \n      // Successfully updated\n      console.log('Client update complete');\n      navigate('/clients');\n    } catch (error: any) {\n      console.error('Error al actualizar cliente:', error);\n      \n      // Specific message for RLS policy violations\n      if (error.message && (\n        error.message.includes('políticas de seguridad RLS') ||\n        error.message.includes('permisos') ||\n        error.message.includes('Unauthorized') ||\n        error.message.includes('No tienes permisos')\n      )) {\n        setError(`Error de permisos: ${error.message}. Contacte al administrador para verificar las políticas de seguridad de la base de datos.`);\n      } else if (error.message && error.message.includes('actualización no tuvo efecto')) {\n        // For when update has no effect due to RLS or unchanged data\n        setError(`${error.message} Contacte al administrador para verificar si tiene los permisos necesarios.`);\n      } else {\n        // Generic error\n      setError(error.message || 'Error al guardar los cambios. Por favor, intente de nuevo.');\n      }\n      \n      // Scroll to top to show the error message\n      window.scrollTo(0, 0);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  // Handle partial save\n  const handleSavePartial = async (data: Partial<Client>, step: number) => {\n    try {\n      // Log the saving attempt\n      console.log(`🔍 Guardando datos parciales del cliente en paso ${step}...`);\n      console.log('🔍 Datos a guardar:', data);\n      \n      // Show saving indicator\n      setIsSubmitting(true);\n      setError(null); // Clear any previous errors\n      \n      if (!client || !client.id) {\n        throw new Error('No se encontró el ID del cliente para actualización parcial');\n      }\n      \n      // Asegurarnos de que siempre incluimos el ID del cliente\n      const partialData: Partial<Client> = {\n        id: client.id, // Siempre incluir el ID para asegurar la actualización correcta\n        ...collectFieldsForStep(data, step)\n      };\n      \n      // Asegurarnos de que tenemos campos importantes como company_id\n      if (!partialData.company_id && client.company_id) {\n        partialData.company_id = client.company_id;\n      }\n      \n      // Asegurarnos de que tenemos advisor_id\n      if (!partialData.advisor_id && client.advisor_id) {\n        partialData.advisor_id = client.advisor_id;\n      }\n      \n      console.log('🔍 Datos finales a enviar a Supabase:', partialData);\n      \n      try {\n        // Update client with partial data\n        const updatedClient = await updateClient(client.id, partialData);\n        console.log(`🔍 Actualización exitosa para sección ${step}:`, updatedClient);\n        \n        if (!updatedClient) {\n          throw new Error('No se recibió respuesta después de la actualización');\n        }\n        \n        // Create a complete merged client object with ALL data\n        // This ensures all fields are available in subsequent steps\n        const mergedClient = {\n          ...client,                 // Start with original data\n          ...partialData,            // Apply our partial changes \n          ...updatedClient           // Apply any additional fields returned from the update\n        };\n        \n        // Update local state with the merged client data\n        setClient(mergedClient as Client);\n        console.log('🔍 Cliente actualizado en estado local:', mergedClient);\n        \n        // Show success message (including any warnings)\n        if (updatedClient.warningMessage) {\n          setSuccessMessage(updatedClient.warningMessage);\n        } else {\n          setSuccessMessage(`Se guardaron los datos de la sección ${step} correctamente`);\n        }\n        \n        // Clear message after delay\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 3000);\n        \n        // Return the complete merged client data to the form\n        // This ensures we always have all client data in the form regardless of step\n        console.log('🔍 Datos completos a devolver al formulario:', mergedClient);\n        \n        // For debugging, log all the fields we expect to see in the next step\n        if (step === 1 && mergedClient) {\n          console.log('🔍 Verificando campos financieros para el paso 2:');\n          console.log('employment_type:', mergedClient.employment_type);\n          console.log('employment_years:', mergedClient.employment_years);\n          console.log('monthly_income:', mergedClient.monthly_income);\n          console.log('additional_income:', mergedClient.additional_income);\n          console.log('monthly_expenses:', mergedClient.monthly_expenses);\n          console.log('other_loan_balances:', mergedClient.other_loan_balances);\n        } else if (step === 2 && mergedClient) {\n          console.log('🔍 Verificando campos bancarios para el paso 3:');\n          console.log('bank_name:', mergedClient.bank_name);\n          console.log('bank_clabe:', mergedClient.bank_clabe);\n          console.log('bank_account_number:', mergedClient.bank_account_number);\n          console.log('bank_account_type:', mergedClient.bank_account_type);\n          console.log('bank_account_origin:', mergedClient.bank_account_origin);\n        }\n        \n        return mergedClient;\n      } catch (err: any) {\n        console.error(`🔍 Error al actualizar cliente en paso ${step}:`, err);\n        \n        // Log more details about the error\n        if (err.message) console.error('Error message:', err.message);\n        if (err.cause) console.error('Error cause:', err.cause);\n        if (err.stack) console.error('Error stack:', err.stack);\n        \n        // Try to get more information if it's a Supabase error\n        if (err.code || err.details || err.hint) {\n          console.error('Supabase error details:', {\n            code: err.code,\n            details: err.details,\n            hint: err.hint\n          });\n        }\n        \n        // Specific message for RLS policy violations\n        if (err.message && (\n          err.message.includes('políticas de seguridad RLS') ||\n          err.message.includes('permisos') ||\n          err.message.includes('Unauthorized') ||\n          err.message.includes('No tienes permisos')\n        )) {\n          setError(`Error de permisos al guardar la sección ${step}: ${err.message}. \n            Contacte al administrador para verificar las políticas de seguridad de la base de datos.`);\n        } else if (err.message && err.message.includes('actualización no tuvo efecto')) {\n          // For when update has no effect due to RLS or unchanged data\n          setError(`${err.message} Contacte al administrador para verificar si tiene los permisos necesarios.`);\n        } else {\n          // Generic error for other cases\n        setError(`Error al guardar la sección ${step}: ${err.message || 'Error desconocido'}`);\n        }\n        \n        throw err;\n      }\n    } catch (error: any) {\n      console.error(`🔍 Error en handleSavePartial en paso ${step}:`, error);\n      \n      // Don't override more specific error messages - this is a fallback\n      if (!document.getElementById('error-message')) {\n      setError(error.message || `Error al guardar la sección ${step}. Por favor, intente nuevamente.`);\n      }\n      \n      // Mostrar el error por 6 segundos antes de limpiarlo automáticamente\n      setTimeout(() => {\n        if (error.message === setError) { // Solo limpiar si es el mismo error\n          setError(null);\n        }\n      }, 6000);\n      \n      return null;\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  // Helper function to collect fields based on step\n  const collectFieldsForStep = (data: Partial<Client>, step: number): Partial<Client> => {\n    const result: Partial<Client> = {};\n    \n    // Always preserve these fields if they exist\n    if (data.id) result.id = data.id;\n    if (data.company_id) result.company_id = data.company_id;\n    if (data.advisor_id) result.advisor_id = data.advisor_id;\n    \n    switch(step) {\n      case 1: // Personal data\n        const personalFields = [\n          'first_name', 'paternal_surname', 'maternal_surname', 'email', 'phone',\n          'rfc', 'curp', 'birth_date', 'gender', 'marital_status', 'address',\n          'city', 'state', 'postal_code'\n        ];\n        personalFields.forEach(field => {\n          if (field in data) {\n            (result as any)[field] = (data as any)[field];\n          }\n        });\n        break;\n        \n      case 2: // Financial details\n        const financialFields = [\n          'employment_type', 'employment_years', 'monthly_income',\n          'additional_income', 'monthly_expenses', 'other_loan_balances'\n        ];\n        financialFields.forEach(field => {\n          if (field in data) {\n            (result as any)[field] = (data as any)[field];\n          }\n        });\n        break;\n        \n      case 3: // Bank details\n        const bankFields = [\n          'bank_name', 'bank_clabe', 'bank_account_number',\n          'bank_account_type', 'bank_account_origin'\n        ];\n        bankFields.forEach(field => {\n          if (field in data) {\n            (result as any)[field] = (data as any)[field];\n          }\n        });\n        break;\n        \n      default:\n        console.warn(`🔍 Paso desconocido para guardado parcial: ${step}`);\n    }\n    \n    return result;\n  };\n\n  if (loading) {\n    return (\n      <MainLayout>\n        <div className=\"p-6 flex justify-center\">\n          <span className=\"loading loading-spinner loading-lg\"></span>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  if (error || !client) {\n    return (\n      <MainLayout>\n        <div className=\"p-6\">\n          <div className=\"alert alert-error\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <span>{error || 'No se encontró el cliente solicitado.'}</span>\n          </div>\n          <div className=\"mt-4\">\n            <button \n              onClick={() => navigate('/clients')}\n              className=\"btn btn-primary\"\n            >\n              Volver a Clientes\n            </button>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n\n  return (\n    <MainLayout>\n      <div className=\"p-6\">\n        <div className=\"flex items-center mb-6\">\n          <button \n            onClick={() => navigate('/clients')} \n            className=\"btn btn-sm btn-outline mr-4\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n            </svg>\n            Volver\n          </button>\n          <h1 className=\"text-2xl font-bold\">Editar Cliente</h1>\n        </div>\n        \n        {/* Display error alert if there's an error */}\n        {error && (\n          <div className=\"mb-4\">\n            <div className=\"alert alert-error\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <span>{error}</span>\n              <button onClick={() => setError(null)} className=\"ml-auto\">×</button>\n            </div>\n          </div>\n        )}\n        \n        {/* Display success message if there's one */}\n        {successMessage && (\n          <div className=\"mb-4\">\n            <div className=\"alert alert-success\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <span>{successMessage}</span>\n              <button onClick={() => setSuccessMessage(null)} className=\"ml-auto\">×</button>\n            </div>\n          </div>\n        )}\n        \n        <ClientForm \n          initialData={client}\n          onSubmit={handleSubmit}\n          onSavePartial={handleSavePartial}\n          isSubmitting={isSubmitting}\n        />\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default EditClient; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}