{"ast":null,"code":"var _jsxFileName = \"/Users/diegogg98/NEW CRM MAR18/src/pages/ApplicationDetail.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { ApplicationService } from '../services/applicationService';\nimport { ApplicationStatus } from '../utils/types/applications';\nimport MainLayout from '../components/layout/MainLayout';\nimport { useAuth } from '../contexts/AuthContext';\nimport { usePermissions } from '../contexts/PermissionsContext';\nimport { PERMISSIONS } from '../utils/constants/permissions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ApplicationDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const {\n    userCan\n  } = usePermissions();\n  const [application, setApplication] = useState(null);\n  const [statusHistory, setStatusHistory] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showStatusModal, setShowStatusModal] = useState(false);\n  const [newStatus, setNewStatus] = useState('');\n  const [statusComment, setStatusComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Obtener datos de la solicitud\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!id) return;\n      setIsLoading(true);\n      setError(null);\n      try {\n        // Obtener la aplicación\n        const appData = await ApplicationService.getApplicationById(id);\n        setApplication(appData);\n\n        // Obtener historial de estados\n        if (appData) {\n          const history = await ApplicationService.getStatusHistory(id);\n          setStatusHistory(history);\n        }\n      } catch (err) {\n        console.error('Error fetching application data:', err);\n        setError('No se pudieron cargar los datos de la solicitud');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [id]);\n  const canChangeStatus = userCan(PERMISSIONS.EDIT_APPLICATION);\n\n  // Formatear fecha\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Formatear moneda\n  const formatCurrency = amount => {\n    if (amount === undefined) return '';\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP'\n    }).format(amount);\n  };\n\n  // Obtener clase de color según estado\n  const getStatusClass = status => {\n    switch (status) {\n      case ApplicationStatus.PENDING:\n        return 'badge-warning';\n      case ApplicationStatus.REVIEW:\n        return 'badge-info';\n      case ApplicationStatus.APPROVED:\n        return 'badge-success';\n      case ApplicationStatus.REJECTED:\n        return 'badge-error';\n      case ApplicationStatus.COMPLETED:\n        return 'badge-success';\n      case ApplicationStatus.CANCELLED:\n        return 'badge-neutral';\n      default:\n        return 'badge-ghost';\n    }\n  };\n\n  // Obtener texto en español para el estado\n  const getStatusText = status => {\n    switch (status) {\n      case ApplicationStatus.PENDING:\n        return 'Pendiente';\n      case ApplicationStatus.REVIEW:\n        return 'En Revisión';\n      case ApplicationStatus.APPROVED:\n        return 'Aprobada';\n      case ApplicationStatus.REJECTED:\n        return 'Rechazada';\n      case ApplicationStatus.COMPLETED:\n        return 'Completada';\n      case ApplicationStatus.CANCELLED:\n        return 'Cancelada';\n      default:\n        return status;\n    }\n  };\n\n  // Obtener texto para el tipo de aplicación\n  const getTypeText = type => {\n    switch (type) {\n      case 'auto_loan':\n        return 'Crédito Automotriz';\n      case 'car_backed_loan':\n        return 'Crédito con Garantía Automotriz';\n      case 'personal_loan':\n        return 'Préstamo Personal';\n      case 'cash_advance':\n        return 'Adelanto de Efectivo';\n      default:\n        return type;\n    }\n  };\n\n  // Manejar cambio de estado\n  const handleStatusChange = async () => {\n    if (!id || !application || !user || !newStatus || !statusComment.trim()) {\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const updatedApplication = await ApplicationService.changeApplicationStatus(id, newStatus, statusComment, user.id);\n      if (updatedApplication) {\n        setApplication(updatedApplication);\n\n        // Actualizar historial\n        const history = await ApplicationService.getStatusHistory(id);\n        setStatusHistory(history);\n\n        // Cerrar modal y limpiar campos\n        setShowStatusModal(false);\n        setNewStatus('');\n        setStatusComment('');\n      }\n    } catch (err) {\n      console.error('Error changing application status:', err);\n      setError('Error al cambiar el estado de la solicitud');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center h-96\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"loading loading-spinner loading-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !application) {\n    return /*#__PURE__*/_jsxDEV(MainLayout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-error\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"stroke-current shrink-0 h-6 w-6\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 129\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: error || 'No se encontró la solicitud'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/applications\",\n            className: \"btn btn-primary\",\n            children: \"Volver a la lista\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            children: [\"Solicitud #\", application.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: [\"Creada el \", formatDate(application.created_at)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mt-4 md:mt-0\",\n          children: [canChangeStatus && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => setShowStatusModal(true),\n            children: \"Cambiar Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), userCan(PERMISSIONS.EDIT_APPLICATION) && /*#__PURE__*/_jsxDEV(Link, {\n            to: `/applications/${application.id}/edit`,\n            className: \"btn btn-outline\",\n            children: \"Editar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/applications\",\n            className: \"btn btn-ghost\",\n            children: \"Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Estado actual:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `badge ${getStatusClass(application.status)}`,\n          children: getStatusText(application.status)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card bg-base-100 shadow-xl lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"card-title\",\n              children: \"Informaci\\xF3n General\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold mb-2\",\n                  children: \"Datos del Solicitante\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Nombre:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 22\n                  }, this), \" \", application.client_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Email:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 22\n                  }, this), \" \", application.email]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Tel\\xE9fono:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 22\n                  }, this), \" \", application.phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-bold mb-2\",\n                  children: \"Datos del Cr\\xE9dito\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Tipo:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 22\n                  }, this), \" \", getTypeText(application.type)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Monto:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 22\n                  }, this), \" \", formatCurrency(application.amount)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Plazo:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 22\n                  }, this), \" \", application.term_months, \" meses\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Tasa de Inter\\xE9s:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 22\n                  }, this), \" \", application.interest_rate, \"% anual\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"divider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold mb-2\",\n                children: \"Informaci\\xF3n Adicional\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), application.notes ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: application.notes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"No hay notas adicionales\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card bg-base-100 shadow-xl\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"card-title\",\n              children: \"Resumen Financiero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stats stats-vertical shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Monto Solicitado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value text-primary\",\n                  children: formatCurrency(application.amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Pago Mensual\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: formatCurrency(application.monthly_payment)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Inter\\xE9s Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value text-secondary\",\n                  children: formatCurrency(application.total_interest)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-title\",\n                  children: \"Pago Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: formatCurrency(application.total_payment)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline btn-block\",\n                children: \"Ver Tabla de Amortizaci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card bg-base-100 shadow-xl mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"card-title\",\n            children: \"Historial de Estados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), statusHistory.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"timeline timeline-vertical\",\n            children: statusHistory.map((entry, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `timeline-start ${index % 2 === 0 ? 'timeline-box' : ''}`,\n                children: formatDate(entry.created_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"timeline-middle\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `badge ${getStatusClass(entry.status)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `timeline-end ${index % 2 !== 0 ? 'timeline-box' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold\",\n                  children: getStatusText(entry.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: entry.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm italic\",\n                  children: [\"Por: \", entry.user_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this), index < statusHistory.length - 1 && /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 58\n              }, this)]\n            }, entry.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No hay historial de estados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card bg-base-100 shadow-xl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"card-title\",\n            children: \"Documentos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No hay documentos adjuntos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), userCan(PERMISSIONS.EDIT_APPLICATION) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-actions justify-end mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              children: \"Subir Documento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), showStatusModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal modal-open\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg\",\n          children: \"Cambiar Estado de la Solicitud\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-control w-full mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-text\",\n              children: \"Nuevo Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"select select-bordered w-full\",\n            value: newStatus,\n            onChange: e => setNewStatus(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Seleccionar nuevo estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ApplicationStatus.PENDING,\n              children: \"Pendiente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ApplicationStatus.REVIEW,\n              children: \"En Revisi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ApplicationStatus.APPROVED,\n              children: \"Aprobada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ApplicationStatus.REJECTED,\n              children: \"Rechazada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ApplicationStatus.COMPLETED,\n              children: \"Completada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ApplicationStatus.CANCELLED,\n              children: \"Cancelada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-control w-full mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-text\",\n              children: \"Comentario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"textarea textarea-bordered\",\n            placeholder: \"Explique el motivo del cambio de estado\",\n            value: statusComment,\n            onChange: e => setStatusComment(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-action\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-ghost\",\n            onClick: () => setShowStatusModal(false),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            disabled: !newStatus || !statusComment.trim() || isSubmitting,\n            onClick: handleStatusChange,\n            children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"loading loading-spinner loading-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 21\n              }, this), \"Guardando...\"]\n            }, void 0, true) : 'Guardar Cambios'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-backdrop\",\n        onClick: () => setShowStatusModal(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n};\n_s(ApplicationDetail, \"mJoF+AEH3RS2Gdvt75flh5NDuEI=\", false, function () {\n  return [useParams, useAuth, usePermissions];\n});\n_c = ApplicationDetail;\nexport default ApplicationDetail;\nvar _c;\n$RefreshReg$(_c, \"ApplicationDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","ApplicationService","ApplicationStatus","MainLayout","useAuth","usePermissions","PERMISSIONS","jsxDEV","_jsxDEV","Fragment","_Fragment","ApplicationDetail","_s","id","user","userCan","application","setApplication","statusHistory","setStatusHistory","isLoading","setIsLoading","error","setError","showStatusModal","setShowStatusModal","newStatus","setNewStatus","statusComment","setStatusComment","isSubmitting","setIsSubmitting","fetchData","appData","getApplicationById","history","getStatusHistory","err","console","canChangeStatus","EDIT_APPLICATION","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","formatCurrency","amount","undefined","Intl","NumberFormat","style","currency","format","getStatusClass","status","PENDING","REVIEW","APPROVED","REJECTED","COMPLETED","CANCELLED","getStatusText","getTypeText","type","handleStatusChange","trim","updatedApplication","changeApplicationStatus","children","className","fileName","_jsxFileName","lineNumber","columnNumber","xmlns","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","to","created_at","onClick","client_name","email","phone","term_months","interest_rate","notes","monthly_payment","total_interest","total_payment","length","map","entry","index","comment","user_name","value","onChange","e","target","disabled","placeholder","_c","$RefreshReg$"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/pages/ApplicationDetail.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { ApplicationService } from '../services/applicationService';\nimport { Application, ApplicationStatus, StatusHistory, LoanCalculator } from '../utils/types/applications';\nimport MainLayout from '../components/layout/MainLayout';\nimport { useAuth } from '../contexts/AuthContext';\nimport { usePermissions } from '../contexts/PermissionsContext';\nimport { PERMISSIONS } from '../utils/constants/permissions';\n\nconst ApplicationDetail: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const { user } = useAuth();\n  const { userCan } = usePermissions();\n  \n  const [application, setApplication] = useState<Application | null>(null);\n  const [statusHistory, setStatusHistory] = useState<StatusHistory[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  const [showStatusModal, setShowStatusModal] = useState(false);\n  const [newStatus, setNewStatus] = useState<ApplicationStatus | ''>('');\n  const [statusComment, setStatusComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  // Obtener datos de la solicitud\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!id) return;\n      \n      setIsLoading(true);\n      setError(null);\n      \n      try {\n        // Obtener la aplicación\n        const appData = await ApplicationService.getApplicationById(id);\n        setApplication(appData);\n        \n        // Obtener historial de estados\n        if (appData) {\n          const history = await ApplicationService.getStatusHistory(id);\n          setStatusHistory(history);\n        }\n      } catch (err) {\n        console.error('Error fetching application data:', err);\n        setError('No se pudieron cargar los datos de la solicitud');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, [id]);\n  \n  const canChangeStatus = userCan(PERMISSIONS.EDIT_APPLICATION);\n  \n  // Formatear fecha\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  \n  // Formatear moneda\n  const formatCurrency = (amount?: number) => {\n    if (amount === undefined) return '';\n    \n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n    }).format(amount);\n  };\n  \n  // Obtener clase de color según estado\n  const getStatusClass = (status: ApplicationStatus) => {\n    switch (status) {\n      case ApplicationStatus.PENDING:\n        return 'badge-warning';\n      case ApplicationStatus.REVIEW:\n        return 'badge-info';\n      case ApplicationStatus.APPROVED:\n        return 'badge-success';\n      case ApplicationStatus.REJECTED:\n        return 'badge-error';\n      case ApplicationStatus.COMPLETED:\n        return 'badge-success';\n      case ApplicationStatus.CANCELLED:\n        return 'badge-neutral';\n      default:\n        return 'badge-ghost';\n    }\n  };\n  \n  // Obtener texto en español para el estado\n  const getStatusText = (status: ApplicationStatus) => {\n    switch (status) {\n      case ApplicationStatus.PENDING:\n        return 'Pendiente';\n      case ApplicationStatus.REVIEW:\n        return 'En Revisión';\n      case ApplicationStatus.APPROVED:\n        return 'Aprobada';\n      case ApplicationStatus.REJECTED:\n        return 'Rechazada';\n      case ApplicationStatus.COMPLETED:\n        return 'Completada';\n      case ApplicationStatus.CANCELLED:\n        return 'Cancelada';\n      default:\n        return status;\n    }\n  };\n  \n  // Obtener texto para el tipo de aplicación\n  const getTypeText = (type: string) => {\n    switch (type) {\n      case 'auto_loan':\n        return 'Crédito Automotriz';\n      case 'car_backed_loan':\n        return 'Crédito con Garantía Automotriz';\n      case 'personal_loan':\n        return 'Préstamo Personal';\n      case 'cash_advance':\n        return 'Adelanto de Efectivo';\n      default:\n        return type;\n    }\n  };\n  \n  // Manejar cambio de estado\n  const handleStatusChange = async () => {\n    if (!id || !application || !user || !newStatus || !statusComment.trim()) {\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    try {\n      const updatedApplication = await ApplicationService.changeApplicationStatus(\n        id,\n        newStatus as ApplicationStatus,\n        statusComment,\n        user.id\n      );\n      \n      if (updatedApplication) {\n        setApplication(updatedApplication);\n        \n        // Actualizar historial\n        const history = await ApplicationService.getStatusHistory(id);\n        setStatusHistory(history);\n        \n        // Cerrar modal y limpiar campos\n        setShowStatusModal(false);\n        setNewStatus('');\n        setStatusComment('');\n      }\n    } catch (err) {\n      console.error('Error changing application status:', err);\n      setError('Error al cambiar el estado de la solicitud');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  if (isLoading) {\n    return (\n      <MainLayout>\n        <div className=\"flex justify-center items-center h-96\">\n          <span className=\"loading loading-spinner loading-lg\"></span>\n        </div>\n      </MainLayout>\n    );\n  }\n  \n  if (error || !application) {\n    return (\n      <MainLayout>\n        <div className=\"p-6\">\n          <div className=\"alert alert-error\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"stroke-current shrink-0 h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>\n            <span>{error || 'No se encontró la solicitud'}</span>\n          </div>\n          <div className=\"mt-4\">\n            <Link to=\"/applications\" className=\"btn btn-primary\">\n              Volver a la lista\n            </Link>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n  \n  return (\n    <MainLayout>\n      <div className=\"p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n          <div>\n            <h1 className=\"text-2xl font-bold\">\n              Solicitud #{application.id}\n            </h1>\n            <p className=\"text-gray-500\">\n              Creada el {formatDate(application.created_at)}\n            </p>\n          </div>\n          \n          <div className=\"flex flex-wrap gap-2 mt-4 md:mt-0\">\n            {canChangeStatus && (\n              <button \n                className=\"btn btn-primary\"\n                onClick={() => setShowStatusModal(true)}\n              >\n                Cambiar Estado\n              </button>\n            )}\n            \n            {userCan(PERMISSIONS.EDIT_APPLICATION) && (\n              <Link to={`/applications/${application.id}/edit`} className=\"btn btn-outline\">\n                Editar\n              </Link>\n            )}\n            \n            <Link to=\"/applications\" className=\"btn btn-ghost\">\n              Volver\n            </Link>\n          </div>\n        </div>\n        \n        {/* Estado actual */}\n        <div className=\"alert mb-6\">\n          <span>Estado actual:</span>\n          <div className={`badge ${getStatusClass(application.status)}`}>\n            {getStatusText(application.status)}\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\">\n          {/* Información general */}\n          <div className=\"card bg-base-100 shadow-xl lg:col-span-2\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title\">Información General</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <h3 className=\"font-bold mb-2\">Datos del Solicitante</h3>\n                  <p><span className=\"font-medium\">Nombre:</span> {application.client_name}</p>\n                  <p><span className=\"font-medium\">Email:</span> {application.email}</p>\n                  <p><span className=\"font-medium\">Teléfono:</span> {application.phone}</p>\n                </div>\n                \n                <div>\n                  <h3 className=\"font-bold mb-2\">Datos del Crédito</h3>\n                  <p><span className=\"font-medium\">Tipo:</span> {getTypeText(application.type)}</p>\n                  <p><span className=\"font-medium\">Monto:</span> {formatCurrency(application.amount)}</p>\n                  <p><span className=\"font-medium\">Plazo:</span> {application.term_months} meses</p>\n                  <p><span className=\"font-medium\">Tasa de Interés:</span> {application.interest_rate}% anual</p>\n                </div>\n              </div>\n              \n              <div className=\"divider\"></div>\n              \n              <div>\n                <h3 className=\"font-bold mb-2\">Información Adicional</h3>\n                {application.notes ? (\n                  <p>{application.notes}</p>\n                ) : (\n                  <p className=\"text-gray-500\">No hay notas adicionales</p>\n                )}\n              </div>\n            </div>\n          </div>\n          \n          {/* Resumen financiero */}\n          <div className=\"card bg-base-100 shadow-xl\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title\">Resumen Financiero</h2>\n              \n              <div className=\"stats stats-vertical shadow\">\n                <div className=\"stat\">\n                  <div className=\"stat-title\">Monto Solicitado</div>\n                  <div className=\"stat-value text-primary\">{formatCurrency(application.amount)}</div>\n                </div>\n                \n                <div className=\"stat\">\n                  <div className=\"stat-title\">Pago Mensual</div>\n                  <div className=\"stat-value\">{formatCurrency(application.monthly_payment)}</div>\n                </div>\n                \n                <div className=\"stat\">\n                  <div className=\"stat-title\">Interés Total</div>\n                  <div className=\"stat-value text-secondary\">{formatCurrency(application.total_interest)}</div>\n                </div>\n                \n                <div className=\"stat\">\n                  <div className=\"stat-title\">Pago Total</div>\n                  <div className=\"stat-value\">{formatCurrency(application.total_payment)}</div>\n                </div>\n              </div>\n              \n              <div className=\"mt-4\">\n                <button className=\"btn btn-outline btn-block\">\n                  Ver Tabla de Amortización\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Historial de estados */}\n        <div className=\"card bg-base-100 shadow-xl mb-6\">\n          <div className=\"card-body\">\n            <h2 className=\"card-title\">Historial de Estados</h2>\n            \n            {statusHistory.length > 0 ? (\n              <ul className=\"timeline timeline-vertical\">\n                {statusHistory.map((entry, index) => (\n                  <li key={entry.id}>\n                    <div className={`timeline-start ${index % 2 === 0 ? 'timeline-box' : ''}`}>\n                      {formatDate(entry.created_at)}\n                    </div>\n                    <div className=\"timeline-middle\">\n                      <div className={`badge ${getStatusClass(entry.status)}`}></div>\n                    </div>\n                    <div className={`timeline-end ${index % 2 !== 0 ? 'timeline-box' : ''}`}>\n                      <p className=\"font-bold\">{getStatusText(entry.status)}</p>\n                      <p>{entry.comment}</p>\n                      <p className=\"text-sm italic\">Por: {entry.user_name}</p>\n                    </div>\n                    {index < statusHistory.length - 1 && <hr/>}\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <p className=\"text-gray-500\">No hay historial de estados</p>\n            )}\n          </div>\n        </div>\n        \n        {/* Documentos */}\n        <div className=\"card bg-base-100 shadow-xl\">\n          <div className=\"card-body\">\n            <h2 className=\"card-title\">Documentos</h2>\n            \n            <p className=\"text-gray-500\">No hay documentos adjuntos</p>\n            \n            {userCan(PERMISSIONS.EDIT_APPLICATION) && (\n              <div className=\"card-actions justify-end mt-4\">\n                <button className=\"btn btn-primary\">\n                  Subir Documento\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      {/* Modal de cambio de estado */}\n      {showStatusModal && (\n        <div className=\"modal modal-open\">\n          <div className=\"modal-box\">\n            <h3 className=\"font-bold text-lg\">Cambiar Estado de la Solicitud</h3>\n            \n            <div className=\"form-control w-full mt-4\">\n              <label className=\"label\">\n                <span className=\"label-text\">Nuevo Estado</span>\n              </label>\n              <select \n                className=\"select select-bordered w-full\" \n                value={newStatus}\n                onChange={(e) => setNewStatus(e.target.value as ApplicationStatus)}\n              >\n                <option value=\"\" disabled>Seleccionar nuevo estado</option>\n                <option value={ApplicationStatus.PENDING}>Pendiente</option>\n                <option value={ApplicationStatus.REVIEW}>En Revisión</option>\n                <option value={ApplicationStatus.APPROVED}>Aprobada</option>\n                <option value={ApplicationStatus.REJECTED}>Rechazada</option>\n                <option value={ApplicationStatus.COMPLETED}>Completada</option>\n                <option value={ApplicationStatus.CANCELLED}>Cancelada</option>\n              </select>\n            </div>\n            \n            <div className=\"form-control w-full mt-4\">\n              <label className=\"label\">\n                <span className=\"label-text\">Comentario</span>\n              </label>\n              <textarea \n                className=\"textarea textarea-bordered\" \n                placeholder=\"Explique el motivo del cambio de estado\"\n                value={statusComment}\n                onChange={(e) => setStatusComment(e.target.value)}\n              ></textarea>\n            </div>\n            \n            <div className=\"modal-action\">\n              <button \n                className=\"btn btn-ghost\"\n                onClick={() => setShowStatusModal(false)}\n              >\n                Cancelar\n              </button>\n              <button \n                className=\"btn btn-primary\"\n                disabled={!newStatus || !statusComment.trim() || isSubmitting}\n                onClick={handleStatusChange}\n              >\n                {isSubmitting ? (\n                  <>\n                    <span className=\"loading loading-spinner loading-xs\"></span>\n                    Guardando...\n                  </>\n                ) : 'Guardar Cambios'}\n              </button>\n            </div>\n          </div>\n          <div className=\"modal-backdrop\" onClick={() => setShowStatusModal(false)}></div>\n        </div>\n      )}\n    </MainLayout>\n  );\n};\n\nexport default ApplicationDetail; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAAsBC,iBAAiB,QAAuC,6BAA6B;AAC3G,OAAOC,UAAU,MAAM,iCAAiC;AACxD,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,cAAc,QAAQ,gCAAgC;AAC/D,SAASC,WAAW,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7D,MAAMC,iBAA2B,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxC,MAAM;IAAEC;EAAG,CAAC,GAAGd,SAAS,CAAiB,CAAC;EAC1C,MAAM;IAAEe;EAAK,CAAC,GAAGV,OAAO,CAAC,CAAC;EAC1B,MAAM;IAAEW;EAAQ,CAAC,GAAGV,cAAc,CAAC,CAAC;EAEpC,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAqB,IAAI,CAAC;EACxE,MAAM,CAACoB,aAAa,EAAEC,gBAAgB,CAAC,GAAGrB,QAAQ,CAAkB,EAAE,CAAC;EACvE,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAM,CAAC0B,eAAe,EAAEC,kBAAkB,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAyB,EAAE,CAAC;EACtE,MAAM,CAAC8B,aAAa,EAAEC,gBAAgB,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgC,YAAY,EAAEC,eAAe,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;;EAEvD;EACAD,SAAS,CAAC,MAAM;IACd,MAAMmC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI,CAACnB,EAAE,EAAE;MAETQ,YAAY,CAAC,IAAI,CAAC;MAClBE,QAAQ,CAAC,IAAI,CAAC;MAEd,IAAI;QACF;QACA,MAAMU,OAAO,GAAG,MAAMhC,kBAAkB,CAACiC,kBAAkB,CAACrB,EAAE,CAAC;QAC/DI,cAAc,CAACgB,OAAO,CAAC;;QAEvB;QACA,IAAIA,OAAO,EAAE;UACX,MAAME,OAAO,GAAG,MAAMlC,kBAAkB,CAACmC,gBAAgB,CAACvB,EAAE,CAAC;UAC7DM,gBAAgB,CAACgB,OAAO,CAAC;QAC3B;MACF,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZC,OAAO,CAAChB,KAAK,CAAC,kCAAkC,EAAEe,GAAG,CAAC;QACtDd,QAAQ,CAAC,iDAAiD,CAAC;MAC7D,CAAC,SAAS;QACRF,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDW,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACnB,EAAE,CAAC,CAAC;EAER,MAAM0B,eAAe,GAAGxB,OAAO,CAACT,WAAW,CAACkC,gBAAgB,CAAC;;EAE7D;EACA,MAAMC,UAAU,GAAIC,UAAkB,IAAK;IACzC,OAAO,IAAIC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;MACtDC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,MAAM;MACbC,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIC,MAAe,IAAK;IAC1C,IAAIA,MAAM,KAAKC,SAAS,EAAE,OAAO,EAAE;IAEnC,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACpCC,KAAK,EAAE,UAAU;MACjBC,QAAQ,EAAE;IACZ,CAAC,CAAC,CAACC,MAAM,CAACN,MAAM,CAAC;EACnB,CAAC;;EAED;EACA,MAAMO,cAAc,GAAIC,MAAyB,IAAK;IACpD,QAAQA,MAAM;MACZ,KAAKzD,iBAAiB,CAAC0D,OAAO;QAC5B,OAAO,eAAe;MACxB,KAAK1D,iBAAiB,CAAC2D,MAAM;QAC3B,OAAO,YAAY;MACrB,KAAK3D,iBAAiB,CAAC4D,QAAQ;QAC7B,OAAO,eAAe;MACxB,KAAK5D,iBAAiB,CAAC6D,QAAQ;QAC7B,OAAO,aAAa;MACtB,KAAK7D,iBAAiB,CAAC8D,SAAS;QAC9B,OAAO,eAAe;MACxB,KAAK9D,iBAAiB,CAAC+D,SAAS;QAC9B,OAAO,eAAe;MACxB;QACE,OAAO,aAAa;IACxB;EACF,CAAC;;EAED;EACA,MAAMC,aAAa,GAAIP,MAAyB,IAAK;IACnD,QAAQA,MAAM;MACZ,KAAKzD,iBAAiB,CAAC0D,OAAO;QAC5B,OAAO,WAAW;MACpB,KAAK1D,iBAAiB,CAAC2D,MAAM;QAC3B,OAAO,aAAa;MACtB,KAAK3D,iBAAiB,CAAC4D,QAAQ;QAC7B,OAAO,UAAU;MACnB,KAAK5D,iBAAiB,CAAC6D,QAAQ;QAC7B,OAAO,WAAW;MACpB,KAAK7D,iBAAiB,CAAC8D,SAAS;QAC9B,OAAO,YAAY;MACrB,KAAK9D,iBAAiB,CAAC+D,SAAS;QAC9B,OAAO,WAAW;MACpB;QACE,OAAON,MAAM;IACjB;EACF,CAAC;;EAED;EACA,MAAMQ,WAAW,GAAIC,IAAY,IAAK;IACpC,QAAQA,IAAI;MACV,KAAK,WAAW;QACd,OAAO,oBAAoB;MAC7B,KAAK,iBAAiB;QACpB,OAAO,iCAAiC;MAC1C,KAAK,eAAe;QAClB,OAAO,mBAAmB;MAC5B,KAAK,cAAc;QACjB,OAAO,sBAAsB;MAC/B;QACE,OAAOA,IAAI;IACf;EACF,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI,CAACxD,EAAE,IAAI,CAACG,WAAW,IAAI,CAACF,IAAI,IAAI,CAACY,SAAS,IAAI,CAACE,aAAa,CAAC0C,IAAI,CAAC,CAAC,EAAE;MACvE;IACF;IAEAvC,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACF,MAAMwC,kBAAkB,GAAG,MAAMtE,kBAAkB,CAACuE,uBAAuB,CACzE3D,EAAE,EACFa,SAAS,EACTE,aAAa,EACbd,IAAI,CAACD,EACP,CAAC;MAED,IAAI0D,kBAAkB,EAAE;QACtBtD,cAAc,CAACsD,kBAAkB,CAAC;;QAElC;QACA,MAAMpC,OAAO,GAAG,MAAMlC,kBAAkB,CAACmC,gBAAgB,CAACvB,EAAE,CAAC;QAC7DM,gBAAgB,CAACgB,OAAO,CAAC;;QAEzB;QACAV,kBAAkB,CAAC,KAAK,CAAC;QACzBE,YAAY,CAAC,EAAE,CAAC;QAChBE,gBAAgB,CAAC,EAAE,CAAC;MACtB;IACF,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZC,OAAO,CAAChB,KAAK,CAAC,oCAAoC,EAAEe,GAAG,CAAC;MACxDd,QAAQ,CAAC,4CAA4C,CAAC;IACxD,CAAC,SAAS;MACRQ,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,IAAIX,SAAS,EAAE;IACb,oBACEZ,OAAA,CAACL,UAAU;MAAAsE,QAAA,eACTjE,OAAA;QAAKkE,SAAS,EAAC,uCAAuC;QAAAD,QAAA,eACpDjE,OAAA;UAAMkE,SAAS,EAAC;QAAoC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAEjB;EAEA,IAAIxD,KAAK,IAAI,CAACN,WAAW,EAAE;IACzB,oBACER,OAAA,CAACL,UAAU;MAAAsE,QAAA,eACTjE,OAAA;QAAKkE,SAAS,EAAC,KAAK;QAAAD,QAAA,gBAClBjE,OAAA;UAAKkE,SAAS,EAAC,mBAAmB;UAAAD,QAAA,gBAChCjE,OAAA;YAAKuE,KAAK,EAAC,4BAA4B;YAACL,SAAS,EAAC,iCAAiC;YAACM,IAAI,EAAC,MAAM;YAACC,OAAO,EAAC,WAAW;YAAAR,QAAA,eAACjE,OAAA;cAAM0E,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAC,GAAG;cAACC,CAAC,EAAC;YAAsE;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACxQtE,OAAA;YAAAiE,QAAA,EAAOnD,KAAK,IAAI;UAA6B;YAAAqD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eACNtE,OAAA;UAAKkE,SAAS,EAAC,MAAM;UAAAD,QAAA,eACnBjE,OAAA,CAACR,IAAI;YAACsF,EAAE,EAAC,eAAe;YAACZ,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAC;UAErD;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAEjB;EAEA,oBACEtE,OAAA,CAACL,UAAU;IAAAsE,QAAA,gBACTjE,OAAA;MAAKkE,SAAS,EAAC,KAAK;MAAAD,QAAA,gBAClBjE,OAAA;QAAKkE,SAAS,EAAC,4EAA4E;QAAAD,QAAA,gBACzFjE,OAAA;UAAAiE,QAAA,gBACEjE,OAAA;YAAIkE,SAAS,EAAC,oBAAoB;YAAAD,QAAA,GAAC,aACtB,EAACzD,WAAW,CAACH,EAAE;UAAA;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxB,CAAC,eACLtE,OAAA;YAAGkE,SAAS,EAAC,eAAe;YAAAD,QAAA,GAAC,YACjB,EAAChC,UAAU,CAACzB,WAAW,CAACuE,UAAU,CAAC;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAENtE,OAAA;UAAKkE,SAAS,EAAC,mCAAmC;UAAAD,QAAA,GAC/ClC,eAAe,iBACd/B,OAAA;YACEkE,SAAS,EAAC,iBAAiB;YAC3Bc,OAAO,EAAEA,CAAA,KAAM/D,kBAAkB,CAAC,IAAI,CAAE;YAAAgD,QAAA,EACzC;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT,EAEA/D,OAAO,CAACT,WAAW,CAACkC,gBAAgB,CAAC,iBACpChC,OAAA,CAACR,IAAI;YAACsF,EAAE,EAAE,iBAAiBtE,WAAW,CAACH,EAAE,OAAQ;YAAC6D,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAC;UAE9E;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CACP,eAEDtE,OAAA,CAACR,IAAI;YAACsF,EAAE,EAAC,eAAe;YAACZ,SAAS,EAAC,eAAe;YAAAD,QAAA,EAAC;UAEnD;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtE,OAAA;QAAKkE,SAAS,EAAC,YAAY;QAAAD,QAAA,gBACzBjE,OAAA;UAAAiE,QAAA,EAAM;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC3BtE,OAAA;UAAKkE,SAAS,EAAE,SAAShB,cAAc,CAAC1C,WAAW,CAAC2C,MAAM,CAAC,EAAG;UAAAc,QAAA,EAC3DP,aAAa,CAAClD,WAAW,CAAC2C,MAAM;QAAC;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENtE,OAAA;QAAKkE,SAAS,EAAC,4CAA4C;QAAAD,QAAA,gBAEzDjE,OAAA;UAAKkE,SAAS,EAAC,0CAA0C;UAAAD,QAAA,eACvDjE,OAAA;YAAKkE,SAAS,EAAC,WAAW;YAAAD,QAAA,gBACxBjE,OAAA;cAAIkE,SAAS,EAAC,YAAY;cAAAD,QAAA,EAAC;YAAmB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAEnDtE,OAAA;cAAKkE,SAAS,EAAC,uCAAuC;cAAAD,QAAA,gBACpDjE,OAAA;gBAAAiE,QAAA,gBACEjE,OAAA;kBAAIkE,SAAS,EAAC,gBAAgB;kBAAAD,QAAA,EAAC;gBAAqB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACzDtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAO;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAAC9D,WAAW,CAACyE,WAAW;gBAAA;kBAAAd,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC7EtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAM;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAAC9D,WAAW,CAAC0E,KAAK;gBAAA;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACtEtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAAC9D,WAAW,CAAC2E,KAAK;gBAAA;kBAAAhB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE,CAAC,eAENtE,OAAA;gBAAAiE,QAAA,gBACEjE,OAAA;kBAAIkE,SAAS,EAAC,gBAAgB;kBAAAD,QAAA,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACrDtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAK;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAACX,WAAW,CAACnD,WAAW,CAACoD,IAAI,CAAC;gBAAA;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjFtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAM;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAAC5B,cAAc,CAAClC,WAAW,CAACmC,MAAM,CAAC;gBAAA;kBAAAwB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACvFtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAM;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAAC9D,WAAW,CAAC4E,WAAW,EAAC,QAAM;gBAAA;kBAAAjB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAClFtE,OAAA;kBAAAiE,QAAA,gBAAGjE,OAAA;oBAAMkE,SAAS,EAAC,aAAa;oBAAAD,QAAA,EAAC;kBAAgB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,KAAC,EAAC9D,WAAW,CAAC6E,aAAa,EAAC,SAAO;gBAAA;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5F,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENtE,OAAA;cAAKkE,SAAS,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAE/BtE,OAAA;cAAAiE,QAAA,gBACEjE,OAAA;gBAAIkE,SAAS,EAAC,gBAAgB;gBAAAD,QAAA,EAAC;cAAqB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACxD9D,WAAW,CAAC8E,KAAK,gBAChBtF,OAAA;gBAAAiE,QAAA,EAAIzD,WAAW,CAAC8E;cAAK;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,gBAE1BtE,OAAA;gBAAGkE,SAAS,EAAC,eAAe;gBAAAD,QAAA,EAAC;cAAwB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CACzD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNtE,OAAA;UAAKkE,SAAS,EAAC,4BAA4B;UAAAD,QAAA,eACzCjE,OAAA;YAAKkE,SAAS,EAAC,WAAW;YAAAD,QAAA,gBACxBjE,OAAA;cAAIkE,SAAS,EAAC,YAAY;cAAAD,QAAA,EAAC;YAAkB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAElDtE,OAAA;cAAKkE,SAAS,EAAC,6BAA6B;cAAAD,QAAA,gBAC1CjE,OAAA;gBAAKkE,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBACnBjE,OAAA;kBAAKkE,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAC;gBAAgB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAClDtE,OAAA;kBAAKkE,SAAS,EAAC,yBAAyB;kBAAAD,QAAA,EAAEvB,cAAc,CAAClC,WAAW,CAACmC,MAAM;gBAAC;kBAAAwB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChF,CAAC,eAENtE,OAAA;gBAAKkE,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBACnBjE,OAAA;kBAAKkE,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAC;gBAAY;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC9CtE,OAAA;kBAAKkE,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAEvB,cAAc,CAAClC,WAAW,CAAC+E,eAAe;gBAAC;kBAAApB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC,eAENtE,OAAA;gBAAKkE,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBACnBjE,OAAA;kBAAKkE,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC/CtE,OAAA;kBAAKkE,SAAS,EAAC,2BAA2B;kBAAAD,QAAA,EAAEvB,cAAc,CAAClC,WAAW,CAACgF,cAAc;gBAAC;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1F,CAAC,eAENtE,OAAA;gBAAKkE,SAAS,EAAC,MAAM;gBAAAD,QAAA,gBACnBjE,OAAA;kBAAKkE,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAC;gBAAU;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC5CtE,OAAA;kBAAKkE,SAAS,EAAC,YAAY;kBAAAD,QAAA,EAAEvB,cAAc,CAAClC,WAAW,CAACiF,aAAa;gBAAC;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1E,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENtE,OAAA;cAAKkE,SAAS,EAAC,MAAM;cAAAD,QAAA,eACnBjE,OAAA;gBAAQkE,SAAS,EAAC,2BAA2B;gBAAAD,QAAA,EAAC;cAE9C;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtE,OAAA;QAAKkE,SAAS,EAAC,iCAAiC;QAAAD,QAAA,eAC9CjE,OAAA;UAAKkE,SAAS,EAAC,WAAW;UAAAD,QAAA,gBACxBjE,OAAA;YAAIkE,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAoB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAEnD5D,aAAa,CAACgF,MAAM,GAAG,CAAC,gBACvB1F,OAAA;YAAIkE,SAAS,EAAC,4BAA4B;YAAAD,QAAA,EACvCvD,aAAa,CAACiF,GAAG,CAAC,CAACC,KAAK,EAAEC,KAAK,kBAC9B7F,OAAA;cAAAiE,QAAA,gBACEjE,OAAA;gBAAKkE,SAAS,EAAE,kBAAkB2B,KAAK,GAAG,CAAC,KAAK,CAAC,GAAG,cAAc,GAAG,EAAE,EAAG;gBAAA5B,QAAA,EACvEhC,UAAU,CAAC2D,KAAK,CAACb,UAAU;cAAC;gBAAAZ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1B,CAAC,eACNtE,OAAA;gBAAKkE,SAAS,EAAC,iBAAiB;gBAAAD,QAAA,eAC9BjE,OAAA;kBAAKkE,SAAS,EAAE,SAAShB,cAAc,CAAC0C,KAAK,CAACzC,MAAM,CAAC;gBAAG;kBAAAgB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CAAC,eACNtE,OAAA;gBAAKkE,SAAS,EAAE,gBAAgB2B,KAAK,GAAG,CAAC,KAAK,CAAC,GAAG,cAAc,GAAG,EAAE,EAAG;gBAAA5B,QAAA,gBACtEjE,OAAA;kBAAGkE,SAAS,EAAC,WAAW;kBAAAD,QAAA,EAAEP,aAAa,CAACkC,KAAK,CAACzC,MAAM;gBAAC;kBAAAgB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC1DtE,OAAA;kBAAAiE,QAAA,EAAI2B,KAAK,CAACE;gBAAO;kBAAA3B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACtBtE,OAAA;kBAAGkE,SAAS,EAAC,gBAAgB;kBAAAD,QAAA,GAAC,OAAK,EAAC2B,KAAK,CAACG,SAAS;gBAAA;kBAAA5B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,EACLuB,KAAK,GAAGnF,aAAa,CAACgF,MAAM,GAAG,CAAC,iBAAI1F,OAAA;gBAAAmE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA,GAZnCsB,KAAK,CAACvF,EAAE;cAAA8D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAab,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,gBAELtE,OAAA;YAAGkE,SAAS,EAAC,eAAe;YAAAD,QAAA,EAAC;UAA2B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAC5D;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNtE,OAAA;QAAKkE,SAAS,EAAC,4BAA4B;QAAAD,QAAA,eACzCjE,OAAA;UAAKkE,SAAS,EAAC,WAAW;UAAAD,QAAA,gBACxBjE,OAAA;YAAIkE,SAAS,EAAC,YAAY;YAAAD,QAAA,EAAC;UAAU;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAE1CtE,OAAA;YAAGkE,SAAS,EAAC,eAAe;YAAAD,QAAA,EAAC;UAA0B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,EAE1D/D,OAAO,CAACT,WAAW,CAACkC,gBAAgB,CAAC,iBACpChC,OAAA;YAAKkE,SAAS,EAAC,+BAA+B;YAAAD,QAAA,eAC5CjE,OAAA;cAAQkE,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAC;YAEpC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLtD,eAAe,iBACdhB,OAAA;MAAKkE,SAAS,EAAC,kBAAkB;MAAAD,QAAA,gBAC/BjE,OAAA;QAAKkE,SAAS,EAAC,WAAW;QAAAD,QAAA,gBACxBjE,OAAA;UAAIkE,SAAS,EAAC,mBAAmB;UAAAD,QAAA,EAAC;QAA8B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAErEtE,OAAA;UAAKkE,SAAS,EAAC,0BAA0B;UAAAD,QAAA,gBACvCjE,OAAA;YAAOkE,SAAS,EAAC,OAAO;YAAAD,QAAA,eACtBjE,OAAA;cAAMkE,SAAS,EAAC,YAAY;cAAAD,QAAA,EAAC;YAAY;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC,eACRtE,OAAA;YACEkE,SAAS,EAAC,+BAA+B;YACzC8B,KAAK,EAAE9E,SAAU;YACjB+E,QAAQ,EAAGC,CAAC,IAAK/E,YAAY,CAAC+E,CAAC,CAACC,MAAM,CAACH,KAA0B,CAAE;YAAA/B,QAAA,gBAEnEjE,OAAA;cAAQgG,KAAK,EAAC,EAAE;cAACI,QAAQ;cAAAnC,QAAA,EAAC;YAAwB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC3DtE,OAAA;cAAQgG,KAAK,EAAEtG,iBAAiB,CAAC0D,OAAQ;cAAAa,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC5DtE,OAAA;cAAQgG,KAAK,EAAEtG,iBAAiB,CAAC2D,MAAO;cAAAY,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC7DtE,OAAA;cAAQgG,KAAK,EAAEtG,iBAAiB,CAAC4D,QAAS;cAAAW,QAAA,EAAC;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC5DtE,OAAA;cAAQgG,KAAK,EAAEtG,iBAAiB,CAAC6D,QAAS;cAAAU,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC7DtE,OAAA;cAAQgG,KAAK,EAAEtG,iBAAiB,CAAC8D,SAAU;cAAAS,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC/DtE,OAAA;cAAQgG,KAAK,EAAEtG,iBAAiB,CAAC+D,SAAU;cAAAQ,QAAA,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENtE,OAAA;UAAKkE,SAAS,EAAC,0BAA0B;UAAAD,QAAA,gBACvCjE,OAAA;YAAOkE,SAAS,EAAC,OAAO;YAAAD,QAAA,eACtBjE,OAAA;cAAMkE,SAAS,EAAC,YAAY;cAAAD,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,eACRtE,OAAA;YACEkE,SAAS,EAAC,4BAA4B;YACtCmC,WAAW,EAAC,yCAAyC;YACrDL,KAAK,EAAE5E,aAAc;YACrB6E,QAAQ,EAAGC,CAAC,IAAK7E,gBAAgB,CAAC6E,CAAC,CAACC,MAAM,CAACH,KAAK;UAAE;YAAA7B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eAENtE,OAAA;UAAKkE,SAAS,EAAC,cAAc;UAAAD,QAAA,gBAC3BjE,OAAA;YACEkE,SAAS,EAAC,eAAe;YACzBc,OAAO,EAAEA,CAAA,KAAM/D,kBAAkB,CAAC,KAAK,CAAE;YAAAgD,QAAA,EAC1C;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTtE,OAAA;YACEkE,SAAS,EAAC,iBAAiB;YAC3BkC,QAAQ,EAAE,CAAClF,SAAS,IAAI,CAACE,aAAa,CAAC0C,IAAI,CAAC,CAAC,IAAIxC,YAAa;YAC9D0D,OAAO,EAAEnB,kBAAmB;YAAAI,QAAA,EAE3B3C,YAAY,gBACXtB,OAAA,CAAAE,SAAA;cAAA+D,QAAA,gBACEjE,OAAA;gBAAMkE,SAAS,EAAC;cAAoC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,gBAE9D;YAAA,eAAE,CAAC,GACD;UAAiB;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACf,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACNtE,OAAA;QAAKkE,SAAS,EAAC,gBAAgB;QAACc,OAAO,EAAEA,CAAA,KAAM/D,kBAAkB,CAAC,KAAK;MAAE;QAAAkD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7E,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAEjB,CAAC;AAAClE,EAAA,CA7ZID,iBAA2B;EAAA,QAChBZ,SAAS,EACPK,OAAO,EACJC,cAAc;AAAA;AAAAyG,EAAA,GAH9BnG,iBAA2B;AA+ZjC,eAAeA,iBAAiB;AAAC,IAAAmG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}