{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{PERMISSIONS}from'../utils/constants/permissions';import{usePermissions}from'../contexts/PermissionsContext';import{useAuth}from'../contexts/AuthContext';import MainLayout from'../components/layout/MainLayout';import{getApplications}from'../services/applicationService';import Alert from'../components/ui/Alert';import{APPLICATION_TYPE_LABELS}from'../utils/constants/applications';import{STATUS_LABELS}from'../utils/constants/statuses';import{formatDate}from'../utils/formatters';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Applications=()=>{const{userCan}=usePermissions();const{user}=useAuth();const{getEntityFilter,shouldFilterByEntity}=usePermissions();const navigate=useNavigate();const[applications,setApplications]=useState([]);const[isLoading,setIsLoading]=useState(true);const[searchQuery,setSearchQuery]=useState('');const[statusFilter,setStatusFilter]=useState('all');const[typeFilter,setTypeFilter]=useState('all');const[dateFromFilter,setDateFromFilter]=useState('');const[dateToFilter,setDateToFilter]=useState('');const[amountMinFilter,setAmountMinFilter]=useState('');const[amountMaxFilter,setAmountMaxFilter]=useState('');const[isFilterExpanded,setIsFilterExpanded]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const fetchApplications=async()=>{setIsLoading(true);setError(null);try{// Aplicar filtros según el rol del usuario\nconst entityFilter=shouldFilterByEntity()?getEntityFilter():null;// Crear objeto de filtros para la búsqueda\nconst filters={status:statusFilter!=='all'?statusFilter:undefined,searchQuery:searchQuery||undefined,application_type:typeFilter!=='all'?typeFilter:undefined,dateFrom:dateFromFilter||undefined,dateTo:dateToFilter||undefined,amountMin:amountMinFilter?parseFloat(amountMinFilter):undefined,amountMax:amountMaxFilter?parseFloat(amountMaxFilter):undefined};// Obtener las aplicaciones del servicio\nconst data=await getApplications(filters,entityFilter);setApplications(data);}catch(error){console.error('Error fetching applications:',error);setError('Error al cargar las solicitudes: '+(error.message||'Error desconocido'));}finally{setIsLoading(false);}};fetchApplications();},[searchQuery,statusFilter,typeFilter,dateFromFilter,dateToFilter,amountMinFilter,amountMaxFilter,shouldFilterByEntity,getEntityFilter]);const handleFilterToggle=()=>{setIsFilterExpanded(!isFilterExpanded);};const handleClearFilters=()=>{setSearchQuery('');setStatusFilter('all');setTypeFilter('all');setDateFromFilter('');setDateToFilter('');setAmountMinFilter('');setAmountMaxFilter('');};const getStatusClass=status=>{switch(status){case'pending':return'badge-warning';case'review':return'badge-info';case'approved':return'badge-success';case'rejected':return'badge-error';default:return'badge-ghost';}};const getStatusText=status=>{return STATUS_LABELS[status]||status;};const getTypeText=(type,productType)=>{if(productType&&type==='selected_plans'){return getApplicationTypeLabel(productType);}const typeLabels={'selected_plans':'Planes Seleccionados','product_simulations':'Simulación','cash_requests':'Solicitud de Efectivo'};return typeLabels[type]||type;};const formatCurrency=amount=>{return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP'}).format(amount);};// Función para obtener la etiqueta del tipo de aplicación\nconst getApplicationTypeLabel=type=>{return APPLICATION_TYPE_LABELS[type]||type;};if(!userCan(PERMISSIONS.VIEW_APPLICATIONS)){return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-96\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-700\",children:\"Acceso Restringido\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"No tienes permisos para ver esta p\\xE1gina.\"})]})})});}return/*#__PURE__*/_jsx(MainLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 md:mb-0\",children:\"Solicitudes de Cr\\xE9dito\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/applications/kanban\",className:\"btn btn-outline\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 10h16M4 14h16M4 18h16\"})}),\"Vista Kanban\"]}),userCan(PERMISSIONS.CREATE_APPLICATION)&&/*#__PURE__*/_jsxs(Link,{to:\"/applications/new\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\",clipRule:\"evenodd\"})}),\"Nueva Solicitud\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline\",onClick:()=>{setIsLoading(true);const entityFilter=shouldFilterByEntity()?getEntityFilter():null;// Crear objeto de filtros para la búsqueda\nconst filters={status:statusFilter!=='all'?statusFilter:undefined,searchQuery:searchQuery||undefined,application_type:typeFilter!=='all'?typeFilter:undefined,dateFrom:dateFromFilter||undefined,dateTo:dateToFilter||undefined,amountMin:amountMinFilter?parseFloat(amountMinFilter):undefined,amountMax:amountMaxFilter?parseFloat(amountMaxFilter):undefined};getApplications(filters,entityFilter).then(data=>{setApplications(data);setIsLoading(false);}).catch(error=>{console.error('Error al sincronizar aplicaciones:',error);setError('Error al sincronizar: '+(error.message||'Error desconocido'));setIsLoading(false);});},title:\"Sincronizar datos\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})}),\"Sincronizar\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline\",onClick:handleFilterToggle,children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5 mr-2\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"})}),isFilterExpanded?'Ocultar Filtros':'Mostrar Filtros']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-base-100 shadow-xl rounded-box p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar por nombre, email o tel\\xE9fono\",className:\"input input-bordered w-full\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-square\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]})}),isFilterExpanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-base-200 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Filtros Avanzados\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Estado\"})}),/*#__PURE__*/_jsxs(\"select\",{className:\"select select-bordered w-full\",value:statusFilter,onChange:e=>setStatusFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos los estados\"}),Object.entries(STATUS_LABELS).map(_ref=>{let[value,label]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:value,children:label},value);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Tipo de Aplicaci\\xF3n\"})}),/*#__PURE__*/_jsxs(\"select\",{className:\"select select-bordered w-full\",value:typeFilter,onChange:e=>setTypeFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos los tipos\"}),Object.entries(APPLICATION_TYPE_LABELS).map(_ref2=>{let[value,label]=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:value,children:label},value);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Fecha Desde\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"input input-bordered w-full\",value:dateFromFilter,onChange:e=>setDateFromFilter(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Fecha Hasta\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"input input-bordered w-full\",value:dateToFilter,onChange:e=>setDateToFilter(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Monto M\\xEDnimo\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",className:\"input input-bordered w-full\",value:amountMinFilter,onChange:e=>setAmountMinFilter(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Monto M\\xE1ximo\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"0\",className:\"input input-bordered w-full\",value:amountMaxFilter,onChange:e=>setAmountMaxFilter(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-ghost\",onClick:handleClearFilters,children:\"Limpiar Filtros\"})})]})]}),error&&/*#__PURE__*/_jsx(Alert,{type:\"error\",message:error,onClose:()=>setError(null),className:\"mb-6\"}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loading loading-spinner loading-lg\"})}):applications.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-12 w-12 mx-auto text-gray-400\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4 text-xl font-medium text-gray-600\",children:\"No se encontraron solicitudes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-500\",children:\"Intenta cambiar los filtros de b\\xFAsqueda\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-zebra w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Empresa\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Monto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha y Hora\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:applications.map(application=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover cursor-pointer\",onClick:()=>navigate(`/applications/${application.id}`),children:[/*#__PURE__*/_jsx(\"td\",{children:application.client_name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:application.company_name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:application.application_type==='selected_plans'&&application.product_type?getApplicationTypeLabel(application.product_type):getApplicationTypeLabel(application.application_type)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(Number(application.amount||0))}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`badge badge-${application.status==='approved'?'success':application.status==='rejected'?'error':application.status==='pending'?'warning':application.status==='in_review'?'info':'ghost'}`,children:application.status})}),/*#__PURE__*/_jsx(\"td\",{children:application.created_at?formatDate(application.created_at,'datetime'):'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown dropdown-end\",children:[/*#__PURE__*/_jsx(\"label\",{tabIndex:0,className:\"btn btn-ghost btn-circle\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\"})})}),/*#__PURE__*/_jsx(\"ul\",{tabIndex:0,className:\"dropdown-content menu menu-compact mt-3 p-2 shadow bg-base-100 rounded-box w-52\",children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:`/applications/${application.id}`,className:\"justify-between\",children:[\"Ver Detalle\",/*#__PURE__*/_jsx(\"span\",{className:\"text-info\",children:\"\\u2318T\"})]})})})]})})]},application.id))})]})})]})]})});};export default Applications;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","PERMISSIONS","usePermissions","useAuth","MainLayout","getApplications","Alert","APPLICATION_TYPE_LABELS","STATUS_LABELS","formatDate","jsx","_jsx","jsxs","_jsxs","Applications","userCan","user","getEntityFilter","shouldFilterByEntity","navigate","applications","setApplications","isLoading","setIsLoading","searchQuery","setSearchQuery","statusFilter","setStatusFilter","typeFilter","setTypeFilter","dateFromFilter","setDateFromFilter","dateToFilter","setDateToFilter","amountMinFilter","setAmountMinFilter","amountMaxFilter","setAmountMaxFilter","isFilterExpanded","setIsFilterExpanded","error","setError","fetchApplications","entityFilter","filters","status","undefined","application_type","dateFrom","dateTo","amountMin","parseFloat","amountMax","data","console","message","handleFilterToggle","handleClearFilters","getStatusClass","getStatusText","getTypeText","type","productType","getApplicationTypeLabel","typeLabels","formatCurrency","amount","Intl","NumberFormat","style","currency","format","VIEW_APPLICATIONS","children","className","to","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","CREATE_APPLICATION","fillRule","clipRule","onClick","then","catch","title","placeholder","value","onChange","e","target","Object","entries","map","_ref","label","_ref2","onClose","length","application","id","client_name","company_name","product_type","Number","created_at","tabIndex"],"sources":["/Users/diegogg98/NEW CRM MAR18/src/pages/Applications.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { PERMISSIONS } from '../utils/constants/permissions';\nimport { usePermissions } from '../contexts/PermissionsContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport MainLayout from '../components/layout/MainLayout';\nimport { getApplications, Application as ApplicationType, ApplicationFilter } from '../services/applicationService';\nimport Alert from '../components/ui/Alert';\nimport { APPLICATION_TYPE, APPLICATION_TYPE_LABELS } from '../utils/constants/applications';\nimport { APPLICATION_STATUS, STATUS_LABELS } from '../utils/constants/statuses';\nimport { formatCurrency, formatDate } from '../utils/formatters';\n\nconst Applications: React.FC = () => {\n  const { userCan } = usePermissions();\n  const { user } = useAuth();\n  const { getEntityFilter, shouldFilterByEntity } = usePermissions();\n  const navigate = useNavigate();\n  \n  const [applications, setApplications] = useState<ApplicationType[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n  const [typeFilter, setTypeFilter] = useState<string>('all');\n  const [dateFromFilter, setDateFromFilter] = useState<string>('');\n  const [dateToFilter, setDateToFilter] = useState<string>('');\n  const [amountMinFilter, setAmountMinFilter] = useState<string>('');\n  const [amountMaxFilter, setAmountMaxFilter] = useState<string>('');\n  const [isFilterExpanded, setIsFilterExpanded] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  useEffect(() => {\n    const fetchApplications = async () => {\n      setIsLoading(true);\n      setError(null);\n      \n      try {\n        // Aplicar filtros según el rol del usuario\n        const entityFilter = shouldFilterByEntity() ? getEntityFilter() : null;\n        \n        // Crear objeto de filtros para la búsqueda\n        const filters: ApplicationFilter = {\n          status: statusFilter !== 'all' ? statusFilter : undefined,\n          searchQuery: searchQuery || undefined,\n          application_type: typeFilter !== 'all' ? typeFilter : undefined,\n          dateFrom: dateFromFilter || undefined,\n          dateTo: dateToFilter || undefined,\n          amountMin: amountMinFilter ? parseFloat(amountMinFilter) : undefined,\n          amountMax: amountMaxFilter ? parseFloat(amountMaxFilter) : undefined\n        };\n        \n        // Obtener las aplicaciones del servicio\n        const data = await getApplications(filters, entityFilter);\n        setApplications(data);\n      } catch (error: any) {\n        console.error('Error fetching applications:', error);\n        setError('Error al cargar las solicitudes: ' + (error.message || 'Error desconocido'));\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchApplications();\n  }, [searchQuery, statusFilter, typeFilter, dateFromFilter, dateToFilter, amountMinFilter, amountMaxFilter, shouldFilterByEntity, getEntityFilter]);\n  \n  const handleFilterToggle = () => {\n    setIsFilterExpanded(!isFilterExpanded);\n  };\n  \n  const handleClearFilters = () => {\n    setSearchQuery('');\n    setStatusFilter('all');\n    setTypeFilter('all');\n    setDateFromFilter('');\n    setDateToFilter('');\n    setAmountMinFilter('');\n    setAmountMaxFilter('');\n  };\n  \n  const getStatusClass = (status: string) => {\n    switch (status) {\n      case 'pending':\n        return 'badge-warning';\n      case 'review':\n        return 'badge-info';\n      case 'approved':\n        return 'badge-success';\n      case 'rejected':\n        return 'badge-error';\n      default:\n        return 'badge-ghost';\n    }\n  };\n  \n  const getStatusText = (status: string) => {\n    return STATUS_LABELS[status as keyof typeof STATUS_LABELS] || status;\n  };\n  \n  const getTypeText = (type: string, productType?: string) => {\n    if (productType && type === 'selected_plans') {\n      return getApplicationTypeLabel(productType);\n    }\n    \n    const typeLabels: Record<string, string> = {\n      'selected_plans': 'Planes Seleccionados',\n      'product_simulations': 'Simulación',\n      'cash_requests': 'Solicitud de Efectivo'\n    };\n    \n    return typeLabels[type] || type;\n  };\n  \n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('es-CL', {\n      style: 'currency',\n      currency: 'CLP',\n    }).format(amount);\n  };\n  \n  // Función para obtener la etiqueta del tipo de aplicación\n  const getApplicationTypeLabel = (type: string): string => {\n    return APPLICATION_TYPE_LABELS[type as keyof typeof APPLICATION_TYPE_LABELS] || type;\n  };\n  \n  if (!userCan(PERMISSIONS.VIEW_APPLICATIONS)) {\n    return (\n      <MainLayout>\n        <div className=\"flex items-center justify-center h-96\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-700\">Acceso Restringido</h2>\n            <p className=\"text-gray-500 mt-2\">No tienes permisos para ver esta página.</p>\n          </div>\n        </div>\n      </MainLayout>\n    );\n  }\n  \n  return (\n    <MainLayout>\n      <div className=\"p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n          <h1 className=\"text-2xl font-bold mb-4 md:mb-0\">Solicitudes de Crédito</h1>\n          \n          <div className=\"flex gap-2\">\n            <Link to=\"/applications/kanban\" className=\"btn btn-outline\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 10h16M4 14h16M4 18h16\" />\n              </svg>\n              Vista Kanban\n            </Link>\n            \n            {userCan(PERMISSIONS.CREATE_APPLICATION) && (\n              <Link to=\"/applications/new\" className=\"btn btn-primary\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z\" clipRule=\"evenodd\" />\n                </svg>\n                Nueva Solicitud\n              </Link>\n            )}\n            \n            <button \n              className=\"btn btn-outline\"\n              onClick={() => {\n                setIsLoading(true);\n                const entityFilter = shouldFilterByEntity() ? getEntityFilter() : null;\n                // Crear objeto de filtros para la búsqueda\n                const filters: ApplicationFilter = {\n                  status: statusFilter !== 'all' ? statusFilter : undefined,\n                  searchQuery: searchQuery || undefined,\n                  application_type: typeFilter !== 'all' ? typeFilter : undefined,\n                  dateFrom: dateFromFilter || undefined,\n                  dateTo: dateToFilter || undefined,\n                  amountMin: amountMinFilter ? parseFloat(amountMinFilter) : undefined,\n                  amountMax: amountMaxFilter ? parseFloat(amountMaxFilter) : undefined\n                };\n                getApplications(filters, entityFilter)\n                  .then(data => {\n                    setApplications(data);\n                    setIsLoading(false);\n                  })\n                  .catch(error => {\n                    console.error('Error al sincronizar aplicaciones:', error);\n                    setError('Error al sincronizar: ' + (error.message || 'Error desconocido'));\n                    setIsLoading(false);\n                  });\n              }}\n              title=\"Sincronizar datos\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n              </svg>\n              Sincronizar\n            </button>\n            \n            <button \n              className=\"btn btn-outline\" \n              onClick={handleFilterToggle}\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\" />\n              </svg>\n              {isFilterExpanded ? 'Ocultar Filtros' : 'Mostrar Filtros'}\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"bg-base-100 shadow-xl rounded-box p-6 mb-6\">\n          <div className=\"flex flex-col gap-4 mb-6\">\n            <div className=\"form-control w-full\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Buscar por nombre, email o teléfono\"\n                  className=\"input input-bordered w-full\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                />\n                <button className=\"btn btn-square\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n            \n            {isFilterExpanded && (\n              <div className=\"bg-base-200 p-4 rounded-lg\">\n                <h3 className=\"text-lg font-semibold mb-4\">Filtros Avanzados</h3>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n                  <div className=\"form-control\">\n                    <label className=\"label\">\n                      <span className=\"label-text\">Estado</span>\n                    </label>\n                    <select\n                      className=\"select select-bordered w-full\"\n                      value={statusFilter}\n                      onChange={(e) => setStatusFilter(e.target.value)}\n                    >\n                      <option value=\"all\">Todos los estados</option>\n                      {Object.entries(STATUS_LABELS).map(([value, label]) => (\n                        <option key={value} value={value}>{label}</option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div className=\"form-control\">\n                    <label className=\"label\">\n                      <span className=\"label-text\">Tipo de Aplicación</span>\n                    </label>\n                    <select\n                      className=\"select select-bordered w-full\"\n                      value={typeFilter}\n                      onChange={(e) => setTypeFilter(e.target.value)}\n                    >\n                      <option value=\"all\">Todos los tipos</option>\n                      {Object.entries(APPLICATION_TYPE_LABELS).map(([value, label]) => (\n                        <option key={value} value={value}>{label}</option>\n                      ))}\n                    </select>\n                  </div>\n                  \n                  <div className=\"form-control\">\n                    <label className=\"label\">\n                      <span className=\"label-text\">Fecha Desde</span>\n                    </label>\n                    <input\n                      type=\"date\"\n                      className=\"input input-bordered w-full\"\n                      value={dateFromFilter}\n                      onChange={(e) => setDateFromFilter(e.target.value)}\n                    />\n                  </div>\n                  \n                  <div className=\"form-control\">\n                    <label className=\"label\">\n                      <span className=\"label-text\">Fecha Hasta</span>\n                    </label>\n                    <input\n                      type=\"date\"\n                      className=\"input input-bordered w-full\"\n                      value={dateToFilter}\n                      onChange={(e) => setDateToFilter(e.target.value)}\n                    />\n                  </div>\n                  \n                  <div className=\"form-control\">\n                    <label className=\"label\">\n                      <span className=\"label-text\">Monto Mínimo</span>\n                    </label>\n                    <input\n                      type=\"number\"\n                      placeholder=\"0\"\n                      className=\"input input-bordered w-full\"\n                      value={amountMinFilter}\n                      onChange={(e) => setAmountMinFilter(e.target.value)}\n                    />\n                  </div>\n                  \n                  <div className=\"form-control\">\n                    <label className=\"label\">\n                      <span className=\"label-text\">Monto Máximo</span>\n                    </label>\n                    <input\n                      type=\"number\"\n                      placeholder=\"0\"\n                      className=\"input input-bordered w-full\"\n                      value={amountMaxFilter}\n                      onChange={(e) => setAmountMaxFilter(e.target.value)}\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"flex justify-end\">\n                  <button \n                    className=\"btn btn-ghost\"\n                    onClick={handleClearFilters}\n                  >\n                    Limpiar Filtros\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {error && (\n            <Alert \n              type=\"error\" \n              message={error}\n              onClose={() => setError(null)}\n              className=\"mb-6\"\n            />\n          )}\n          \n          {isLoading ? (\n            <div className=\"flex justify-center items-center h-64\">\n              <span className=\"loading loading-spinner loading-lg\"></span>\n            </div>\n          ) : applications.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 mx-auto text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n              <h3 className=\"mt-4 text-xl font-medium text-gray-600\">No se encontraron solicitudes</h3>\n              <p className=\"mt-2 text-gray-500\">Intenta cambiar los filtros de búsqueda</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"table table-zebra w-full\">\n                <thead>\n                  <tr>\n                    <th>Cliente</th>\n                    <th>Empresa</th>\n                    <th>Tipo</th>\n                    <th>Monto</th>\n                    <th>Estado</th>\n                    <th>Fecha y Hora</th>\n                    <th>Acciones</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {applications.map((application) => (\n                    <tr key={application.id} className=\"hover cursor-pointer\" onClick={() => navigate(`/applications/${application.id}`)}>\n                      <td>{application.client_name || 'N/A'}</td>\n                      <td>{application.company_name || 'N/A'}</td>\n                      <td>\n                        {application.application_type === 'selected_plans' && application.product_type\n                          ? getApplicationTypeLabel(application.product_type)\n                          : getApplicationTypeLabel(application.application_type)}\n                      </td>\n                      <td>{formatCurrency(Number(application.amount || 0))}</td>\n                      <td>\n                        <span\n                          className={`badge badge-${\n                            application.status === 'approved'\n                              ? 'success'\n                              : application.status === 'rejected'\n                              ? 'error'\n                              : application.status === 'pending'\n                              ? 'warning'\n                              : application.status === 'in_review'\n                              ? 'info'\n                              : 'ghost'\n                          }`}\n                        >\n                          {application.status}\n                        </span>\n                      </td>\n                      <td>{application.created_at ? formatDate(application.created_at, 'datetime') : 'N/A'}</td>\n                      <td>\n                        <div className=\"dropdown dropdown-end\">\n                          <label tabIndex={0} className=\"btn btn-ghost btn-circle\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\" />\n                            </svg>\n                          </label>\n                          <ul tabIndex={0} className=\"dropdown-content menu menu-compact mt-3 p-2 shadow bg-base-100 rounded-box w-52\">\n                            <li>\n                              <Link to={`/applications/${application.id}`} className=\"justify-between\">\n                                Ver Detalle\n                                <span className=\"text-info\">⌘T</span>\n                              </Link>\n                            </li>\n                          </ul>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n    </MainLayout>\n  );\n};\n\nexport default Applications; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}